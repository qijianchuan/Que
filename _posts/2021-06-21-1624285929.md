---
title: "警告： 编码 GBK 的不可映射字符"怎么处理
categories: IDE
tags: javadoc eclipse html access ant file
---
完善api-doc，用eclipse生成javadoc的时候发生“编码 GBK 的不可映射字符 ”，很是恼火。其实是字符编码问题。  
打开eclipse，project -> Generate javadoc 一项一项的选你要输出javadoc的项目，在VM设置中加入以下代码
-encoding utf-8 -charset utf-8

这次操作，输出的html代码不会发生“编码 GBK 的不可映射字符 ”问题，而且html字符编码都设为了UTF-8，问题彻底解决。

对应的ant target 如下

  1. **< target** name="javadoc" **>**
  2.   3. **< echo>**+---------------------------------------------------+ **< /echo>**
  4. **< echo>**| Building Doc File | **< /echo>**
  5. **< echo>**+---------------------------------------------------+ **< /echo>**
  6.   7. **< javadoc** access="protected"
  8. additionalparam="-encoding utf-8 -charset utf-8 "
  9. author="true"
  10. classpath="${classes.dir}"
  11. destdir="${doc.dir}/api"
  12. nodeprecated="false"
  13. nodeprecatedlist="false"
  14. noindex="false"
  15. nonavbar="false"
  16. notree="false"
  17. packagenames="org.xxx.common.web.tag.go"
  18. source="1.6"
  19. sourcepath="${src.dir}"
  20. splitindex="true"
  21. use="true"
  22. version="true"
  23. **>**
  24. **< link** href="http://java.sun.com/javase/6/docs/api/" **/ >**
  25. **< /javadoc>**
  26. **< /target>**

