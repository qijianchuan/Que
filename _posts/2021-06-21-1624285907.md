---
title: Java警告：编码 GBK 的不可映射字符（使用Editplus编辑器）
categories: java
tags: java
---
Java警告：编码GBK的不可映射字符（使用Ediplus编辑器）

  

代码如下：

    
    
    public class ByteTest{
        public static void main (String [] args)
        {
            Byte b1 = 1;
            Byte b2 = 2;
            //b2 = b1 + b2;
            //System.out.println(b2);//编译出错。两个 Byte 类型数值相加结果为 int 型
    		int b3 = b1 + b2;
    		System.out.println(b3);
        }
    }
    

  
编译后出错：

![](data:image/png;base64,PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9JRVRGLy9EVEQgSFRNTCAyLjAvL0VOIj4NCjxodG1sPg0KPGhlYWQ+PHRpdGxlPjQwMyBGb3JiaWRkZW48L3RpdGxlPjwvaGVhZD4NCjxib2R5Pg0KPGgxPjQwMyBGb3JiaWRkZW48L2gxPg0KPHA+WW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhlIFVSTCBvbiB0aGlzIHNlcnZlci48aHIvPlBvd2VyZWQgYnkgVGVuZ2luZTwvYm9keT4NCjwvaHRtbD4NCg==)  

  

原因（来自网络搜索）：

由于JDK是国际版的，在编译的时候，如果我们没有用-
encoding参数指定我们的JAVA源程序的编码格式，则javac.exe首先获得我们操作系统默认采用的编码格式，也即在编译java程序时，若我们不指定源程序文件的编码格式，JDK首先获得操作系统的file.encoding参数(它保存的就是操作系统默认的编码格式，如WIN2k，它的值为GBK)，然后JDK就把我们的java源程序从file.encoding编码格式转化为JAVA内部默认的UNICODE格式放入内存中。然后，javac把转换后的unicode格式的文件进行编译成.class类文件，此时.class文件是UNICODE编码的，它暂放在内存中，紧接着，JDK将此以UNICODE编码的编译后的class文件保存到我们的操作系统中形成我们见到的.class文件。对我们来说，我们最终获得的.class文件是内容以UNICODE编码格式保存的类文件，它内部包含我们源程序中的中文字符串，只不过此时它己经由file.encoding格式转化为UNICODE格式了。当我们不加设置就编译时，相当于使用了参数：javac
-encoding gbk XX.java，当然就会出现不兼容的情况。  

  

  

  

解决方法：

方法一、对于不是平台默认编码的情况下，java源文件在编译时，需要 **指定源文件的编码** ，否则无法正常编译。  
对于win下默认的GBK编码：  
C:\>javac ByteTest.java  
或者C:\>javac -encoding GBK ByteTest.java  
或者C:\>javac -encoding utf-8 ByteTest.java  

![](data:image/png;base64,PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9JRVRGLy9EVEQgSFRNTCAyLjAvL0VOIj4NCjxodG1sPg0KPGhlYWQ+PHRpdGxlPjQwMyBGb3JiaWRkZW48L3RpdGxlPjwvaGVhZD4NCjxib2R5Pg0KPGgxPjQwMyBGb3JiaWRkZW48L2gxPg0KPHA+WW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhlIFVSTCBvbiB0aGlzIHNlcnZlci48aHIvPlBvd2VyZWQgYnkgVGVuZ2luZTwvYm9keT4NCjwvaHRtbD4NCg==)  

  

方法二、windows下用文本编辑器（editplus）查看该文件的编码格式，将其改为 ANSI格式，然后再编译运行即可。

![](data:image/png;base64,PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9JRVRGLy9EVEQgSFRNTCAyLjAvL0VOIj4NCjxodG1sPg0KPGhlYWQ+PHRpdGxlPjQwMyBGb3JiaWRkZW48L3RpdGxlPjwvaGVhZD4NCjxib2R5Pg0KPGgxPjQwMyBGb3JiaWRkZW48L2gxPg0KPHA+WW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhlIFVSTCBvbiB0aGlzIHNlcnZlci48aHIvPlBvd2VyZWQgYnkgVGVuZ2luZTwvYm9keT4NCjwvaHRtbD4NCg==)

  

  

