---
title: 如何根据 DateTime 类型的生日计算某人的年龄？

has_more: false
items:
- accepted_answer_id: 1404
  answer_count: 64
  answers:
  - answer_id: 22
    body: <p>由于闰年和一切，我所知道的最好的方法是：</p><pre class="lang-cs prettyprint-override"> <code>DateTime
      birthDate = new DateTime(2000,3,1); int age = (int)Math.Floor((DateTime.Now
      - birthDate).TotalDays / 365.25D);</code></pre>
    community_owned_date: 1313523643
    content_license: CC BY-SA 4.0
    creation_date: 1217592439
    is_accepted: false
    last_activity_date: 1582939903
    last_edit_date: 1582939903
    owner:
      accept_rate: 96
      account_id: 12
      display_name: Nick Berardi
      link: https://stackoverflow.com/users/17/nick-berardi
      profile_image: https://www.gravatar.com/avatar/42893555ea66c988b51c9167a650d849?s=128&d=identicon&r=PG
      reputation: 52711
      user_id: 17
      user_type: registered
    question_id: 9
    score: 51
  - answer_id: 229
    body: <p>另一个功能，不是我的，而是在网上找到的，并稍微改进了一下：</p><pre> <code>public static int GetAge(DateTime
      birthDate) { DateTime n = DateTime.Now; // To avoid a race condition around
      midnight int age = n.Year - birthDate.Year; if (n.Month &lt; birthDate.Month
      || (n.Month == birthDate.Month &amp;&amp; n.Day &lt; birthDate.Day)) age--;
      return age; }</code></pre><p>我想到了两件事：来自不使用公历的国家的人呢？我认为 DateTime.Now 处于特定于服务器的文化中。我对实际使用亚洲日历的知识完全为零，我不知道是否有一种简单的方法可以在日历之间转换日期，但以防万一你想知道
      4660 年的那些中国人:-)</p>
    comments:
    - body: 这似乎可以最好地处理不同的区域（日期格式）。
      comment_id: 68275266
      content_license: CC BY-SA 3.0
      creation_date: 1478729186
      edited: false
      owner:
        accept_rate: 91
        account_id: 160338
        display_name: webdad3
        link: https://stackoverflow.com/users/380317/webdad3
        profile_image: https://i.stack.imgur.com/EPsqh.png?s=128&g=1
        reputation: 8498
        user_id: 380317
        user_type: registered
      post_id: 229
      score: 0
    community_owned_date: 1313523643
    content_license: CC BY-SA 4.0
    creation_date: 1217627172
    is_accepted: false
    last_activity_date: 1582939863
    last_edit_date: 1582939863
    owner:
      accept_rate: 91
      account_id: 75
      display_name: Michael Stum
      link: https://stackoverflow.com/users/91/michael-stum
      profile_image: https://www.gravatar.com/avatar/411cf599ae9fe1ef80d40644c83c0f78?s=128&d=identicon&r=PG
      reputation: 168279
      user_id: 91
      user_type: moderator
    question_id: 9
    score: 85
  - answer_id: 1404
    body: <p>一个易于理解和简单的解决方案。</p><pre class="lang-cs prettyprint-override"> <code>//
      Save today&#39;s date. var today = DateTime.Today; // Calculate the age. var
      age = today.Year - birthdate.Year; // Go back to the year in which the person
      was born in case of a leap year if (birthdate.Date &gt; today.AddYears(-age))
      age--;</code></pre><p>但是，这假设您正在寻找<em>西方</em>的时代观念，而不是使用<a href="https://en.wikipedia.org/wiki/East_Asian_age_reckoning"
      rel="noreferrer"><em>东亚计算</em></a>。</p>
    comments:
    - body: 此答案不适用于所有语言环境和所有年龄段。一些国家在现世人出生后跳过了日期，包括俄罗斯（1918 年）、希腊（1924 年）和土耳其（1926
        年）。
      comment_id: 1580306
      content_license: CC BY-SA 2.5
      creation_date: 1257804567
      edited: false
      owner:
        accept_rate: 80
        account_id: 21803
        display_name: Lars D
        link: https://stackoverflow.com/users/1507543/lars-d
        profile_image: https://www.gravatar.com/avatar/191a3d4f0295b0817b0ad27ac4d6739a?s=128&d=identicon&r=PG
        reputation: 8184
        user_id: 1507543
        user_type: registered
      post_id: 1404
      score: 86
    - body: 实际上，它仍然不完全正确。此代码假定“bday”是 DateTime 的日期部分。这是一个边缘情况（我猜大多数人只会传递日期而不是日期时间），但是如果您将生日作为时间大于
        00:00:00 的日期和时间传递，那么您会遇到 Danvil 指出的错误。设置 bday = bday.Date 解决了这个问题。
      comment_id: 4535395
      content_license: CC BY-SA 2.5
      creation_date: 1289921838
      edited: false
      owner:
        accept_rate: 68
        account_id: 187173
        display_name: '&#216;yvind'
        link: https://stackoverflow.com/users/425038/%c3%98yvind
        profile_image: https://i.stack.imgur.com/xdttk.jpg?s=128&g=1
        reputation: 1580
        user_id: 425038
        user_type: registered
      post_id: 1404
      score: 35
    - body: 这是 12 年，但你为什么不减去生日 - 今天晚些时候去时间跨度，你可以在没有 if 的情况下得到它。
      comment_id: 117851014
      content_license: CC BY-SA 4.0
      creation_date: 1615961941
      edited: false
      owner:
        account_id: 18863943
        display_name: AbbathCL
        link: https://stackoverflow.com/users/13760086/abbathcl
        profile_image: https://lh5.googleusercontent.com/-Epq53Giq2dQ/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmmssDrCbEJuCnCvSdSOJhBST63og/photo.jpg?sz=128
        reputation: 91
        user_id: 13760086
        user_type: registered
      post_id: 1404
      score: 4
    community_owned_date: 1313523643
    content_license: CC BY-SA 4.0
    creation_date: 1217868606
    is_accepted: true
    last_activity_date: 1599471790
    last_edit_date: 1599471790
    owner:
      accept_rate: 100
      account_id: 175
      display_name: Mike Polen
      link: https://stackoverflow.com/users/212/mike-polen
      profile_image: https://www.gravatar.com/avatar/07d1b488333dac4c96fe2150b8080ee5?s=128&d=identicon&r=PG
      reputation: 3516
      user_id: 212
      user_type: registered
    question_id: 9
    score: 2259
  - answer_id: 3261
    body: '<p>这是我们在这里使用的版本。它有效，而且相当简单。这和 Jeff 的想法是一样的，但我认为它更清晰一些，因为它分离了减一的逻辑，所以更容易理解。</p><pre
      class="lang-cs prettyprint-override"> <code>public static int GetAge(this DateTime
      dateOfBirth, DateTime dateAsAt) { return dateAsAt.Year - dateOfBirth.Year -
      (dateOfBirth.DayOfYear &lt; dateAsAt.DayOfYear ? 0 : 1); }</code></pre><p>如果您认为这种事情不清楚，您可以扩展三元运算符以使其更加清晰。</p><p>显然，这是作为<code>DateTime</code>的扩展方法完成的，但很明显，您可以获取完成工作的那一行代码并将其放在任何地方。这里我们有另一个在<code>DateTime.Now</code>中传递的
      Extension 方法的重载，只是为了完整性。</p>'
    comments:
    - body: 我认为当 dateOfBirth 或 dateAsAt 中的一个正好落在闰年时，这可能会提前一天。考虑一个出生于 2003 年 3 月 1
        日和 2004 年 2 月 29 日的人的年龄。要纠正这一点，您需要对 (Month, DayOfMonth) 对进行字典比较并将其用于条件。
      comment_id: 216533
      content_license: CC BY-SA 2.5
      creation_date: 1230046579
      edited: false
      owner:
        accept_rate: 77
        account_id: 6599
        display_name: Doug McClean
        link: https://stackoverflow.com/users/11173/doug-mcclean
        profile_image: https://www.gravatar.com/avatar/6b5276e65cb7a7417188c9a035953cee?s=128&d=identicon&r=PG
        reputation: 13759
        user_id: 11173
        user_type: registered
      post_id: 3261
      score: 8
    - body: 它也不会显示您生日的正确年龄。
      comment_id: 309104
      content_license: CC BY-SA 2.5
      creation_date: 1233263976
      edited: false
      owner:
        accept_rate: 80
        account_id: 17987
        display_name: dotjoe
        link: https://stackoverflow.com/users/40822/dotjoe
        profile_image: https://www.gravatar.com/avatar/5e21a12bc281948ca5b89e546ff2da2a?s=128&d=identicon&r=PG
        reputation: 24122
        user_id: 40822
        user_type: registered
      post_id: 3261
      score: 3
    community_owned_date: 1313523643
    content_license: CC BY-SA 4.0
    creation_date: 1218018210
    is_accepted: false
    last_activity_date: 1577177626
    last_edit_date: 1577177626
    owner:
      accept_rate: 67
      account_id: 389
      display_name: David Wengier
      link: https://stackoverflow.com/users/489/david-wengier
      profile_image: https://www.gravatar.com/avatar/e5df429774ae8ca719157b038a4ddfc0?s=128&d=identicon&r=PG
      reputation: 9651
      user_id: 489
      user_type: registered
    question_id: 9
    score: 45
  - answer_id: 11942
    body: <p>这是一种奇怪的方法，但是如果您将日期格式化为<code>yyyymmdd</code>并从当前日期中减去出生日期，然后删除您的年龄的最后
      4 位数字 :)</p><p>我不懂 C#，但我相信这适用于任何语言。</p><pre class="lang-cs prettyprint-override">
      <code>20080814 - 19800703 = 280111</code></pre><p>删除最后 4 位数字 = <code>28</code>
      。</p><p> C# 代码：</p><pre class="lang-cs prettyprint-override"> <code>int now
      = int.Parse(DateTime.Now.ToString(&quot;yyyyMMdd&quot;)); int dob = int.Parse(dateOfBirth.ToString(&quot;yyyyMMdd&quot;));
      int age = (now - dob) / 10000;</code></pre><p>或者也可以不用所有类型转换的扩展方法的形式。省略错误检查：</p><pre
      class="lang-cs prettyprint-override"> <code>public static Int32 GetAge(this
      DateTime dateOfBirth) { var today = DateTime.Today; var a = (today.Year * 100
      + today.Month) * 100 + today.Day; var b = (dateOfBirth.Year * 100 + dateOfBirth.Month)
      * 100 + dateOfBirth.Day; return (a - b) / 10000; }</code></pre>
    comments:
    - body: 实际上，这非常适合在带有日期时间字段的 MS-SQL 上使用（自 01-011900 以来的总天数）
      comment_id: 50414522
      content_license: CC BY-SA 3.0
      creation_date: 1435924860
      edited: false
      owner:
        accept_rate: 100
        account_id: 1479804
        display_name: Patrik
        link: https://stackoverflow.com/users/1389444/patrik
        profile_image: https://www.gravatar.com/avatar/a3271b6d05339e80c2e7de60c67b1832?s=128&d=identicon&r=PG
        reputation: 1297
        user_id: 1389444
        user_type: registered
      post_id: 11942
      score: 10
    - body: 在您的替代答案中，您可以通过减去年份然后减去月 * 30.5 + 日并除以 366 来避免整数溢出
      comment_id: 52639946
      content_license: CC BY-SA 3.0
      creation_date: 1441311270
      edited: false
      owner:
        account_id: 1271139
        display_name: numerek
        link: https://stackoverflow.com/users/1227360/numerek
        profile_image: https://www.gravatar.com/avatar/84e13331b5e661cf1ed4df66386a9d08?s=128&d=identicon&r=PG
        reputation: 177
        user_id: 1227360
        user_type: registered
      post_id: 11942
      score: 0
    - body: '@numerek 请将您建议的修改作为他们自己的答案发布。就其价值而言，当前年份乘以 10000 远不及整数溢出，相差两个数量级。 20,150,000
        对 2,147,483,648'
      comment_id: 52640216
      content_license: CC BY-SA 3.0
      creation_date: 1441311837
      edited: false
      owner:
        accept_rate: 83
        account_id: 14409
        display_name: GalacticCowboy
        link: https://stackoverflow.com/users/29638/galacticcowboy
        profile_image: https://www.gravatar.com/avatar/3a149768317272ea0283dc6258e7ce75?s=128&d=identicon&r=PG&f=1
        reputation: 11426
        user_id: 29638
        user_type: registered
      post_id: 11942
      reply_to_user:
        account_id: 1271139
        display_name: numerek
        link: https://stackoverflow.com/users/1227360/numerek
        profile_image: https://www.gravatar.com/avatar/84e13331b5e661cf1ed4df66386a9d08?s=128&d=identicon&r=PG
        reputation: 177
        user_id: 1227360
        user_type: registered
      score: 8
    - body: 最好添加一个参数： float.Parse(x, CultureInfo.InvariantCulture) 因为一些当地人使用逗号而不是点作为小数中的分隔符
      comment_id: 60146124
      content_license: CC BY-SA 3.0
      creation_date: 1459154357
      edited: false
      owner:
        accept_rate: 34
        account_id: 243910
        display_name: Vlad Krylov
        link: https://stackoverflow.com/users/516384/vlad-krylov
        profile_image: https://i.stack.imgur.com/zdGLy.jpg?s=128&g=1
        reputation: 2484
        user_id: 516384
        user_type: registered
      post_id: 11942
      score: 0
    - body: DateTime.MaxValue 年为 9999，MinValue 年为 1，不可能发生溢出。
      comment_id: 70029644
      content_license: CC BY-SA 3.0
      creation_date: 1483236453
      edited: false
      owner:
        account_id: 6394256
        display_name: Anton&#237;n Lejsek
        link: https://stackoverflow.com/users/4959221/anton%c3%adn-lejsek
        profile_image: https://www.gravatar.com/avatar/3426bf401111490c891e8d22ce963c54?s=128&d=identicon&r=PG&f=1
        reputation: 5789
        user_id: 4959221
        user_type: registered
      post_id: 11942
      score: 0
    - body: 这个答案假设闰日婴儿在非闰年的 3 月 1 日生日。
      comment_id: 84527657
      content_license: CC BY-SA 3.0
      creation_date: 1518514738
      edited: false
      owner:
        accept_rate: 54
        account_id: 47163
        display_name: Jamie Kitson
        link: https://stackoverflow.com/users/139560/jamie-kitson
        profile_image: https://www.gravatar.com/avatar/885a6fe8a4179cf7b8c9b21869f5a8b2?s=128&d=identicon&r=PG
        reputation: 3704
        user_id: 139560
        user_type: registered
      post_id: 11942
      score: 0
    - body: 询问很老的帖子<code>int age = (now - dob) / 10000;</code>为什么要减去 10000 ？
      comment_id: 84948421
      content_license: CC BY-SA 3.0
      creation_date: 1519547096
      edited: false
      owner:
        accept_rate: 82
        account_id: 8225791
        display_name: Monojit Sarkar
        link: https://stackoverflow.com/users/6188148/monojit-sarkar
        profile_image: https://graph.facebook.com/1588601718120350/picture?type=large
        reputation: 2113
        user_id: 6188148
        user_type: registered
      post_id: 11942
      score: 0
    - body: '@LongChalk <code>20180101 - 20171231 = 8870</code> 。删除最后 4 位数字，您的年龄（隐含）为<code>0</code>
        。你是怎么得到<code>1</code> ？'
      comment_id: 88733542
      content_license: CC BY-SA 4.0
      creation_date: 1529008593
      edited: false
      owner:
        account_id: 2341462
        display_name: Rufus L
        link: https://stackoverflow.com/users/2052655/rufus-l
        profile_image: https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1
        reputation: 33032
        user_id: 2052655
        user_type: registered
      post_id: 11942
      reply_to_user:
        account_id: 3140182
        display_name: LongChalk
        link: https://stackoverflow.com/users/2655777/longchalk
        profile_image: https://graph.facebook.com/1603339160/picture?type=large
        reputation: 535
        user_id: 2655777
        user_type: registered
      score: 11
    - body: '@RufusL 是<code>0</code> ，而不是<code>1</code> 。 <code>floor(8870 / 10000)
        == 0</code> 。你正在“数”一万，而在<code>8870</code>你有零万。'
      comment_id: 89304826
      content_license: CC BY-SA 4.0
      creation_date: 1530641631
      edited: false
      owner:
        accept_rate: 80
        account_id: 353537
        display_name: flindeberg
        link: https://stackoverflow.com/users/691294/flindeberg
        profile_image: https://www.gravatar.com/avatar/0fb2a5bea35e0567300aa4f58634e6e4?s=128&d=identicon&r=PG&f=1
        reputation: 4601
        user_id: 691294
        user_type: registered
      post_id: 11942
      reply_to_user:
        account_id: 2341462
        display_name: Rufus L
        link: https://stackoverflow.com/users/2052655/rufus-l
        profile_image: https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1
        reputation: 33032
        user_id: 2052655
        user_type: registered
      score: 0
    - body: 很晚才加入潮流，但您还可以包括<code>TimeOfDay</code>差异检查，以使年龄达到刻度，至少在 C# 中是这样。
      comment_id: 114961963
      content_license: CC BY-SA 4.0
      creation_date: 1606411876
      edited: false
      owner:
        account_id: 16251960
        display_name: JansthcirlU
        link: https://stackoverflow.com/users/11808605/jansthcirlu
        profile_image: https://www.gravatar.com/avatar/52047ab453a9965973c46feb6e1240da?s=128&d=identicon&r=PG&f=1
        reputation: 515
        user_id: 11808605
        user_type: registered
      post_id: 11942
      score: 0
    community_owned_date: 1313523643
    content_license: CC BY-SA 4.0
    creation_date: 1218772049
    is_accepted: false
    last_activity_date: 1577177161
    last_edit_date: 1577177161
    owner:
      accept_rate: 98
      account_id: 988
      display_name: ScArcher2
      link: https://stackoverflow.com/users/1310/scarcher2
      profile_image: https://www.gravatar.com/avatar/9cb44812fc259d55c656dd8038ea5af3?s=128&d=identicon&r=PG
      reputation: 79027
      user_id: 1310
      user_type: registered
    question_id: 9
    score: 1055
  - answer_id: 24242
    body: <p>我创建了一个 SQL Server 用户定义函数来计算某人的年龄，给定他们的生日。当您需要它作为查询的一部分时，这很有用：</p><pre>
      <code>using System; using System.Data; using System.Data.Sql; using System.Data.SqlClient;
      using System.Data.SqlTypes; using Microsoft.SqlServer.Server; public partial
      class UserDefinedFunctions { [SqlFunction(DataAccess = DataAccessKind.Read)]
      public static SqlInt32 CalculateAge(string strBirthDate) { DateTime dtBirthDate
      = new DateTime(); dtBirthDate = Convert.ToDateTime(strBirthDate); DateTime dtToday
      = DateTime.Now; // get the difference in years int years = dtToday.Year - dtBirthDate.Year;
      // subtract another year if we&#39;re before the // birth day in the current
      year if (dtToday.Month &lt; dtBirthDate.Month || (dtToday.Month == dtBirthDate.Month
      &amp;&amp; dtToday.Day &lt; dtBirthDate.Day)) years=years-1; int intCustomerAge
      = years; return intCustomerAge; } };</code></pre>
    community_owned_date: 1313523643
    content_license: CC BY-SA 3.0
    creation_date: 1219499882
    is_accepted: false
    last_activity_date: 1454803620
    last_edit_date: 1454803620
    owner:
      account_id: 1888
      display_name: user2601
      link: https://stackoverflow.com/users/2601/user2601
      profile_image: https://www.gravatar.com/avatar/a15e2dcbd3fe6d432c73046a58525186?s=128&d=identicon&r=PG
      reputation: 188
      user_id: 2601
      user_type: registered
    question_id: 9
    score: 31
  - answer_id: 141644
    body: <p>我认为 TimeSpan 拥有我们需要的一切，而不必求助于 365.25（或任何其他近似值）。扩展八月的例子：</p><pre class="lang-cs
      prettyprint-override"> <code>DateTime myBD = new DateTime(1980, 10, 10); TimeSpan
      difference = DateTime.Now.Subtract(myBD); textBox1.Text = difference.Years +
      &quot; years &quot; + difference.Months + &quot; Months &quot; + difference.Days
      + &quot; days&quot;;</code></pre>
    comments:
    - body: 不。时间跨度为天，但没有月或年
      comment_id: 55413
      content_license: CC BY-SA 2.5
      creation_date: 1223064805
      edited: false
      owner:
        accept_rate: 78
        account_id: 7342
        display_name: James Curran
        link: https://stackoverflow.com/users/12725/james-curran
        profile_image: https://www.gravatar.com/avatar/98df3c7cc17f088af555c5accbdb2509?s=128&d=identicon&r=PG
        reputation: 96079
        user_id: 12725
        user_type: registered
      post_id: 141644
      score: 8
    community_owned_date: 1313523643
    content_license: CC BY-SA 4.0
    creation_date: 1222459657
    is_accepted: false
    last_activity_date: 1577177780
    last_edit_date: 1577177780
    owner:
      display_name: BigJim
      user_type: does_not_exist
    question_id: 9
    score: 4
  - answer_id: 168703
    body: <p>我的建议</p><pre class="lang-cs prettyprint-override"><code>int age = (int)
      ((DateTime.Now - bday).TotalDays/365.242199);</code></pre><p>这似乎在正确的日期改变了年份。
      （我现场测试到 107 岁。）</p>
    comments:
    - body: 我不认为 Harry Patch 会欣赏你的现场测试方法： <a href="http://www.latimes.com/news/obituaries/la-me-harry-patch26-2009jul26,0,7608030.story"
        rel="nofollow noreferrer">latimes.com/news/obituaries/...</a>
      comment_id: 1041272
      content_license: CC BY-SA 2.5
      creation_date: 1249142580
      edited: false
      owner:
        accept_rate: 70
        account_id: 8185
        display_name: MusiGenesis
        link: https://stackoverflow.com/users/14606/musigenesis
        profile_image: https://www.gravatar.com/avatar/fc4497e046f55473ab50b141d8b5ca42?s=128&d=identicon&r=PG
        reputation: 71758
        user_id: 14606
        user_type: registered
      post_id: 168703
      score: 28
    - body: 谷歌表示<code>days in a year = 365.242199</code>
      comment_id: 3614053
      content_license: CC BY-SA 2.5
      creation_date: 1281590887
      edited: false
      owner:
        accept_rate: 66
        account_id: 25438
        display_name: mpen
        link: https://stackoverflow.com/users/65387/mpen
        profile_image: https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG
        reputation: 240062
        user_id: 65387
        user_type: registered
      post_id: 168703
      score: 3
    - body: 公历一年的平均长度是 365.2425 天。
      comment_id: 4115551
      content_license: CC BY-SA 2.5
      creation_date: 1286330466
      edited: false
      owner:
        accept_rate: 80
        account_id: 108321
        display_name: dan04
        link: https://stackoverflow.com/users/287586/dan04
        profile_image: https://i.stack.imgur.com/tB5AG.png?s=128&g=1
        reputation: 77948
        user_id: 287586
        user_type: registered
      post_id: 168703
      score: 12
    - body: 我想说，这是最简单的解决方案之一，而且已经<i>足够好了</i>。谁在乎我是不是在我 X 岁生日前半天，程序说我已经 X 岁了。该程序或多或少是正确的，尽管在数学上不是。我真的很喜欢这个解决方案。
      comment_id: 5904769
      content_license: CC BY-SA 2.5
      creation_date: 1299672453
      edited: false
      owner:
        accept_rate: 84
        account_id: 30014
        display_name: Peter Perh&#225;č
        link: https://stackoverflow.com/users/81520/peter-perh%c3%a1%c4%8d
        profile_image: https://i.stack.imgur.com/LMhtf.png?s=128&g=1
        reputation: 19644
        user_id: 81520
        user_type: registered
      post_id: 168703
      score: 5
    - body: ^^ 因为有时它很重要。在我的测试中，这在人的生日失败，它报告他们比他们年轻。
      comment_id: 6145760
      content_license: CC BY-SA 2.5
      creation_date: 1301030875
      edited: false
      owner:
        accept_rate: 73
        account_id: 11953
        display_name: ChadT
        link: https://stackoverflow.com/users/23300/chadt
        profile_image: https://www.gravatar.com/avatar/8cb49c7ceb3bf250a0d470009ac9f047?s=128&d=identicon&r=PG
        reputation: 7103
        user_id: 23300
        user_type: registered
      post_id: 168703
      score: 16
    - body: 这也是我要开始的，但是测试它时，它经常会弄错一个人的生日。
      comment_id: 56863362
      content_license: CC BY-SA 3.0
      creation_date: 1451681510
      edited: false
      owner:
        accept_rate: 95
        account_id: 309064
        display_name: Dave Cousineau
        link: https://stackoverflow.com/users/621316/dave-cousineau
        profile_image: https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG
        reputation: 10431
        user_id: 621316
        user_type: registered
      post_id: 168703
      score: 2
    - body: '@ChadT 你想出了什么解决方案，所以这有效？用户不断抱怨生日不能在他们的生日上工作并观看时钟故障。'
      comment_id: 68187400
      content_license: CC BY-SA 3.0
      creation_date: 1478541329
      edited: false
      owner:
        accept_rate: 90
        account_id: 129145
        display_name: myusuf3
        link: https://stackoverflow.com/users/327508/myusuf3
        profile_image: https://www.gravatar.com/avatar/fab591eb34c76cbd0716024ce22d4906?s=128&d=identicon&r=PG
        reputation: 17069
        user_id: 327508
        user_type: registered
      post_id: 168703
      reply_to_user:
        accept_rate: 73
        account_id: 11953
        display_name: ChadT
        link: https://stackoverflow.com/users/23300/chadt
        profile_image: https://www.gravatar.com/avatar/8cb49c7ceb3bf250a0d470009ac9f047?s=128&d=identicon&r=PG
        reputation: 7103
        user_id: 23300
        user_type: registered
      score: 0
    - body: 不会费心去测试它，但似乎如果你唯一的问题是你希望结果提前一天增加，你可能应该能够逃脱： <code>int age = (int) (((DateTime.Now
        - bday).TotalDays+1)/365.242199);</code>
      comment_id: 93705696
      content_license: CC BY-SA 4.0
      creation_date: 1542815041
      edited: false
      owner:
        account_id: 5145663
        display_name: krowe2
        link: https://stackoverflow.com/users/4138090/krowe2
        profile_image: https://www.gravatar.com/avatar/8291557571ecf9533f3ac0a3d498d219?s=128&d=identicon&r=PG&f=1
        reputation: 227
        user_id: 4138090
        user_type: registered
      post_id: 168703
      score: 0
    - body: 它应该连续四年进行现场测试，因为错误是累积的（每四年在闰日重置一天 - 就像今天一样！）。
      comment_id: 106960536
      content_license: CC BY-SA 4.0
      creation_date: 1582939562
      edited: false
      owner:
        accept_rate: 78
        account_id: 24885
        display_name: Peter Mortensen
        link: https://stackoverflow.com/users/63550/peter-mortensen
        profile_image: https://i.stack.imgur.com/RIZKi.png?s=128&g=1
        reputation: 28511
        user_id: 63550
        user_type: registered
      post_id: 168703
      score: 1
    community_owned_date: 1313523643
    content_license: CC BY-SA 4.0
    creation_date: 1223065171
    is_accepted: false
    last_activity_date: 1582938992
    last_edit_date: 1582938992
    owner:
      accept_rate: 78
      account_id: 7342
      display_name: James Curran
      link: https://stackoverflow.com/users/12725/james-curran
      profile_image: https://www.gravatar.com/avatar/98df3c7cc17f088af555c5accbdb2509?s=128&d=identicon&r=PG
      reputation: 96079
      user_id: 12725
      user_type: registered
    question_id: 9
    score: 95
  - answer_id: 877247
    body: <p>我花了一些时间研究这个并想出了这个来计算某人的年龄（以年、月和日为单位）。我已经针对 2 月 29 日的问题和闰年进行了测试，它似乎有效，我希望得到任何反馈：</p><pre>
      <code>public void LoopAge(DateTime myDOB, DateTime FutureDate) { int years =
      0; int months = 0; int days = 0; DateTime tmpMyDOB = new DateTime(myDOB.Year,
      myDOB.Month, 1); DateTime tmpFutureDate = new DateTime(FutureDate.Year, FutureDate.Month,
      1); while (tmpMyDOB.AddYears(years).AddMonths(months) &lt; tmpFutureDate) {
      months++; if (months &gt; 12) { years++; months = months - 12; } } if (FutureDate.Day
      &gt;= myDOB.Day) { days = days + FutureDate.Day - myDOB.Day; } else { months--;
      if (months &lt; 0) { years--; months = months + 12; } days += DateTime.DaysInMonth(
      FutureDate.AddMonths(-1).Year, FutureDate.AddMonths(-1).Month ) + FutureDate.Day
      - myDOB.Day; } //add an extra day if the dob is a leap day if (DateTime.IsLeapYear(myDOB.Year)
      &amp;&amp; myDOB.Month == 2 &amp;&amp; myDOB.Day == 29) { //but only if the
      future date is less than 1st March if (FutureDate &gt;= new DateTime(FutureDate.Year,
      3, 1)) days++; } }</code></pre>
    community_owned_date: 1313523643
    content_license: CC BY-SA 3.0
    creation_date: 1242645878
    is_accepted: false
    last_activity_date: 1454803643
    last_edit_date: 1454803643
    owner:
      display_name: Jon
      user_type: does_not_exist
    question_id: 9
    score: 26
  - answer_id: 877516
    body: <p>这是一个单行：</p><pre class="lang-cs prettyprint-override"> <code>int age =
      new DateTime(DateTime.Now.Subtract(birthday).Ticks).Year-1;</code></pre>
    comments:
    - body: 这已破了。可测试： public static int CalculateAge(DateTime dateOfBirth, DateTime
        dateToCalculateAge) { return new DateTime(dateToCalculateAge.Subtract(dateOfBirth).Ticks).Yea‌
        r - 1; ...当我输入 1990-06-01 并计算他 14 岁生日 (1990-05-31) 前一天的年龄时，给出 14 岁。
      comment_id: 5467471
      content_license: CC BY-SA 2.5
      creation_date: 1296942139
      edited: false
      owner:
        accept_rate: 98
        account_id: 28970
        display_name: Kjensen
        link: https://stackoverflow.com/users/77884/kjensen
        profile_image: https://i.stack.imgur.com/dUwhF.jpg?s=128&g=1
        reputation: 11471
        user_id: 77884
        user_type: registered
      post_id: 877516
      score: 24
    community_owned_date: 1313523643
    content_license: CC BY-SA 4.0
    creation_date: 1242650211
    is_accepted: false
    last_activity_date: 1582938950
    last_edit_date: 1582938950
    owner:
      accept_rate: 100
      account_id: 564407
      display_name: SillyMonkey
      link: https://stackoverflow.com/users/88600/sillymonkey
      profile_image: https://www.gravatar.com/avatar/74f1fa29f4f7ecf9dc991a328d448c99?s=128&d=identicon&r=PG
      reputation: 1304
      user_id: 88600
      user_type: unregistered
    question_id: 9
    score: 52
  - answer_id: 1011981
    body: <p>这是一个解决方案。</p><pre> <code>DateTime dateOfBirth = new DateTime(2000, 4,
      18); DateTime currentDate = DateTime.Now; int ageInYears = 0; int ageInMonths
      = 0; int ageInDays = 0; ageInDays = currentDate.Day - dateOfBirth.Day; ageInMonths
      = currentDate.Month - dateOfBirth.Month; ageInYears = currentDate.Year - dateOfBirth.Year;
      if (ageInDays &lt; 0) { ageInDays += DateTime.DaysInMonth(currentDate.Year,
      currentDate.Month); ageInMonths = ageInMonths--; if (ageInMonths &lt; 0) { ageInMonths
      += 12; ageInYears--; } } if (ageInMonths &lt; 0) { ageInMonths += 12; ageInYears--;
      } Console.WriteLine(&quot;{0}, {1}, {2}&quot;, ageInYears, ageInMonths, ageInDays);</code></pre>
    comments:
    - body: 使用字符串连接，这将是可能的：47 Yrs 11 Mo 7 days
      comment_id: 88725695
      content_license: CC BY-SA 4.0
      creation_date: 1528991932
      edited: false
      owner:
        accept_rate: 84
        account_id: 3829590
        display_name: JoshYates1980
        link: https://stackoverflow.com/users/3175526/joshyates1980
        profile_image: https://i.stack.imgur.com/dL8dY.jpg?s=128&g=1
        reputation: 3179
        user_id: 3175526
        user_type: registered
      post_id: 1011981
      score: 0
    community_owned_date: 1313523643
    content_license: CC BY-SA 3.0
    creation_date: 1245321321
    is_accepted: false
    last_activity_date: 1519317405
    last_edit_date: 1519317405
    owner:
      accept_rate: 83
      account_id: 11417
      display_name: Rajeshwaran S P
      link: https://stackoverflow.com/users/21995/rajeshwaran-s-p
      profile_image: https://www.gravatar.com/avatar/0e8fdea98452ce60fe345386f5116ed5?s=128&d=identicon&r=PG
      reputation: 562
      user_id: 21995
      user_type: registered
    question_id: 9
    score: 18
  - answer_id: 1595311
    body: '<p>这是一个测试片段：</p><pre class="lang-cs prettyprint-override"> <code>DateTime
      bDay = new DateTime(2000, 2, 29); DateTime now = new DateTime(2009, 2, 28);
      MessageBox.Show(string.Format(&quot;Test {0} {1} {2}&quot;, CalculateAgeWrong1(bDay,
      now), // outputs 9 CalculateAgeWrong2(bDay, now), // outputs 9 CalculateAgeCorrect(bDay,
      now), // outputs 8 CalculateAgeCorrect2(bDay, now))); // outputs 8</code></pre><p>在这里你有方法：</p><pre
      class="lang-cs prettyprint-override"> <code>public int CalculateAgeWrong1(DateTime
      birthDate, DateTime now) { return new DateTime(now.Subtract(birthDate).Ticks).Year
      - 1; } public int CalculateAgeWrong2(DateTime birthDate, DateTime now) { int
      age = now.Year - birthDate.Year; if (now &lt; birthDate.AddYears(age)) age--;
      return age; } public int CalculateAgeCorrect(DateTime birthDate, DateTime now)
      { int age = now.Year - birthDate.Year; if (now.Month &lt; birthDate.Month ||
      (now.Month == birthDate.Month &amp;&amp; now.Day &lt; birthDate.Day)) age--;
      return age; } public int CalculateAgeCorrect2(DateTime birthDate, DateTime now)
      { int age = now.Year - birthDate.Year; // For leap years we need this if (birthDate
      &gt; now.AddYears(-age)) age--; // Don&#39;t use: // if (birthDate.AddYears(age)
      &gt; now) // age--; return age; }</code></pre>'
    comments:
    - body: 虽然此代码有效，但它断言在闰日出生的人在非闰年的 3 月 1 日而不是 2 月 28 日达到下一年的年龄。实际上，<i>这两种选择都可能是正确的</i>。<a
        href="http://en.wikipedia.org/wiki/Leap_day#Births" rel="nofollow noreferrer">维基百科对此有话要说</a>。因此，虽然您的代码没有“错误”，但公认的解决方案也不是。
      comment_id: 39517562
      content_license: CC BY-SA 3.0
      creation_date: 1408254293
      edited: false
      owner:
        accept_rate: 87
        account_id: 317896
        display_name: Matt Johnson-Pint
        link: https://stackoverflow.com/users/634824/matt-johnson-pint
        profile_image: https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG
        reputation: 199695
        user_id: 634824
        user_type: registered
      post_id: 1595311
      score: 37
    - body: '@MattJohnson 我认为这实际上是正确的。如果我的生日是 2 月 29 日，那么 2 月 28 日我的生日还没有过去，我应该仍然和
        2 月 27 日的年龄相同。然而，3 月 1 日，我们已经过了我的生日，我应该是下一个年龄。在美国，出售酒类的企业会贴上类似“如果您在 YYYY 的这一天之后出生，则不能购买酒类”（其中
        YYYY 每年都在变化）之类的标志。这意味着 2 月 29 日出生的人不能在他们 21 岁那年（大多数地方）的 2 月 28 日买酒，并且支持他们直到
        3 月 1 日才大一岁的想法。'
      comment_id: 64084691
      content_license: CC BY-SA 3.0
      creation_date: 1468343916
      edited: false
      owner:
        accept_rate: 50
        account_id: 338050
        display_name: jfren484
        link: https://stackoverflow.com/users/666675/jfren484
        profile_image: https://i.stack.imgur.com/WlIVp.jpg?s=128&g=1
        reputation: 880
        user_id: 666675
        user_type: registered
      post_id: 1595311
      reply_to_user:
        accept_rate: 87
        account_id: 317896
        display_name: Matt Johnson-Pint
        link: https://stackoverflow.com/users/634824/matt-johnson-pint
        profile_image: https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG
        reputation: 199695
        user_id: 634824
        user_type: registered
      score: 21
    - body: '@jfren484 - 阅读维基百科文章。它在不同司法管辖区之间差异很大。'
      comment_id: 64088801
      content_license: CC BY-SA 3.0
      creation_date: 1468351577
      edited: false
      owner:
        accept_rate: 87
        account_id: 317896
        display_name: Matt Johnson-Pint
        link: https://stackoverflow.com/users/634824/matt-johnson-pint
        profile_image: https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG
        reputation: 199695
        user_id: 634824
        user_type: registered
      post_id: 1595311
      reply_to_user:
        accept_rate: 50
        account_id: 338050
        display_name: jfren484
        link: https://stackoverflow.com/users/666675/jfren484
        profile_image: https://i.stack.imgur.com/WlIVp.jpg?s=128&g=1
        reputation: 880
        user_id: 666675
        user_type: registered
      score: 6
    - body: '@jfren484 您的主张与哲学完全无关；但一切都与<b><i>你自己的个人感觉有关</i></b>。 2 月 29 日出生的人“年龄”在很大程度上并不重要，除非年龄形成“法定年龄界限”（例如可以买酒、投票、领取养老金、参军、获得驾驶执照）。考虑美国的饮酒年龄（21
        岁）：对于大多数人来说，这是 7670 天。闰年2月29日之前或闰年3月1日以后出生的为7671天。如果出生在 2 月 29 日：2 月 28 日是
        7670 天，3 月 1 日是 7671 天。<b><i>选择是任意的</i></b>，可以<b><i>任意选择</i></b>。'
      comment_id: 72320584
      content_license: CC BY-SA 3.0
      creation_date: 1488621982
      edited: false
      owner:
        accept_rate: 50
        account_id: 79165
        display_name: Disillusioned
        link: https://stackoverflow.com/users/224704/disillusioned
        profile_image: https://www.gravatar.com/avatar/4c94b60d81fde0361f2daa910a0f9a77?s=128&d=identicon&r=PG
        reputation: 13860
        user_id: 224704
        user_type: registered
      post_id: 1595311
      reply_to_user:
        accept_rate: 50
        account_id: 338050
        display_name: jfren484
        link: https://stackoverflow.com/users/666675/jfren484
        profile_image: https://i.stack.imgur.com/WlIVp.jpg?s=128&g=1
        reputation: 880
        user_id: 666675
        user_type: registered
      score: 11
    - body: '@CraigYoung 你不明白我在哲学上的意思。我用这个词作为与法律的对比。如果有人正在编写需要知道一个人的法定年龄的应用程序，那么他们只需要知道他们的应用程序用于/用于对待
        2 月 29 日出生的人的法律管辖区如何。但是，如果我们谈论<i>应该</i>如何对待它，那么根据定义，这就是哲学。是的，我给出的意见是我自己的意见，但正如我所说，我认为争论
        3 月 1 日比争论 2 月 28 日更容易。'
      comment_id: 72330618
      content_license: CC BY-SA 3.0
      creation_date: 1488653113
      edited: false
      owner:
        accept_rate: 50
        account_id: 338050
        display_name: jfren484
        link: https://stackoverflow.com/users/666675/jfren484
        profile_image: https://i.stack.imgur.com/WlIVp.jpg?s=128&g=1
        reputation: 880
        user_id: 666675
        user_type: registered
      post_id: 1595311
      reply_to_user:
        accept_rate: 50
        account_id: 79165
        display_name: Disillusioned
        link: https://stackoverflow.com/users/224704/disillusioned
        profile_image: https://www.gravatar.com/avatar/4c94b60d81fde0361f2daa910a0f9a77?s=128&d=identicon&r=PG
        reputation: 13860
        user_id: 224704
        user_type: registered
      score: 6
    community_owned_date: 1313523643
    content_license: CC BY-SA 4.0
    creation_date: 1256051242
    is_accepted: false
    last_activity_date: 1582938929
    last_edit_date: 1582938929
    owner:
      account_id: 566470
      display_name: RMA
      link: https://stackoverflow.com/users/193184/rma
      profile_image: https://www.gravatar.com/avatar/df1a012997c4991d6cf8b0fe0e315d82?s=128&d=identicon&r=PG
      reputation: 231
      user_id: 193184
      user_type: unregistered
    question_id: 9
    score: 401
  - answer_id: 1811311
    body: <p>这可能有效：</p><pre class="lang-cs prettyprint-override"> <code>public override
      bool IsValid(DateTime value) { _dateOfBirth = value; var yearsOld = (double)
      (DateTime.Now.Subtract(_dateOfBirth).TotalDays/365); if (yearsOld &gt; 18) return
      true; return false; }</code></pre>
    comments:
    - body: 哇。为什么 value 是一个对象而不是 DateTime？方法签名应该是<code>public override bool Is18OrOlder(DateTime
        birthday)</code> 2月29日出生的人呢？谁说我们要检查用户是否至少年满 18 岁？问题是“我如何计算某人的年龄？”
      comment_id: 2801933
      content_license: CC BY-SA 2.5
      creation_date: 1273006627
      edited: false
      owner:
        accept_rate: 83
        account_id: 21682
        display_name: Chris Shouts
        link: https://stackoverflow.com/users/52920/chris-shouts
        profile_image: https://i.stack.imgur.com/pQUCr.jpg?s=128&g=1
        reputation: 5157
        user_id: 52920
        user_type: registered
      post_id: 1811311
      score: 5
    - body: 那是怎么发生的？我什至不记得把 IsValid 作为对象。应该是日期时间！
      comment_id: 2803045
      content_license: CC BY-SA 2.5
      creation_date: 1273017839
      edited: false
      owner:
        accept_rate: 74
        account_id: 2703
        display_name: azamsharp
        link: https://stackoverflow.com/users/3797/azamsharp
        profile_image: https://i.stack.imgur.com/RbMlQ.jpg?s=128&g=1
        reputation: 18491
        user_id: 3797
        user_type: registered
      post_id: 1811311
      score: 0
    - body: 代替<code>if</code>语句，为什么不使用<code>return yearsOld &gt; 18;</code>
      comment_id: 86065419
      content_license: CC BY-SA 3.0
      creation_date: 1522226516
      edited: false
      owner:
        accept_rate: 70
        account_id: 2082406
        display_name: T_Bacon
        link: https://stackoverflow.com/users/1854138/t-bacon
        profile_image: https://www.gravatar.com/avatar/00635d750636ec05e89d9ed502b83e62?s=128&d=identicon&r=PG
        reputation: 384
        user_id: 1854138
        user_type: registered
      post_id: 1811311
      score: 1
    community_owned_date: 1313523643
    content_license: CC BY-SA 4.0
    creation_date: 1259373537
    is_accepted: false
    last_activity_date: 1582938826
    last_edit_date: 1582938826
    owner:
      accept_rate: 74
      account_id: 2703
      display_name: azamsharp
      link: https://stackoverflow.com/users/3797/azamsharp
      profile_image: https://i.stack.imgur.com/RbMlQ.jpg?s=128&g=1
      reputation: 18491
      user_id: 3797
      user_type: registered
    question_id: 9
    score: 5
  - answer_id: 1913553
    body: '<p>我创建了一个 Age 结构，如下所示：</p><pre> <code>public struct Age : IEquatable&lt;Age&gt;,
      IComparable&lt;Age&gt; { private readonly int _years; private readonly int _months;
      private readonly int _days; public int Years { get { return _years; } } public
      int Months { get { return _months; } } public int Days { get { return _days;
      } } public Age( int years, int months, int days ) : this() { _years = years;
      _months = months; _days = days; } public static Age CalculateAge( DateTime dateOfBirth,
      DateTime date ) { // Here is some logic that ressembles Mike&#39;s solution,
      although it // also takes into account months &amp; days. // Ommitted for brevity.
      return new Age (years, months, days); } // Ommited Equality, Comparable, GetHashCode,
      functionality for brevity. }</code></pre>'
    community_owned_date: 1313523643
    content_license: CC BY-SA 2.5
    creation_date: 1260957300
    is_accepted: false
    last_activity_date: 1280730915
    last_edit_date: 1280730915
    owner:
      accept_rate: 62
      account_id: 22560
      display_name: Frederik Gheysels
      link: https://stackoverflow.com/users/55774/frederik-gheysels
      profile_image: https://www.gravatar.com/avatar/465e04477e91f60a0dc831f928fc1c49?s=128&d=identicon&r=PG
      reputation: 53852
      user_id: 55774
      user_type: registered
    question_id: 9
    score: 2
  - answer_id: 1928680
    body: '<p>这是我敲出的 C# 的一个小代码示例，特别是在闰年的边缘情况下要小心，并非所有上述解决方案都将它们考虑在内。将答案作为 DateTime
      推出可能会导致问题，因为您最终可能会尝试将太多天放入特定月份，例如 2 月的 30 天。</p><pre> <code>public string LoopAge(DateTime
      myDOB, DateTime FutureDate) { int years = 0; int months = 0; int days = 0; DateTime
      tmpMyDOB = new DateTime(myDOB.Year, myDOB.Month, 1); DateTime tmpFutureDate
      = new DateTime(FutureDate.Year, FutureDate.Month, 1); while (tmpMyDOB.AddYears(years).AddMonths(months)
      &lt; tmpFutureDate) { months++; if (months &gt; 12) { years++; months = months
      - 12; } } if (FutureDate.Day &gt;= myDOB.Day) { days = days + FutureDate.Day
      - myDOB.Day; } else { months--; if (months &lt; 0) { years--; months = months
      + 12; } days = days + (DateTime.DaysInMonth(FutureDate.AddMonths(-1).Year, FutureDate.AddMonths(-1).Month)
      + FutureDate.Day) - myDOB.Day; } //add an extra day if the dob is a leap day
      if (DateTime.IsLeapYear(myDOB.Year) &amp;&amp; myDOB.Month == 2 &amp;&amp; myDOB.Day
      == 29) { //but only if the future date is less than 1st March if(FutureDate
      &gt;= new DateTime(FutureDate.Year, 3,1)) days++; } return &quot;Years: &quot;
      + years + &quot; Months: &quot; + months + &quot; Days: &quot; + days; }</code></pre>'
    comments:
    - body: 我最喜欢这个解决方案，但是，在计算月份时，它需要是 if(months &gt;= 12)。尝试 6-8-2012 - 6-4-1993 进行测试。
      comment_id: 14300107
      content_license: CC BY-SA 3.0
      creation_date: 1339184635
      edited: false
      owner:
        accept_rate: 84
        account_id: 901513
        display_name: Jerry
        link: https://stackoverflow.com/users/937554/jerry
        profile_image: https://www.gravatar.com/avatar/410118fd47ac6a314c82ec9c8475de2b?s=128&d=identicon&r=PG
        reputation: 5841
        user_id: 937554
        user_type: registered
      post_id: 1928680
      score: 1
    community_owned_date: 1313523643
    content_license: CC BY-SA 2.5
    creation_date: 1261148136
    is_accepted: false
    last_activity_date: 1261148136
    owner:
      account_id: 83745
      display_name: Jon
      link: https://stackoverflow.com/users/234611/jon
      profile_image: https://www.gravatar.com/avatar/9306dec9ddb84e197822d243f894bd36?s=128&d=identicon&r=PG
      reputation: 610
      user_id: 234611
      user_type: registered
    question_id: 9
    score: 4
  - answer_id: 2280982
    body: <p>我用这个：</p><pre> <code>public static class DateTimeExtensions { public
      static int Age(this DateTime birthDate) { return Age(birthDate, DateTime.Now);
      } public static int Age(this DateTime birthDate, DateTime offsetDate) { int
      result=0; result = offsetDate.Year - birthDate.Year; if (offsetDate.DayOfYear
      &lt; birthDate.DayOfYear) { result--; } return result; } }</code></pre>
    community_owned_date: 1313523643
    content_license: CC BY-SA 3.0
    creation_date: 1266413556
    is_accepted: false
    last_activity_date: 1433329846
    last_edit_date: 1433329846
    owner:
      accept_rate: 50
      account_id: 57780
      display_name: Elmer
      link: https://stackoverflow.com/users/173109/elmer
      profile_image: https://www.gravatar.com/avatar/54f9beb082c0771af47339bcc59e9d75?s=128&d=identicon&r=PG
      reputation: 8263
      user_id: 173109
      user_type: registered
    question_id: 9
    score: 35
  - answer_id: 3513146
    body: <p>保持简单（可能是愚蠢的:)）。</p><pre class="lang-cs prettyprint-override"> <code>DateTime
      birth = new DateTime(1975, 09, 27, 01, 00, 00, 00); TimeSpan ts = DateTime.Now
      - birth; Console.WriteLine(&quot;You are approximately &quot; + ts.TotalSeconds.ToString()
      + &quot; seconds old.&quot;);</code></pre>
    comments:
    - body: TimeSpan 是我的第一选择，但发现它不提供 TotalYears 属性。您可以尝试 (ts.TotalDays / 365) - 但它不考虑闰年等。
      comment_id: 9089116
      content_license: CC BY-SA 3.0
      creation_date: 1316636091
      edited: false
      owner:
        account_id: 24734
        display_name: Lazlow
        link: https://stackoverflow.com/users/63100/lazlow
        profile_image: https://www.gravatar.com/avatar/d96347fd54f6313305fd0bfe75bda85f?s=128&d=identicon&r=PG
        reputation: 2961
        user_id: 63100
        user_type: registered
      post_id: 3513146
      score: 1
    community_owned_date: 1313523643
    content_license: CC BY-SA 4.0
    creation_date: 1282141750
    is_accepted: false
    last_activity_date: 1577177572
    last_edit_date: 1577177572
    owner:
      display_name: user181261
      user_type: does_not_exist
    question_id: 9
    score: 21
  - answer_id: 3652116
    body: <pre><code>private int GetAge(int _year, int _month, int _day { DateTime
      yourBirthDate= new DateTime(_year, _month, _day); DateTime todaysDateTime =
      DateTime.Today; int noOfYears = todaysDateTime.Year - yourBirthDate.Year; if
      (DateTime.Now.Month &lt; yourBirthDate.Month || (DateTime.Now.Month == yourBirthDate.Month
      &amp;&amp; DateTime.Now.Day &lt; yourBirthDate.Day)) { noOfYears--; } return
      noOfYears; }</code></pre>
    community_owned_date: 1313523643
    content_license: CC BY-SA 3.0
    creation_date: 1283782141
    is_accepted: false
    last_activity_date: 1454804035
    last_edit_date: 1454804035
    owner:
      accept_rate: 76
      account_id: 196937
      display_name: AEMLoviji
      link: https://stackoverflow.com/users/440670/aemloviji
      profile_image: https://www.gravatar.com/avatar/d6b3eec6cfb1052d263078f0d6800a2d?s=128&d=identicon&r=PG
      reputation: 3107
      user_id: 440670
      user_type: registered
    question_id: 9
    score: 12
  - answer_id: 3869003
    body: '<p>我找到的最简单的方法是这个。它适用于美国和西欧地区。不能和其他地方说话，尤其是像中国这样的地方。在初始计算年龄之后，最多有 4 个额外的比较。</p><pre>
      <code>public int AgeInYears(DateTime birthDate, DateTime referenceDate) { Debug.Assert(referenceDate
      &gt;= birthDate, &quot;birth date must be on or prior to the reference date&quot;);
      DateTime birth = birthDate.Date; DateTime reference = referenceDate.Date; int
      years = (reference.Year - birth.Year); // // an offset of -1 is applied if the
      birth date has // not yet occurred in the current year. // if (reference.Month
      &gt; birth.Month); else if (reference.Month &lt; birth.Month) --years; else
      // in birth month { if (reference.Day &lt; birth.Day) --years; } return years
      ; }</code></pre><p>我正在查看这个问题的答案，并注意到没有人提到闰日出生的监管/法律影响。例如，<a href="https://en.wikipedia.org/wiki/February_29#Births"
      rel="noreferrer">根据 Wikipedia</a> ，如果您在不同司法管辖区的 2 月 29 日出生，那么您的非闰年生日会有所不同：</p><ul><li>在英国和香港：这是一年中的序数日，所以第二天，3
      月 1 日是您的生日。</li><li>在新西兰：这是前一天，2 月 28 日用于获得驾照，3 月 1 日用于其他目的。</li><li>台湾：现在是
      2 月 28 日。</li></ul><p>据我所知，在美国，法规对此事保持沉默，将其留给普通法以及各种监管机构如何在其法规中定义事物。</p><p>为此，改进：</p><pre>
      <code>public enum LeapDayRule { OrdinalDay = 1 , LastDayOfMonth = 2 , } static
      int ComputeAgeInYears(DateTime birth, DateTime reference, LeapYearBirthdayRule
      ruleInEffect) { bool isLeapYearBirthday = CultureInfo.CurrentCulture.Calendar.IsLeapDay(birth.Year,
      birth.Month, birth.Day); DateTime cutoff; if (isLeapYearBirthday &amp;&amp;
      !DateTime.IsLeapYear(reference.Year)) { switch (ruleInEffect) { case LeapDayRule.OrdinalDay:
      cutoff = new DateTime(reference.Year, 1, 1) .AddDays(birth.DayOfYear - 1); break;
      case LeapDayRule.LastDayOfMonth: cutoff = new DateTime(reference.Year, birth.Month,
      1) .AddMonths(1) .AddDays(-1); break; default: throw new InvalidOperationException();
      } } else { cutoff = new DateTime(reference.Year, birth.Month, birth.Day); }
      int age = (reference.Year - birth.Year) + (reference &gt;= cutoff ? 0 : -1);
      return age &lt; 0 ? 0 : age; }</code></pre><p>需要注意的是，这段代码假设：</p><ul><li>西方（欧洲）的年龄计算，以及</li><li>一种日历，例如在月末插入一个闰日的公历。</li></ul>'
    community_owned_date: 1313523643
    content_license: CC BY-SA 4.0
    creation_date: 1286329790
    is_accepted: false
    last_activity_date: 1530762815
    last_edit_date: 1530762815
    owner:
      account_id: 213854
      display_name: Nicholas Carey
      link: https://stackoverflow.com/users/467473/nicholas-carey
      profile_image: https://www.gravatar.com/avatar/af668442ab8ce6408bd051b350d89c01?s=128&d=identicon&r=PG
      reputation: 61030
      user_id: 467473
      user_type: registered
    question_id: 9
    score: 21
  - answer_id: 5054317
    body: '<p>对此的简单答案是应用<code>AddYears</code> ，如下所示，因为这是将年份添加到闰年的 2 月 29 日并获得普通年份的
      2 月 28 日的正确结果的唯一本地方法。</p><p>有人认为 3 月 1 日是闰年的生日，但 .Net 和任何官方规则都没有支持这一点，也没有普遍的逻辑来解释为什么
      2 月出生的人应该在另一个月有 75% 的生日。</p><p>此外， Age 方法有助于将其添加为<code>DateTime</code>的扩展。通过这种方式，您可以以最简单的方式获取年龄：</p><ol><li>项目清单</li></ol><p><strong>int
      age =birthDate.Age();</strong></p><pre> <code>public static class DateTimeExtensions
      { /// &lt;summary&gt; /// Calculates the age in years of the current System.DateTime
      object today. /// &lt;/summary&gt; /// &lt;param name=&quot;birthDate&quot;&gt;The
      date of birth&lt;/param&gt; /// &lt;returns&gt;Age in years today. 0 is returned
      for a future date of birth.&lt;/returns&gt; public static int Age(this DateTime
      birthDate) { return Age(birthDate, DateTime.Today); } /// &lt;summary&gt; ///
      Calculates the age in years of the current System.DateTime object on a later
      date. /// &lt;/summary&gt; /// &lt;param name=&quot;birthDate&quot;&gt;The date
      of birth&lt;/param&gt; /// &lt;param name=&quot;laterDate&quot;&gt;The date
      on which to calculate the age.&lt;/param&gt; /// &lt;returns&gt;Age in years
      on a later day. 0 is returned as minimum.&lt;/returns&gt; public static int
      Age(this DateTime birthDate, DateTime laterDate) { int age; age = laterDate.Year
      - birthDate.Year; if (age &gt; 0) { age -= Convert.ToInt32(laterDate.Date &lt;
      birthDate.Date.AddYears(age)); } else { age = 0; } return age; } }</code></pre><p>现在，运行这个测试：</p><pre>
      <code>class Program { static void Main(string[] args) { RunTest(); } private
      static void RunTest() { DateTime birthDate = new DateTime(2000, 2, 28); DateTime
      laterDate = new DateTime(2011, 2, 27); string iso = &quot;yyyy-MM-dd&quot;;
      for (int i = 0; i &lt; 3; i++) { for (int j = 0; j &lt; 3; j++) { Console.WriteLine(&quot;Birth
      date: &quot; + birthDate.AddDays(i).ToString(iso) + &quot; Later date: &quot;
      + laterDate.AddDays(j).ToString(iso) + &quot; Age: &quot; + birthDate.AddDays(i).Age(laterDate.AddDays(j)).ToString());
      } } Console.ReadKey(); } }</code></pre><p>关键日期示例是这样的：</p><p><strong>出生日期：2000-02-29
      后来日期：2011-02-28 年龄：11</strong></p><p>输出：</p><pre> <code>{ Birth date: 2000-02-28
      Later date: 2011-02-27 Age: 10 Birth date: 2000-02-28 Later date: 2011-02-28
      Age: 11 Birth date: 2000-02-28 Later date: 2011-03-01 Age: 11 Birth date: 2000-02-29
      Later date: 2011-02-27 Age: 10 Birth date: 2000-02-29 Later date: 2011-02-28
      Age: 11 Birth date: 2000-02-29 Later date: 2011-03-01 Age: 11 Birth date: 2000-03-01
      Later date: 2011-02-27 Age: 10 Birth date: 2000-03-01 Later date: 2011-02-28
      Age: 10 Birth date: 2000-03-01 Later date: 2011-03-01 Age: 11 }</code></pre><p>而对于稍后的日期
      2012-02-28：</p><pre> <code>{ Birth date: 2000-02-28 Later date: 2012-02-28 Age:
      12 Birth date: 2000-02-28 Later date: 2012-02-29 Age: 12 Birth date: 2000-02-28
      Later date: 2012-03-01 Age: 12 Birth date: 2000-02-29 Later date: 2012-02-28
      Age: 11 Birth date: 2000-02-29 Later date: 2012-02-29 Age: 12 Birth date: 2000-02-29
      Later date: 2012-03-01 Age: 12 Birth date: 2000-03-01 Later date: 2012-02-28
      Age: 11 Birth date: 2000-03-01 Later date: 2012-02-29 Age: 11 Birth date: 2000-03-01
      Later date: 2012-03-01 Age: 12 }</code></pre>'
    comments:
    - body: 关于在 3 月 1 日 2 月 29 日生日的评论，从技术上讲，在 28 日举行为时过早（实际上早了 1 天）。一号晚了一天。但是由于生日介于两者之间，因此使用
        1 日来计算非闰年的年龄对我来说更有意义，因为该人确实在每年 3 月 1 日（以及 2 日和 3 日）那么大，但在 2 月 28 日则不然。
      comment_id: 89975713
      content_license: CC BY-SA 4.0
      creation_date: 1532449862
      edited: false
      owner:
        account_id: 6294282
        display_name: CyberClaw
        link: https://stackoverflow.com/users/4890963/cyberclaw
        profile_image: https://lh4.googleusercontent.com/-736h1CBQBh8/AAAAAAAAAAI/AAAAAAAABbc/4ybXk5rbcb4/photo.jpg?sz=128
        reputation: 385
        user_id: 4890963
        user_type: registered
      post_id: 5054317
      score: 4
    - body: 从软件设计的角度来看，将其编写为扩展方法对我来说没有多大意义。 <code>date.Age(other)</code> ？
      comment_id: 94329786
      content_license: CC BY-SA 4.0
      creation_date: 1544602295
      edited: false
      owner:
        accept_rate: 83
        account_id: 2352447
        display_name: marsze
        link: https://stackoverflow.com/users/2060966/marsze
        profile_image: https://i.stack.imgur.com/BLBtT.png?s=128&g=1
        reputation: 11410
        user_id: 2060966
        user_type: registered
      post_id: 5054317
      score: 2
    community_owned_date: 1313523643
    content_license: CC BY-SA 3.0
    creation_date: 1298159818
    is_accepted: false
    last_activity_date: 1454803521
    last_edit_date: 1454803521
    owner:
      account_id: 311179
      display_name: camelCasus
      link: https://stackoverflow.com/users/624612/camelcasus
      profile_image: https://www.gravatar.com/avatar/32471fce416296d72dfeacf10c77a876?s=128&d=identicon&r=PG
      reputation: 61
      user_id: 624612
      user_type: registered
    question_id: 9
    score: 117
  - answer_id: 5229568
    body: '<p>这个解决方案怎么样？</p><pre> <code>static string CalcAge(DateTime birthDay) {
      DateTime currentDate = DateTime.Now; int approximateAge = currentDate.Year -
      birthDay.Year; int daysToNextBirthDay = (birthDay.Month * 30 + birthDay.Day)
      - (currentDate.Month * 30 + currentDate.Day) ; if (approximateAge == 0 || approximateAge
      == 1) { int month = Math.Abs(daysToNextBirthDay / 30); int days = Math.Abs(daysToNextBirthDay
      % 30); if (month == 0) return &quot;Your age is: &quot; + daysToNextBirthDay
      + &quot; days&quot;; return &quot;Your age is: &quot; + month + &quot; months
      and &quot; + days + &quot; days&quot;; ; } if (daysToNextBirthDay &gt; 0) return
      &quot;Your age is: &quot; + --approximateAge + &quot; Years&quot;; return &quot;Your
      age is: &quot; + approximateAge + &quot; Years&quot;; ; }</code></pre>'
    community_owned_date: 1313523643
    content_license: CC BY-SA 3.0
    creation_date: 1299569102
    is_accepted: false
    last_activity_date: 1454804060
    last_edit_date: 1454804060
    owner:
      account_id: 721537
      display_name: Doron
      link: https://stackoverflow.com/users/649407/doron
      profile_image: https://www.gravatar.com/avatar/173fe9f356bf38e09536affb7f2f2f05?s=128&d=identicon&r=PG
      reputation: 1
      user_id: 649407
      user_type: unregistered
    question_id: 9
    score: 14
  - answer_id: 5623077
    body: <p>2 主要解决的问题是：</p><p> <strong>1. 计算准确年龄</strong>- 以年、月、日等为单位。</p><p> <strong>2.
      计算普遍感知的年龄</strong>——人们通常不关心他们的<strong>年龄</strong>，他们只关心他们当年的生日是什么时候。</p><hr><p>
      <strong>1的</strong>解决方案很明显：</p><pre> <code>DateTime birth = DateTime.Parse(&quot;1.1.2000&quot;);
      DateTime today = DateTime.Today; //we usually don&#39;t care about birth time
      TimeSpan age = today - birth; //.NET FCL should guarantee this as precise double
      ageInDays = age.TotalDays; //total number of days ... also precise double daysInYear
      = 365.2425; //statistical value for 400 years double ageInYears = ageInDays
      / daysInYear; //can be shifted ... not so precise</code></pre><hr><p> <strong>2
      的</strong>解决方案是在确定总年龄方面不是那么精确，但人们认为是精确的。人们通常也会使用它，当他们“手动”计算他们的年龄时：</p><pre>
      <code>DateTime birth = DateTime.Parse(&quot;1.1.2000&quot;); DateTime today
      = DateTime.Today; int age = today.Year - birth.Year; //people perceive their
      age in years if (today.Month &lt; birth.Month || ((today.Month == birth.Month)
      &amp;&amp; (today.Day &lt; birth.Day))) { age--; //birthday in current year
      not yet reached, we are 1 year younger ;) //+ no birthday for 29.2. guys ...
      sorry, just wrong date for birth }</code></pre><p> 2.注意事项：</p><ul><li>这是我的首选解决方案</li><li>我们不能使用
      DateTime.DayOfYear 或 TimeSpans，因为它们会改变闰年的天数</li><li>为了可读性，我多放了几行</li></ul><p>还有一点要注意……我会为它创建
      2 个静态重载方法，一个用于通用，第二个用于使用友好：</p><pre> <code>public static int GetAge(DateTime
      bithDay, DateTime today) { //chosen solution method body } public static int
      GetAge(DateTime birthDay) { return GetAge(birthDay, DateTime.Now); }</code></pre>
    community_owned_date: 1313523643
    content_license: CC BY-SA 3.0
    creation_date: 1302533235
    is_accepted: false
    last_activity_date: 1454803574
    last_edit_date: 1454803574
    owner:
      account_id: 360279
      display_name: Marcel Toth
      link: https://stackoverflow.com/users/702199/marcel-toth
      profile_image: https://www.gravatar.com/avatar/a98c2aa8f8484407be50eb613a988d34?s=128&d=identicon&r=PG
      reputation: 9938
      user_id: 702199
      user_type: registered
    question_id: 9
    score: 55
  - answer_id: 5989087
    body: <p>以下方法（从<a href="https://www.codeproject.com/Articles/168662/Time-Period-Library-for-NET"
      rel="noreferrer">.NET</a>类<em>DateDiff 的</em> <a href="https://www.codeproject.com/Articles/168662/Time-Period-Library-for-NET"
      rel="noreferrer">时间段库中</a>提取）考虑了文化信息的日历：</p><pre> <code>// ----------------------------------------------------------------------
      private static int YearDiff( DateTime date1, DateTime date2 ) { return YearDiff(
      date1, date2, DateTimeFormatInfo.CurrentInfo.Calendar ); } // YearDiff // ----------------------------------------------------------------------
      private static int YearDiff( DateTime date1, DateTime date2, Calendar calendar
      ) { if ( date1.Equals( date2 ) ) { return 0; } int year1 = calendar.GetYear(
      date1 ); int month1 = calendar.GetMonth( date1 ); int year2 = calendar.GetYear(
      date2 ); int month2 = calendar.GetMonth( date2 ); // find the the day to compare
      int compareDay = date2.Day; int compareDaysPerMonth = calendar.GetDaysInMonth(
      year1, month1 ); if ( compareDay &gt; compareDaysPerMonth ) { compareDay = compareDaysPerMonth;
      } // build the compare date DateTime compareDate = new DateTime( year1, month2,
      compareDay, date2.Hour, date2.Minute, date2.Second, date2.Millisecond ); if
      ( date2 &gt; date1 ) { if ( compareDate &lt; date1 ) { compareDate = compareDate.AddYears(
      1 ); } } else { if ( compareDate &gt; date1 ) { compareDate = compareDate.AddYears(
      -1 ); } } return year2 - calendar.GetYear( compareDate ); } // YearDiff</code></pre><p>用法：</p><pre>
      <code>// ----------------------------------------------------------------------
      public void CalculateAgeSamples() { PrintAge( new DateTime( 2000, 02, 29 ),
      new DateTime( 2009, 02, 28 ) ); // &gt; Birthdate=29.02.2000, Age at 28.02.2009
      is 8 years PrintAge( new DateTime( 2000, 02, 29 ), new DateTime( 2012, 02, 28
      ) ); // &gt; Birthdate=29.02.2000, Age at 28.02.2012 is 11 years } // CalculateAgeSamples
      // ---------------------------------------------------------------------- public
      void PrintAge( DateTime birthDate, DateTime moment ) { Console.WriteLine( &quot;Birthdate={0:d},
      Age at {1:d} is {2} years&quot;, birthDate, moment, YearDiff( birthDate, moment
      ) ); } // PrintAge</code></pre>
    community_owned_date: 1313523643
    content_license: CC BY-SA 4.0
    creation_date: 1305274375
    is_accepted: false
    last_activity_date: 1530762895
    last_edit_date: 1530762895
    owner:
      display_name: user687474
      user_type: does_not_exist
    question_id: 9
    score: 10
  - answer_id: 6075141
    body: <p>这是一个 DateTime 扩展器，它将年龄计算添加到 DateTime 对象。</p><pre class="lang-cs prettyprint-override">
      <code>public static class AgeExtender { public static int GetAge(this DateTime
      dt) { int d = int.Parse(dt.ToString(&quot;yyyyMMdd&quot;)); int t = int.Parse(DateTime.Today.ToString(&quot;yyyyMMdd&quot;));
      return (td)/10000; } }</code></pre>
    comments:
    - body: 呃，不要这样做。 ToString 和 int.Parse 都相对昂贵，虽然我反对微优化，但在扩展方法中隐藏昂贵的函数并不是一个好主意。
      comment_id: 7043674
      content_license: CC BY-SA 3.0
      creation_date: 1305963073
      edited: false
      owner:
        accept_rate: 73
        account_id: 61814
        display_name: Yaur
        link: https://stackoverflow.com/users/184025/yaur
        profile_image: https://www.gravatar.com/avatar/db6aaef719eac9aef6d2d01d1b4971fb?s=128&d=identicon&r=PG
        reputation: 7036
        user_id: 184025
        user_type: registered
      post_id: 6075141
      score: 4
    - body: 此外，这是 ScArcher2 答案的副本： <a href="http://stackoverflow.com/questions/9/how-do-i-calculate-someones-age-in-c/11942#11942"
        title="我如何在 c 中计算某人的年龄">stackoverflow.com/questions/9/...</a>
      comment_id: 7182035
      content_license: CC BY-SA 3.0
      creation_date: 1306762352
      edited: false
      owner:
        accept_rate: 65
        account_id: 3410
        display_name: David Schmitt
        link: https://stackoverflow.com/users/4918/david-schmitt
        profile_image: https://www.gravatar.com/avatar/f41b1342c973956dba590327908cb349?s=128&d=identicon&r=PG
        reputation: 54984
        user_id: 4918
        user_type: registered
      post_id: 6075141
      score: 2
    - body: Yaur，我真的很喜欢 Elmer 的解决方案，它依赖于 DayOfYear，可能比我的更有效率。请注意，我的目标不是更改 ScArcher2
        的算法，我觉得这很粗鲁。它只是为了展示如何实现扩展方法。
      comment_id: 8874080
      content_license: CC BY-SA 3.0
      creation_date: 1315520609
      edited: false
      owner:
        accept_rate: 73
        account_id: 398433
        display_name: B2K
        link: https://stackoverflow.com/users/763112/b2k
        profile_image: https://i.stack.imgur.com/Zk03O.jpg?s=128&g=1
        reputation: 2423
        user_id: 763112
        user_type: registered
      post_id: 6075141
      score: 0
    community_owned_date: 1313523643
    content_license: CC BY-SA 4.0
    creation_date: 1305910114
    is_accepted: false
    last_activity_date: 1577177754
    last_edit_date: 1577177754
    owner:
      accept_rate: 73
      account_id: 398433
      display_name: B2K
      link: https://stackoverflow.com/users/763112/b2k
      profile_image: https://i.stack.imgur.com/Zk03O.jpg?s=128&g=1
      reputation: 2423
      user_id: 763112
      user_type: registered
    question_id: 9
    score: 4
  - answer_id: 6719204
    body: <p>我对<a href="https://stackoverflow.com/questions/9/how-do-i-calculate-someones-age-in-c/1404#1404">Mark
      Soen 的</a>回答做了一个小小的改动：我<a href="https://stackoverflow.com/questions/9/how-do-i-calculate-someones-age-in-c/1404#1404">重写</a>了第三行，以便更容易地解析表达式。</p><pre>
      <code>public int AgeInYears(DateTime bday) { DateTime now = DateTime.Today;
      int age = now.Year - bday.Year; if (bday.AddYears(age) &gt; now) age--; return
      age; }</code></pre><p>为了清楚起见，我还把它变成了一个函数。</p>
    community_owned_date: 1313523643
    content_license: CC BY-SA 3.0
    creation_date: 1310839310
    is_accepted: false
    last_activity_date: 1519317537
    last_edit_date: 1519317537
    owner:
      accept_rate: 96
      account_id: 62033
      display_name: cdiggins
      link: https://stackoverflow.com/users/184528/cdiggins
      profile_image: https://www.gravatar.com/avatar/da682c7ec9a8375da6b0800ee6977e15?s=128&d=identicon&r=PG
      reputation: 15730
      user_id: 184528
      user_type: registered
    question_id: 9
    score: 8
  - answer_id: 7046204
    body: '<p>我使用 ScArcher2 的解决方案来准确计算一个人的年龄，但我需要进一步计算他们的月和日以及年。</p><pre><code> public
      static Dictionary&lt;string,int&gt; CurrentAgeInYearsMonthsDays(DateTime? ndtBirthDate,
      DateTime? ndtReferralDate) { //----------------------------------------------------------------------
      // Can&#39;t determine age if we don&#39;t have a dates. //----------------------------------------------------------------------
      if (ndtBirthDate == null) return null; if (ndtReferralDate == null) return null;
      DateTime dtBirthDate = Convert.ToDateTime(ndtBirthDate); DateTime dtReferralDate
      = Convert.ToDateTime(ndtReferralDate); //----------------------------------------------------------------------
      // Create our Variables //----------------------------------------------------------------------
      Dictionary&lt;string, int&gt; dYMD = new Dictionary&lt;string,int&gt;(); int
      iNowDate, iBirthDate, iYears, iMonths, iDays; string sDif = &quot;&quot;; //----------------------------------------------------------------------
      // Store off current date/time and DOB into local variables //----------------------------------------------------------------------
      iNowDate = int.Parse(dtReferralDate.ToString(&quot;yyyyMMdd&quot;)); iBirthDate
      = int.Parse(dtBirthDate.ToString(&quot;yyyyMMdd&quot;)); //----------------------------------------------------------------------
      // Calculate Years //----------------------------------------------------------------------
      sDif = (iNowDate - iBirthDate).ToString(); iYears = int.Parse(sDif.Substring(0,
      sDif.Length - 4)); //----------------------------------------------------------------------
      // Store Years in Return Value //----------------------------------------------------------------------
      dYMD.Add(&quot;Years&quot;, iYears); //----------------------------------------------------------------------
      // Calculate Months //----------------------------------------------------------------------
      if (dtBirthDate.Month &gt; dtReferralDate.Month) iMonths = 12 - dtBirthDate.Month
      + dtReferralDate.Month - 1; else iMonths = dtBirthDate.Month - dtReferralDate.Month;
      //---------------------------------------------------------------------- //
      Store Months in Return Value //----------------------------------------------------------------------
      dYMD.Add(&quot;Months&quot;, iMonths); //----------------------------------------------------------------------
      // Calculate Remaining Days //----------------------------------------------------------------------
      if (dtBirthDate.Day &gt; dtReferralDate.Day) //Logic: Figure out the days in
      month previous to the current month, or the admitted month. // Subtract the
      birthday from the total days which will give us how many days the person has
      lived since their birthdate day the previous month. // then take the referral
      date and simply add the number of days the person has lived this month. //If
      referral date is january, we need to go back to the following year&#39;s December
      to get the days in that month. if (dtReferralDate.Month == 1) iDays = DateTime.DaysInMonth(dtReferralDate.Year
      - 1, 12) - dtBirthDate.Day + dtReferralDate.Day; else iDays = DateTime.DaysInMonth(dtReferralDate.Year,
      dtReferralDate.Month - 1) - dtBirthDate.Day + dtReferralDate.Day; else iDays
      = dtReferralDate.Day - dtBirthDate.Day; //----------------------------------------------------------------------
      // Store Days in Return Value //----------------------------------------------------------------------
      dYMD.Add(&quot;Days&quot;, iDays); return dYMD; }</code></pre>'
    community_owned_date: 1313523643
    content_license: CC BY-SA 3.0
    creation_date: 1313182436
    is_accepted: false
    last_activity_date: 1350216316
    last_edit_date: 1350216316
    owner:
      accept_rate: 95
      account_id: 479662
      display_name: Dylan Hayes
      link: https://stackoverflow.com/users/892460/dylan-hayes
      profile_image: https://www.gravatar.com/avatar/5218b101f39dbbbc446e2a2ce2a4fb87?s=128&d=identicon&r=PG
      reputation: 2241
      user_id: 892460
      user_type: registered
    question_id: 9
    score: 9
  - answer_id: 8816564
    body: <p>我想使用此线程中的重写函数添加希伯来语日历计算（或其他 System.Globalization 日历可以以相同的方式使用）：</p><pre
      class="lang-cs prettyprint-override"> <code>Public Shared Function CalculateAge(BirthDate
      As DateTime) As Integer Dim HebCal As New System.Globalization.HebrewCalendar
      () Dim now = DateTime.Now() Dim iAge = HebCal.GetYear(now) - HebCal.GetYear(BirthDate)
      Dim iNowMonth = HebCal.GetMonth(now), iBirthMonth = HebCal.GetMonth(BirthDate)
      If iNowMonth &lt; iBirthMonth Or (iNowMonth = iBirthMonth AndAlso HebCal.GetDayOfMonth(now)
      &lt; HebCal.GetDayOfMonth(BirthDate)) Then iAge -= 1 Return iAge End Function</code></pre>
    comments:
    - body: 问题要求“在<b>C# 中</b>，我如何计算某人的年龄......”。
      comment_id: 110029258
      content_license: CC BY-SA 4.0
      creation_date: 1591352452
      edited: false
      owner:
        account_id: 925495
        display_name: Protiguous
        link: https://stackoverflow.com/users/956364/protiguous
        profile_image: https://i.stack.imgur.com/DNa9O.png?s=128&g=1
        reputation: 93
        user_id: 956364
        user_type: registered
      post_id: 8816564
      score: 0
    - body: 对于这个想法，c# 和 vb 是一样的。
      comment_id: 110068550
      content_license: CC BY-SA 4.0
      creation_date: 1591464751
      edited: false
      owner:
        account_id: 1052784
        display_name: Moshe L
        link: https://stackoverflow.com/users/1056259/moshe-l
        profile_image: https://www.gravatar.com/avatar/56b9129940388d524f569cca9cf1a03c?s=128&d=identicon&r=PG
        reputation: 1377
        user_id: 1056259
        user_type: registered
      post_id: 8816564
      reply_to_user:
        account_id: 925495
        display_name: Protiguous
        link: https://stackoverflow.com/users/956364/protiguous
        profile_image: https://i.stack.imgur.com/DNa9O.png?s=128&g=1
        reputation: 93
        user_id: 956364
        user_type: registered
      score: 0
    community_owned_date: 1326272286
    content_license: CC BY-SA 4.0
    creation_date: 1326272286
    is_accepted: false
    last_activity_date: 1577177914
    last_edit_date: 1577177914
    owner:
      account_id: 1052784
      display_name: Moshe L
      link: https://stackoverflow.com/users/1056259/moshe-l
      profile_image: https://www.gravatar.com/avatar/56b9129940388d524f569cca9cf1a03c?s=128&d=identicon&r=PG
      reputation: 1377
      user_id: 1056259
      user_type: registered
    question_id: 9
    score: 3
  - answer_id: 9431192
    body: <p>这很简单，似乎对我的需求来说是准确的。我为了闰年的目的做出一个假设，无论这个人选择什么时候庆祝生日，他们在技术上不会老一岁，直到他们上次生日已经过去
      365 天（即 2 月 28 日不会让他们老一岁） .</p><pre> <code>DateTime now = DateTime.Today; DateTime
      birthday = new DateTime(1991, 02, 03);//3rd feb int age = now.Year - birthday.Year;
      if (now.Month &lt; birthday.Month || (now.Month == birthday.Month &amp;&amp;
      now.Day &lt; birthday.Day))//not had bday this year yet age--; return age;</code></pre>
    community_owned_date: 1330088334
    content_license: CC BY-SA 4.0
    creation_date: 1330088334
    is_accepted: false
    last_activity_date: 1611996267
    last_edit_date: 1611996267
    owner:
      accept_rate: 89
      account_id: 446019
      display_name: musefan
      link: https://stackoverflow.com/users/838807/musefan
      profile_image: https://www.gravatar.com/avatar/372d495ca83f81cfadb782894ee41b17?s=128&d=identicon&r=PG
      reputation: 45836
      user_id: 838807
      user_type: registered
    question_id: 9
    score: 8
  - answer_id: 11328202
    body: <p>试试这个解决方案，它有效。</p><pre class="lang-cs prettyprint-override"> <code>int
      age = (Int32.Parse(DateTime.Today.ToString(&quot;yyyyMMdd&quot;)) - Int32.Parse(birthday.ToString(&quot;yyyyMMdd
      rawrrr&quot;))) / 10000;</code></pre>
    community_owned_date: 1341401303
    content_license: CC BY-SA 4.0
    creation_date: 1341401303
    is_accepted: false
    last_activity_date: 1577177996
    last_edit_date: 1577177996
    owner:
      accept_rate: 96
      account_id: 93074
      display_name: Narasimha
      link: https://stackoverflow.com/users/254790/narasimha
      profile_image: https://www.gravatar.com/avatar/0f5ac473ed10f1aa0c4a45ee317b1836?s=128&d=identicon&r=PG
      reputation: 3742
      user_id: 254790
      user_type: registered
    question_id: 9
    score: 2
  - answer_id: 13531544
    body: '<p>这不是直接的答案，而是从准科学的角度对手头的问题进行哲学推理。</p><p>我认为这个问题没有具体说明衡量年龄的单位或文化，大多数答案似乎都假设一个整数年度代表。时间的
      SI 单位是<code>second</code> ，因此正确的通用答案应该是（当然假设标准化<code>DateTime</code>并且不考虑相对论效应）：</p><pre>
      <code>var lifeInSeconds = (DateTime.Now.Ticks - then.Ticks)/TickFactor;</code></pre><p>在基督教计算年龄的方法中：</p><pre>
      <code>var then = ... // Then, in this case the birthday var now = DateTime.UtcNow;
      int age = now.Year - then.Year; if (now.AddYears(-age) &lt; then) age--;</code></pre><p>在金融领域，在计算通常称为<em>Day
      Count Fraction 的</em>东西时也存在类似的问题，它大致是给定时期的年数。年龄问题实际上是一个时间测量问题。</p><p>实际/实际（“正确”计算所有天数）约定的示例：</p><pre>
      <code>DateTime start, end = .... // Whatever, assume start is before end double
      startYearContribution = 1 - (double) start.DayOfYear / (double) (DateTime.IsLeapYear(start.Year)
      ? 366 : 365); double endYearContribution = (double)end.DayOfYear / (double)(DateTime.IsLeapYear(end.Year)
      ? 366 : 365); double middleContribution = (double) (end.Year - start.Year -
      1); double DCF = startYearContribution + endYearContribution + middleContribution;</code></pre><p>测量时间的另一种非常常见的方法是“序列化”（命名此日期约定的人一定是认真的）：</p><pre>
      <code>DateTime start, end = .... // Whatever, assume start is before end int
      days = (end - start).Days;</code></pre><p>我想知道我们需要多长时间才能以秒为单位的相对论年龄变得比迄今为止在一个人的一生中地球绕太阳周期的粗略近似更有用:)
      或者换句话说，当必须给一个时期一个位置或一个表示运动本身有效的函数:)</p>'
    comments:
    - body: 什么是<b>TickFactor</b> ？
      comment_id: 110029306
      content_license: CC BY-SA 4.0
      creation_date: 1591352546
      edited: false
      owner:
        account_id: 925495
        display_name: Protiguous
        link: https://stackoverflow.com/users/956364/protiguous
        profile_image: https://i.stack.imgur.com/DNa9O.png?s=128&g=1
        reputation: 93
        user_id: 956364
        user_type: registered
      post_id: 13531544
      score: 0
    - body: '@Protiguous Ticks per second，用于将刻度标准化为秒。'
      comment_id: 110038513
      content_license: CC BY-SA 4.0
      creation_date: 1591368755
      edited: false
      owner:
        accept_rate: 80
        account_id: 353537
        display_name: flindeberg
        link: https://stackoverflow.com/users/691294/flindeberg
        profile_image: https://www.gravatar.com/avatar/0fb2a5bea35e0567300aa4f58634e6e4?s=128&d=identicon&r=PG&f=1
        reputation: 4601
        user_id: 691294
        user_type: registered
      post_id: 13531544
      reply_to_user:
        account_id: 925495
        display_name: Protiguous
        link: https://stackoverflow.com/users/956364/protiguous
        profile_image: https://i.stack.imgur.com/DNa9O.png?s=128&g=1
        reputation: 93
        user_id: 956364
        user_type: registered
      score: 0
    community_owned_date: 1353682831
    content_license: CC BY-SA 3.0
    creation_date: 1353682831
    is_accepted: false
    last_activity_date: 1509449559
    last_edit_date: 1509449559
    owner:
      accept_rate: 80
      account_id: 353537
      display_name: flindeberg
      link: https://stackoverflow.com/users/691294/flindeberg
      profile_image: https://www.gravatar.com/avatar/0fb2a5bea35e0567300aa4f58634e6e4?s=128&d=identicon&r=PG&f=1
      reputation: 4601
      user_id: 691294
      user_type: registered
    question_id: 9
    score: 20
  - answer_id: 13645039
    body: '<p>我们需要考虑小于1岁的人吗？作为中国文化，我们将小婴儿的年龄描述为 2 个月或 4 周。</p><p>下面是我的实现，没有我想象的那么简单，尤其是处理像2/28这样的日期。</p><pre>
      <code>public static string HowOld(DateTime birthday, DateTime now) { if (now
      &lt; birthday) throw new ArgumentOutOfRangeException(&quot;birthday must be
      less than now.&quot;); TimeSpan diff = now - birthday; int diffDays = (int)diff.TotalDays;
      if (diffDays &gt; 7)//year, month and week { int age = now.Year - birthday.Year;
      if (birthday &gt; now.AddYears(-age)) age--; if (age &gt; 0) { return age +
      (age &gt; 1 ? &quot; years&quot; : &quot; year&quot;); } else {// month and
      week DateTime d = birthday; int diffMonth = 1; while (d.AddMonths(diffMonth)
      &lt;= now) { diffMonth++; } age = diffMonth-1; if (age == 1 &amp;&amp; d.Day
      &gt; now.Day) age--; if (age &gt; 0) { return age + (age &gt; 1 ? &quot; months&quot;
      : &quot; month&quot;); } else { age = diffDays / 7; return age + (age &gt; 1
      ? &quot; weeks&quot; : &quot; week&quot;); } } } else if (diffDays &gt; 0) {
      int age = diffDays; return age + (age &gt; 1 ? &quot; days&quot; : &quot; day&quot;);
      } else { int age = diffDays; return &quot;just born&quot;; } }</code></pre><p>此实现已通过以下测试用例。</p><pre>
      <code>[TestMethod] public void TestAge() { string age = HowOld(new DateTime(2011,
      1, 1), new DateTime(2012, 11, 30)); Assert.AreEqual(&quot;1 year&quot;, age);
      age = HowOld(new DateTime(2011, 11, 30), new DateTime(2012, 11, 30)); Assert.AreEqual(&quot;1
      year&quot;, age); age = HowOld(new DateTime(2001, 1, 1), new DateTime(2012,
      11, 30)); Assert.AreEqual(&quot;11 years&quot;, age); age = HowOld(new DateTime(2012,
      1, 1), new DateTime(2012, 11, 30)); Assert.AreEqual(&quot;10 months&quot;, age);
      age = HowOld(new DateTime(2011, 12, 1), new DateTime(2012, 11, 30)); Assert.AreEqual(&quot;11
      months&quot;, age); age = HowOld(new DateTime(2012, 10, 1), new DateTime(2012,
      11, 30)); Assert.AreEqual(&quot;1 month&quot;, age); age = HowOld(new DateTime(2008,
      2, 28), new DateTime(2009, 2, 28)); Assert.AreEqual(&quot;1 year&quot;, age);
      age = HowOld(new DateTime(2008, 3, 28), new DateTime(2009, 2, 28)); Assert.AreEqual(&quot;11
      months&quot;, age); age = HowOld(new DateTime(2008, 3, 28), new DateTime(2009,
      3, 28)); Assert.AreEqual(&quot;1 year&quot;, age); age = HowOld(new DateTime(2009,
      1, 28), new DateTime(2009, 2, 28)); Assert.AreEqual(&quot;1 month&quot;, age);
      age = HowOld(new DateTime(2009, 2, 1), new DateTime(2009, 3, 1)); Assert.AreEqual(&quot;1
      month&quot;, age); // NOTE. // new DateTime(2008, 1, 31).AddMonths(1) == new
      DateTime(2009, 2, 28); // new DateTime(2008, 1, 28).AddMonths(1) == new DateTime(2009,
      2, 28); age = HowOld(new DateTime(2009, 1, 31), new DateTime(2009, 2, 28));
      Assert.AreEqual(&quot;4 weeks&quot;, age); age = HowOld(new DateTime(2009, 2,
      1), new DateTime(2009, 2, 28)); Assert.AreEqual(&quot;3 weeks&quot;, age); age
      = HowOld(new DateTime(2009, 2, 1), new DateTime(2009, 3, 1)); Assert.AreEqual(&quot;1
      month&quot;, age); age = HowOld(new DateTime(2012, 11, 5), new DateTime(2012,
      11, 30)); Assert.AreEqual(&quot;3 weeks&quot;, age); age = HowOld(new DateTime(2012,
      11, 1), new DateTime(2012, 11, 30)); Assert.AreEqual(&quot;4 weeks&quot;, age);
      age = HowOld(new DateTime(2012, 11, 20), new DateTime(2012, 11, 30)); Assert.AreEqual(&quot;1
      week&quot;, age); age = HowOld(new DateTime(2012, 11, 25), new DateTime(2012,
      11, 30)); Assert.AreEqual(&quot;5 days&quot;, age); age = HowOld(new DateTime(2012,
      11, 29), new DateTime(2012, 11, 30)); Assert.AreEqual(&quot;1 day&quot;, age);
      age = HowOld(new DateTime(2012, 11, 30), new DateTime(2012, 11, 30)); Assert.AreEqual(&quot;just
      born&quot;, age); age = HowOld(new DateTime(2000, 2, 29), new DateTime(2009,
      2, 28)); Assert.AreEqual(&quot;8 years&quot;, age); age = HowOld(new DateTime(2000,
      2, 29), new DateTime(2009, 3, 1)); Assert.AreEqual(&quot;9 years&quot;, age);
      Exception e = null; try { age = HowOld(new DateTime(2012, 12, 1), new DateTime(2012,
      11, 30)); } catch (ArgumentOutOfRangeException ex) { e = ex; } Assert.IsTrue(e
      != null); }</code></pre><p>希望它有帮助。</p>'
    community_owned_date: 1354277601
    content_license: CC BY-SA 3.0
    creation_date: 1354277601
    is_accepted: false
    last_activity_date: 1454804318
    last_edit_date: 1454804318
    owner:
      accept_rate: 40
      account_id: 1304828
      display_name: rockXrock
      link: https://stackoverflow.com/users/1254006/rockxrock
      profile_image: https://www.gravatar.com/avatar/afdade41c9130a51ecbc36c8f39773e5?s=128&d=identicon&r=PG
      reputation: 3313
      user_id: 1254006
      user_type: registered
    question_id: 9
    score: 21
  - answer_id: 14125249
    body: <p>这是一个非常简单且易于遵循的示例。</p><pre> <code>private int CalculateAge() { //get birthdate
      DateTime dtBirth = Convert.ToDateTime(BirthDatePicker.Value); int byear = dtBirth.Year;
      int bmonth = dtBirth.Month; int bday = dtBirth.Day; DateTime dtToday = DateTime.Now;
      int tYear = dtToday.Year; int tmonth = dtToday.Month; int tday = dtToday.Day;
      int age = tYear - byear; if (bmonth &lt; tmonth) age--; else if (bmonth == tmonth
      &amp;&amp; bday&gt;tday) { age--; } return age; }</code></pre>
    community_owned_date: 1357142942
    content_license: CC BY-SA 3.0
    creation_date: 1357142942
    is_accepted: false
    last_activity_date: 1360863989
    last_edit_date: 1360863989
    owner:
      accept_rate: 69
      account_id: 1576027
      display_name: Stranger
      link: https://stackoverflow.com/users/1462452/stranger
      profile_image: https://www.gravatar.com/avatar/54d150e51966be70513ad55771caa714?s=128&d=identicon&r=PG
      reputation: 864
      user_id: 1462452
      user_type: registered
    question_id: 9
    score: 2
  - answer_id: 16142434
    body: <p>这是另一个答案：</p><pre> <code>public static int AgeInYears(DateTime birthday,
      DateTime today) { return ((today.Year - birthday.Year) * 372 + (today.Month
      - birthday.Month) * 31 + (today.Day - birthday.Day)) / 372; }</code></pre><p>这已经过广泛的单元测试。它看起来确实有点“神奇”。如果每个月有
      31 天，那么数字 372 是一年中的天数。</p><p>它为什么起作用的解释（ <a href="https://social.msdn.microsoft.com/Forums/en-US/csharplanguage/thread/ba4a98af-aab3-4c59-bdee-611334e502f2"
      rel="noreferrer">从这里解除</a>）是：</p><blockquote><p>让我们设置<code>Yn = DateTime.Now.Year,
      Yb = birthday.Year, Mn = DateTime.Now.Month, Mb = birthday.Month, Dn = DateTime.Now.Day,
      Db = birthday.Day</code></p><p> <code>age = Yn - Yb + (31*(Mn - Mb) + (Dn -
      Db)) / 372</code></p><p>我们知道我们需要的是<code>Yn-Yb</code>如果日期已经到达），或者<code>Yn-Yb-1</code>如果尚未到达）。</p><p>
      a) 如果<code>Mn&lt;Mb</code> ，我们有<code>-341 &lt;= 31*(Mn-Mb) &lt;= -31 and -30
      &lt;= Dn-Db &lt;= 30</code></p><p> <code>-371 &lt;= 31*(Mn - Mb) + (Dn - Db)
      &lt;= -1</code></p><p>带整数除法</p><p><code>(31*(Mn - Mb) + (Dn - Db)) / 372 = -1</code></p><p>
      b) 如果<code>Mn=Mb</code>并且<code>Dn&lt;Db</code> ，我们有<code>31*(Mn - Mb) = 0 and
      -30 &lt;= Dn-Db &lt;= -1</code></p><p>再用整数除法</p><p><code>(31*(Mn - Mb) + (Dn
      - Db)) / 372 = -1</code></p><p> c) 如果<code>Mn&gt;Mb</code> ，我们有<code>31 &lt;=
      31*(Mn-Mb) &lt;= 341 and -30 &lt;= Dn-Db &lt;= 30</code></p><p> <code>1 &lt;=
      31*(Mn - Mb) + (Dn - Db) &lt;= 371</code></p><p>带整数除法</p><p><code>(31*(Mn -
      Mb) + (Dn - Db)) / 372 = 0</code></p><p> d) 如果<code>Mn=Mb</code>并且<code>Dn&gt;Db</code>
      ，我们有<code>31*(Mn - Mb) = 0 and 1 &lt;= Dn-Db &lt;= 3</code> 0</p><p>再用整数除法</p><p><code>(31*(Mn
      - Mb) + (Dn - Db)) / 372 = 0</code></p><p> e) 如果<code>Mn=Mb</code>和<code>Dn=Db</code>
      ，我们有<code>31*(Mn - Mb) + Dn-Db = 0</code></p><p>因此<code>(31*(Mn - Mb) + (Dn
      - Db)) / 372 = 0</code></p></blockquote>
    community_owned_date: 1366618791
    content_license: CC BY-SA 4.0
    creation_date: 1366618791
    is_accepted: false
    last_activity_date: 1530762842
    last_edit_date: 1592644375
    owner:
      accept_rate: 93
      account_id: 37150
      display_name: Matthew Watson
      link: https://stackoverflow.com/users/106159/matthew-watson
      profile_image: https://i.stack.imgur.com/Qfp6z.png?s=128&g=1
      reputation: 91078
      user_id: 106159
      user_type: registered
    question_id: 9
    score: 29
  - answer_id: 18682920
    body: '<p>有了更少的转换和 UtcNow，这段代码可以照顾闰年 2 月 29 日出生的人：</p><pre> <code>public int GetAge(DateTime
      DateOfBirth) { var Now = DateTime.UtcNow; return Now.Year - DateOfBirth.Year
      - ( ( Now.Month &gt; DateOfBirth.Month || (Now.Month == DateOfBirth.Month &amp;&amp;
      Now.Day &gt;= DateOfBirth.Day) ) ? 0 : 1 ); }</code></pre>'
    comments:
    - body: 就是今天！ （下一个是四年后。）
      comment_id: 106960411
      content_license: CC BY-SA 4.0
      creation_date: 1582938669
      edited: false
      owner:
        accept_rate: 78
        account_id: 24885
        display_name: Peter Mortensen
        link: https://stackoverflow.com/users/63550/peter-mortensen
        profile_image: https://i.stack.imgur.com/RIZKi.png?s=128&g=1
        reputation: 28511
        user_id: 63550
        user_type: registered
      post_id: 18682920
      score: 1
    community_owned_date: 1378638108
    content_license: CC BY-SA 4.0
    creation_date: 1378638108
    is_accepted: false
    last_activity_date: 1582938615
    last_edit_date: 1582938615
    owner:
      accept_rate: 83
      account_id: 461945
      display_name: vulcan raven
      link: https://stackoverflow.com/users/863980/vulcan-raven
      profile_image: https://www.gravatar.com/avatar/ea08c9063ae1de86e8d576fb569d513a?s=128&d=identicon&r=PG
      reputation: 29877
      user_id: 863980
      user_type: registered
    question_id: 9
    score: 2
  - answer_id: 18895699
    body: <blockquote><p>为什么MSDN帮助没有告诉你？看起来很明显：</p></blockquote><pre class="lang-cs
      prettyprint-override"> <code>System.DateTime birthTime = AskTheUser(myUser);
      // :-) System.DateTime now = System.DateTime.Now; System.TimeSpan age = now
      - birthTime; // As simple as that double ageInDays = age.TotalDays; // Will
      you convert to whatever you want yourself?</code></pre>
    comments:
    - body: 嗯，这太棒了，如果你在地球上以天为单位测量成年人年龄的零国家之一。
      comment_id: 41397155
      content_license: CC BY-SA 3.0
      creation_date: 1413319638
      edited: false
      owner:
        accept_rate: 81
        account_id: 2346280
        display_name: Casey
        link: https://stackoverflow.com/users/2056448/casey
        profile_image: https://www.gravatar.com/avatar/ee46b8bbaa7a18cb68e55bb0e25ff194?s=128&d=identicon&r=PG
        reputation: 3151
        user_id: 2056448
        user_type: registered
      post_id: 18895699
      score: 11
    community_owned_date: 1379596537
    content_license: CC BY-SA 4.0
    creation_date: 1379596537
    is_accepted: false
    last_activity_date: 1582938737
    last_edit_date: 1582938737
    owner:
      accept_rate: 57
      account_id: 2468401
      display_name: Archit
      link: https://stackoverflow.com/users/2435287/archit
      profile_image: https://i.stack.imgur.com/ts3cc.jpg?s=128&g=1
      reputation: 570
      user_id: 2435287
      user_type: registered
    question_id: 9
    score: 2
  - answer_id: 18898663
    body: <pre class="lang-cs prettyprint-override"><code>TimeSpan diff = DateTime.Now
      - birthdayDateTime; string age = String.Format(&quot;{0:%y} years, {0:%M} months,
      {0:%d}, days old&quot;, diff);</code></pre><p>我不确定您希望它返回给您的确切方式，所以我只是制作了一个可读的字符串。</p>
    community_owned_date: 1379603933
    content_license: CC BY-SA 4.0
    creation_date: 1379603933
    is_accepted: false
    last_activity_date: 1577177555
    last_edit_date: 1577177555
    owner:
      accept_rate: 71
      account_id: 1269746
      display_name: Dakotah Hicock
      link: https://stackoverflow.com/users/1226335/dakotah-hicock
      profile_image: https://www.gravatar.com/avatar/ac16fae97f4dee6e764734d5d0ad1200?s=128&d=identicon&r=PG&f=1
      reputation: 380
      user_id: 1226335
      user_type: registered
    question_id: 9
    score: 19
  - answer_id: 18924226
    body: <p>这为这个问题提供了“更多细节”。也许这就是你要找的</p><pre><code>DateTime birth = new DateTime(1974,
      8, 29); DateTime today = DateTime.Now; TimeSpan span = today - birth; DateTime
      age = DateTime.MinValue + span; // Make adjustment due to MinValue equalling
      1/1/1 int years = age.Year - 1; int months = age.Month - 1; int days = age.Day
      - 1; // Print out not only how many years old they are but give months and days
      as well Console.Write(&quot;{0} years, {1} months, {2} days&quot;, years, months,
      days);</code></pre>
    comments:
    - body: 这并不总是有效。将跨度添加到 DateTime.MinValue 可以工作 boes 这不考虑闰年等。如果您使用 AddYears()、AddMonths
        和 AddDays() 函数将年、月和日添加到年龄，它不会总是返回日期时间.现在约会。
      comment_id: 28987998
      content_license: CC BY-SA 3.0
      creation_date: 1382521455
      edited: false
      owner:
        accept_rate: 67
        account_id: 1806707
        display_name: Athanasios Kataras
        link: https://stackoverflow.com/users/1643676/athanasios-kataras
        profile_image: https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG
        reputation: 21263
        user_id: 1643676
        user_type: registered
      post_id: 18924226
      score: 1
    - body: timespan 本身会自动考虑两个日期之间的闰年，所以我不确定你在做什么。我在微软论坛上问过，微软已经确认它考虑了两个日期之间的闰年。
      comment_id: 29009988
      content_license: CC BY-SA 3.0
      creation_date: 1382556558
      edited: false
      owner:
        accept_rate: 67
        account_id: 3302549
        display_name: Jacqueline Loriault
        link: https://stackoverflow.com/users/2778315/jacqueline-loriault
        profile_image: https://www.gravatar.com/avatar/ecd796f1f75c2c28e19d078f07c81769?s=128&d=identicon&r=PG
        reputation: 590
        user_id: 2778315
        user_type: registered
      post_id: 18924226
      reply_to_user:
        accept_rate: 67
        account_id: 1806707
        display_name: Athanasios Kataras
        link: https://stackoverflow.com/users/1643676/athanasios-kataras
        profile_image: https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG
        reputation: 21263
        user_id: 1643676
        user_type: registered
      score: 3
    - body: 考虑以下两个场景。第一个 DateTime.Now 是 1/1/2001，一个孩子出生于 1/1/2000。 2000 年是闰年，结果将是
        1 年零 1 天。在第二个 senarion DateTime.Now 是 1/1/2002 和孩子出生于 1/1/2001。在这种情况下，结果将是
        1 年零 0 个月零 0 天。之所以会发生这种情况，是因为您要在非闰年添加时间跨度。如果 DateTime.MinValue 是闰年，那么结果将是第一年
        1 年和 0 年 11 个月零 30 天。 （在您的代码中尝试一下）。
      comment_id: 29030663
      content_license: CC BY-SA 3.0
      creation_date: 1382610719
      edited: false
      owner:
        accept_rate: 67
        account_id: 1806707
        display_name: Athanasios Kataras
        link: https://stackoverflow.com/users/1643676/athanasios-kataras
        profile_image: https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG
        reputation: 21263
        user_id: 1643676
        user_type: registered
      post_id: 18924226
      score: 3
    - body: 点赞！我想出了一个几乎相同的解决方案（我使用了 DateTime.MinValue.AddTicks(span.Ticks) 而不是 +，但结果是一样的，你的代码少了几个字符）。
      comment_id: 46448567
      content_license: CC BY-SA 3.0
      creation_date: 1426625832
      edited: false
      owner:
        accept_rate: 50
        account_id: 164964
        display_name: Makotosan
        link: https://stackoverflow.com/users/388065/makotosan
        profile_image: https://www.gravatar.com/avatar/f0d5510c3c90ef3a040ad3bbd2e38859?s=128&d=identicon&r=PG
        reputation: 1149
        user_id: 388065
        user_type: registered
      post_id: 18924226
      score: 1
    - body: '@AthanasiosKataras，我不明白你的评论“如果 DateTime.MinValue 是闰年......”。 DateTime.MinValue
        什么时候是闰年？它永远是“1/1/0001”，这不是闰年。'
      comment_id: 46448684
      content_license: CC BY-SA 3.0
      creation_date: 1426626034
      edited: false
      owner:
        accept_rate: 50
        account_id: 164964
        display_name: Makotosan
        link: https://stackoverflow.com/users/388065/makotosan
        profile_image: https://www.gravatar.com/avatar/f0d5510c3c90ef3a040ad3bbd2e38859?s=128&d=identicon&r=PG
        reputation: 1149
        user_id: 388065
        user_type: registered
      post_id: 18924226
      reply_to_user:
        accept_rate: 67
        account_id: 1806707
        display_name: Athanasios Kataras
        link: https://stackoverflow.com/users/1643676/athanasios-kataras
        profile_image: https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG
        reputation: 21263
        user_id: 1643676
        user_type: registered
      score: 1
    - body: 你说得对，不是。但如果是这样，结果就是这样。为什么这有关系？它没有。在任何一种情况下，无论是否飞跃，都有一些例子表明这不起作用。这就是我想要展示的。
        DIFF 是正确的。 Span 考虑了闰年。但是添加到基准日期不是。尝试代码中的示例，您会发现我是对的。
      comment_id: 46485281
      content_license: CC BY-SA 3.0
      creation_date: 1426702834
      edited: false
      owner:
        accept_rate: 67
        account_id: 1806707
        display_name: Athanasios Kataras
        link: https://stackoverflow.com/users/1643676/athanasios-kataras
        profile_image: https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG
        reputation: 21263
        user_id: 1643676
        user_type: registered
      post_id: 18924226
      score: 4
    community_owned_date: 1379704436
    content_license: CC BY-SA 3.0
    creation_date: 1379704436
    is_accepted: false
    last_activity_date: 1381839392
    last_edit_date: 1381839392
    owner:
      accept_rate: 67
      account_id: 3302549
      display_name: Jacqueline Loriault
      link: https://stackoverflow.com/users/2778315/jacqueline-loriault
      profile_image: https://www.gravatar.com/avatar/ecd796f1f75c2c28e19d078f07c81769?s=128&d=identicon&r=PG
      reputation: 590
      user_id: 2778315
      user_type: registered
    question_id: 9
    score: 34
  - answer_id: 20348258
    body: <p>要计算最接近年龄的年龄：</p><pre class="lang-cs prettyprint-override"> <code>var
      ts = DateTime.Now - new DateTime(1988, 3, 19); var age = Math.Round(ts.Days
      / 365.0);</code></pre>
    comments:
    - body: 不一定是真的。我想正确的方法是除以 365.25 以某种方式解释闰年
      comment_id: 34275766
      content_license: CC BY-SA 3.0
      creation_date: 1395296818
      edited: false
      owner:
        accept_rate: 88
        account_id: 233501
        display_name: Kat Lim Ruiz
        link: https://stackoverflow.com/users/915865/kat-lim-ruiz
        profile_image: https://www.gravatar.com/avatar/4286f39a9eae19c0c5a813ff6aefba06?s=128&d=identicon&r=PG
        reputation: 2041
        user_id: 915865
        user_type: registered
      post_id: 20348258
      score: 1
    community_owned_date: 1386065682
    content_license: CC BY-SA 4.0
    creation_date: 1386065682
    is_accepted: false
    last_activity_date: 1577177727
    last_edit_date: 1577177727
    owner:
      accept_rate: 48
      account_id: 2749243
      display_name: Dhaval Panchal
      link: https://stackoverflow.com/users/2368967/dhaval-panchal
      profile_image: https://i.stack.imgur.com/FExPI.jpg?s=128&g=1
      reputation: 582
      user_id: 2368967
      user_type: registered
    question_id: 9
    score: -2
  - answer_id: 20715576
    body: <p>这个经典问题值得<a href="https://nodatime.org" rel="noreferrer">Noda Time</a>解决。</p><pre>
      <code>static int GetAge(LocalDate dateOfBirth) { Instant now = SystemClock.Instance.Now;
      // The target time zone is important. // It should align with the *current physical
      location* of the person // you are talking about. When the whereabouts of that
      person are unknown, // then you use the time zone of the person who is *asking*
      for the age. // The time zone of birth is irrelevant! DateTimeZone zone = DateTimeZoneProviders.Tzdb[&quot;America/New_York&quot;];
      LocalDate today = now.InZone(zone).Date; Period period = Period.Between(dateOfBirth,
      today, PeriodUnits.Years); return (int) period.Years; }</code></pre><p>用法：</p><pre>
      <code>LocalDate dateOfBirth = new LocalDate(1976, 8, 27); int age = GetAge(dateOfBirth);</code></pre><p>您可能还对以下改进感兴趣：</p><ul><li><p>将时钟作为<code>IClock</code>
      ，而不是使用<code>SystemClock.Instance</code> ，将提高可测试性。</p></li><li><p>目标时区可能会更改，因此您还需要<code>DateTimeZone</code>参数。</p></li></ul><p>另请参阅我关于此主题的博客文章：
      <a href="https://codeofmatt.com/2014/04/09/handling-birthdays-and-other-anniversaries/"
      rel="noreferrer">处理生日和其他周年纪念日</a></p>
    community_owned_date: 1387601589
    content_license: CC BY-SA 4.0
    creation_date: 1387601589
    is_accepted: false
    last_activity_date: 1530762956
    last_edit_date: 1530762956
    owner:
      accept_rate: 87
      account_id: 317896
      display_name: Matt Johnson-Pint
      link: https://stackoverflow.com/users/634824/matt-johnson-pint
      profile_image: https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG
      reputation: 199695
      user_id: 634824
      user_type: registered
    question_id: 9
    score: 10
  - answer_id: 21276626
    body: <p>我有一个自定义的方法来计算年龄，加上一个奖金验证消息，以防万一：</p><pre> <code>public void GetAge(DateTime
      dob, DateTime now, out int years, out int months, out int days) { years = 0;
      months = 0; days = 0; DateTime tmpdob = new DateTime(dob.Year, dob.Month, 1);
      DateTime tmpnow = new DateTime(now.Year, now.Month, 1); while (tmpdob.AddYears(years).AddMonths(months)
      &lt; tmpnow) { months++; if (months &gt; 12) { years++; months = months - 12;
      } } if (now.Day &gt;= dob.Day) days = days + now.Day - dob.Day; else { months--;
      if (months &lt; 0) { years--; months = months + 12; } days += DateTime.DaysInMonth(now.AddMonths(-1).Year,
      now.AddMonths(-1).Month) + now.Day - dob.Day; } if (DateTime.IsLeapYear(dob.Year)
      &amp;&amp; dob.Month == 2 &amp;&amp; dob.Day == 29 &amp;&amp; now &gt;= new
      DateTime(now.Year, 3, 1)) days++; } private string ValidateDate(DateTime dob)
      //This method will validate the date { int Years = 0; int Months = 0; int Days
      = 0; GetAge(dob, DateTime.Now, out Years, out Months, out Days); if (Years &lt;
      18) message = Years + &quot; is too young. Please try again on your 18th birthday.&quot;;
      else if (Years &gt;= 65) message = Years + &quot; is too old. Date of Birth
      must not be 65 or older.&quot;; else return null; //Denotes validation passed
      }</code></pre><p>方法在此处调用并传递日期时间值（MM/dd/yyyy，如果服务器设置为美国语言环境）。将其替换为要显示的任何消息框或任何容器：</p><pre>
      <code>DateTime dob = DateTime.Parse(&quot;03/10/1982&quot;); string message
      = ValidateDate(dob); lbldatemessage.Visible = !StringIsNullOrWhitespace(message);
      lbldatemessage.Text = message ?? &quot;&quot;; //Ternary if message is null
      then default to empty string</code></pre><p>请记住，您可以按自己喜欢的任何方式格式化消息。</p>
    community_owned_date: 1390375380
    content_license: CC BY-SA 3.0
    creation_date: 1390375380
    is_accepted: false
    last_activity_date: 1514886344
    last_edit_date: 1514886344
    owner:
      accept_rate: 51
      account_id: 72154
      display_name: DareDevil
      link: https://stackoverflow.com/users/1147352/daredevil
      profile_image: https://www.gravatar.com/avatar/03a40a2aa749ca219e32d29d2908cb1a?s=128&d=identicon&r=PG
      reputation: 5018
      user_id: 1147352
      user_type: registered
    question_id: 9
    score: 15
  - answer_id: 25014539
    body: <p>单行答案：</p><pre class="lang-cs prettyprint-override"> <code>DateTime dateOfBirth
      = Convert.ToDateTime(&quot;01/16/1990&quot;); var age = ((DateTime.Now - dateOfBirth).Days)
      / 365;</code></pre>
    comments:
    - body: 闰年呢？
      comment_id: 115450855
      content_license: CC BY-SA 4.0
      creation_date: 1608029451
      edited: false
      owner:
        accept_rate: 57
        account_id: 1875193
        display_name: nivs1978
        link: https://stackoverflow.com/users/2591228/nivs1978
        profile_image: https://i.stack.imgur.com/PlUHb.png?s=128&g=1
        reputation: 710
        user_id: 2591228
        user_type: registered
      post_id: 25014539
      score: 0
    community_owned_date: 1406634384
    content_license: CC BY-SA 4.0
    creation_date: 1406634384
    is_accepted: false
    last_activity_date: 1582938540
    last_edit_date: 1582938540
    owner:
      accept_rate: 48
      account_id: 3295094
      display_name: Pratik Bhoir
      link: https://stackoverflow.com/users/2772550/pratik-bhoir
      profile_image: https://i.stack.imgur.com/i58Il.jpg?s=128&g=1
      reputation: 1892
      user_id: 2772550
      user_type: registered
    question_id: 9
    score: -1
  - answer_id: 26529035
    body: <p>与 2 月 28 日的任何一年相比，这是能够解决 2 月 29 日生日的最准确答案之一。</p><pre class="lang-cs prettyprint-override">
      <code>public int GetAge(DateTime birthDate) { int age = DateTime.Now.Year -
      birthDate.Year; if (birthDate.DayOfYear &gt; DateTime.Now.DayOfYear) age--;
      return age; }</code></pre>
    comments:
    - body: 就是今天！ （下一个是四年后。）
      comment_id: 106960379
      content_license: CC BY-SA 4.0
      creation_date: 1582938412
      edited: false
      owner:
        accept_rate: 78
        account_id: 24885
        display_name: Peter Mortensen
        link: https://stackoverflow.com/users/63550/peter-mortensen
        profile_image: https://i.stack.imgur.com/RIZKi.png?s=128&g=1
        reputation: 28511
        user_id: 63550
        user_type: registered
      post_id: 26529035
      score: 1
    - body: 您可以使用 DateTime.Today 代替，因为时间对计算没有影响
      comment_id: 112229182
      content_license: CC BY-SA 4.0
      creation_date: 1597748687
      edited: false
      owner:
        accept_rate: 85
        account_id: 347742
        display_name: tif
        link: https://stackoverflow.com/users/682055/tif
        profile_image: https://www.gravatar.com/avatar/c349dc23297278ef858dd9ea53ca0236?s=128&d=identicon&r=PG
        reputation: 990
        user_id: 682055
        user_type: registered
      post_id: 26529035
      score: 1
    community_owned_date: 1414070320
    content_license: CC BY-SA 4.0
    creation_date: 1414070320
    is_accepted: false
    last_activity_date: 1582938400
    last_edit_date: 1582938400
    owner:
      accept_rate: 88
      account_id: 246607
      display_name: mjb
      link: https://stackoverflow.com/users/520848/mjb
      profile_image: https://www.gravatar.com/avatar/4e69281eff9aa7d8f6321b3b4d936f3e?s=128&d=identicon&r=PG
      reputation: 6285
      user_id: 520848
      user_type: registered
    question_id: 9
    score: 16
  - answer_id: 28567336
    body: <p>只是因为我认为最佳答案并没有那么清楚：</p><pre class="lang-cs prettyprint-override"> <code>public
      static int GetAgeByLoop(DateTime birthday) { var age = -1; for (var date = birthday;
      date &lt; DateTime.Today; date = date.AddYears(1)) { age++; } return age; }</code></pre>
    community_owned_date: 1424193891
    content_license: CC BY-SA 4.0
    creation_date: 1424193891
    is_accepted: false
    last_activity_date: 1577178049
    last_edit_date: 1577178049
    owner:
      accept_rate: 84
      account_id: 1217794
      display_name: dav_i
      link: https://stackoverflow.com/users/1185053/dav-i
      profile_image: https://www.gravatar.com/avatar/58c51dfdd3eab064c2c29c7c0d1e4c6b?s=128&d=identicon&r=PG&f=1
      reputation: 25425
      user_id: 1185053
      user_type: registered
    question_id: 9
    score: 2
  - answer_id: 30145502
    body: <p>看一下这个：</p><pre class="lang-cs prettyprint-override"> <code>TimeSpan ts
      = DateTime.Now.Subtract(Birthdate); age = (byte)(ts.TotalDays / 365.25);</code></pre>
    community_owned_date: 1431208995
    content_license: CC BY-SA 4.0
    creation_date: 1431208995
    is_accepted: false
    last_activity_date: 1577178159
    last_edit_date: 1577178159
    owner:
      account_id: 4818423
      display_name: mind_overflow
      link: https://stackoverflow.com/users/3889784/mind-overflow
      profile_image: https://www.gravatar.com/avatar/9c5dfef14849b86b9b5336fda846e917?s=128&d=identicon&r=PG&f=1
      reputation: 81
      user_id: 3889784
      user_type: registered
    question_id: 9
    score: -1
  - answer_id: 31025282
    body: <p>这是一个很好地为我服务的功能。无需计算，非常简单。</p><pre><code> public static string ToAge(this
      DateTime dob, DateTime? toDate = null) { if (!toDate.HasValue) toDate = DateTime.Now;
      var now = toDate.Value; if (now.CompareTo(dob) &lt; 0) return &quot;Future date&quot;;
      int years = now.Year - dob.Year; int months = now.Month - dob.Month; int days
      = now.Day - dob.Day; if (days &lt; 0) { months--; days = DateTime.DaysInMonth(dob.Year,
      dob.Month) - dob.Day + now.Day; } if (months &lt; 0) { years--; months = 12
      + months; } return string.Format(&quot;{0} year(s), {1} month(s), {2} days(s)&quot;,
      years, months, days); }</code></pre><p>这是一个单元测试：</p><pre><code> [Test] public
      void ToAgeTests() { var date = new DateTime(2000, 1, 1); Assert.AreEqual(&quot;0
      year(s), 0 month(s), 1 days(s)&quot;, new DateTime(1999, 12, 31).ToAge(date));
      Assert.AreEqual(&quot;0 year(s), 0 month(s), 0 days(s)&quot;, new DateTime(2000,
      1, 1).ToAge(date)); Assert.AreEqual(&quot;1 year(s), 0 month(s), 0 days(s)&quot;,
      new DateTime(1999, 1, 1).ToAge(date)); Assert.AreEqual(&quot;0 year(s), 11 month(s),
      0 days(s)&quot;, new DateTime(1999, 2, 1).ToAge(date)); Assert.AreEqual(&quot;0
      year(s), 10 month(s), 25 days(s)&quot;, new DateTime(1999, 2, 4).ToAge(date));
      Assert.AreEqual(&quot;0 year(s), 10 month(s), 1 days(s)&quot;, new DateTime(1999,
      2, 28).ToAge(date)); date = new DateTime(2000, 2, 15); Assert.AreEqual(&quot;0
      year(s), 0 month(s), 28 days(s)&quot;, new DateTime(2000, 1, 18).ToAge(date));
      }</code></pre>
    comments:
    - body: “没有计算”？ ;/
      comment_id: 120169150
      content_license: CC BY-SA 4.0
      creation_date: 1623768114
      edited: false
      owner:
        accept_rate: 95
        account_id: 87935
        display_name: nathanchere
        link: https://stackoverflow.com/users/243557/nathanchere
        profile_image: https://www.gravatar.com/avatar/c3b286f39f88af0f779bd8dd88b49077?s=128&d=identicon&r=PG
        reputation: 7570
        user_id: 243557
        user_type: registered
      post_id: 31025282
      score: 0
    community_owned_date: 1435145199
    content_license: CC BY-SA 4.0
    creation_date: 1435145199
    is_accepted: false
    last_activity_date: 1595375456
    last_edit_date: 1595375456
    owner:
      accept_rate: 43
      account_id: 1250157
      display_name: user1210708
      link: https://stackoverflow.com/users/1210708/user1210708
      profile_image: https://www.gravatar.com/avatar/ca8708a41734f3de73f2016503b681c7?s=128&d=identicon&r=PG
      reputation: 493
      user_id: 1210708
      user_type: registered
    question_id: 9
    score: 2
  - answer_id: 31077562
    body: <p>可以这么简单：</p><pre class="lang-cs prettyprint-override"> <code>int age =
      DateTime.Now.AddTicks(0 - dob.Ticks).Year - 1;</code></pre>
    community_owned_date: 1435334429
    content_license: CC BY-SA 4.0
    creation_date: 1435334429
    is_accepted: false
    last_activity_date: 1582938338
    last_edit_date: 1582938338
    owner:
      accept_rate: 74
      account_id: 291315
      display_name: Lukas
      link: https://stackoverflow.com/users/593388/lukas
      profile_image: https://www.gravatar.com/avatar/7e01916c6c5c50281823785b103761b4?s=128&d=identicon&r=PG
      reputation: 2657
      user_id: 593388
      user_type: registered
    question_id: 9
    score: 5
  - answer_id: 31178328
    body: <p>我会简单地这样做：</p><pre class="lang-cs prettyprint-override"> <code>DateTime
      birthDay = new DateTime(1990, 05, 23); DateTime age = DateTime.Now - birthDay;</code></pre><p>通过这种方式，您可以计算一个人的确切年龄，如果需要，可以精确到毫秒。</p>
    comments:
    - body: 这是错的。在您的代码时代将是一个 TimeSpan。不是日期时间。
      comment_id: 53652241
      content_license: CC BY-SA 3.0
      creation_date: 1443805078
      edited: false
      owner:
        account_id: 268096
        display_name: Edward Olamisan
        link: https://stackoverflow.com/users/556649/edward-olamisan
        profile_image: https://www.gravatar.com/avatar/dcd7f073bf47b06c8bae810daf3bdbcb?s=128&d=identicon&r=PG
        reputation: 1192
        user_id: 556649
        user_type: registered
      post_id: 31178328
      score: 2
    - body: 问题在于像“17 年”这样的年龄不能直接转换为时间跨度，因为您不知道这 17 年中的哪一年是闰年。
      comment_id: 53772240
      content_license: CC BY-SA 3.0
      creation_date: 1444144667
      edited: false
      owner:
        accept_rate: 62
        account_id: 990800
        display_name: Arturo Torres S&#225;nchez
        link: https://stackoverflow.com/users/1858296/arturo-torres-s%c3%a1nchez
        profile_image: https://www.gravatar.com/avatar/c17e1958b8bae919289c0a71f96922f7?s=128&d=identicon&r=PG
        reputation: 2417
        user_id: 1858296
        user_type: registered
      post_id: 31178328
      score: 0
    community_owned_date: 1435822669
    content_license: CC BY-SA 4.0
    creation_date: 1435822669
    is_accepted: false
    last_activity_date: 1577178072
    last_edit_date: 1577178072
    owner:
      accept_rate: 50
      account_id: 3896090
      display_name: BrunoVT
      link: https://stackoverflow.com/users/4090831/brunovt
      profile_image: https://i.stack.imgur.com/LHwlJ.jpg?s=128&g=1
      reputation: 665
      user_id: 4090831
      user_type: registered
    question_id: 9
    score: 2
  - answer_id: 32954095
    body: <p>对于这个问题，我使用了以下内容。我知道它不是很优雅，但它正在起作用。</p><pre class="lang-cs prettyprint-override">
      <code>DateTime zeroTime = new DateTime(1, 1, 1); var date1 = new DateTime(1983,
      03, 04); var date2 = DateTime.Now; var dif = date2 - date1; int years = (zeroTime
      + dif).Year - 1; Log.DebugFormat(&quot;Years --&gt;{0}&quot;, years);</code></pre>
    community_owned_date: 1444064978
    content_license: CC BY-SA 4.0
    creation_date: 1444064978
    is_accepted: false
    last_activity_date: 1582938308
    last_edit_date: 1582938308
    owner:
      accept_rate: 25
      account_id: 283967
      display_name: VhsPiceros
      link: https://stackoverflow.com/users/581783/vhspiceros
      profile_image: https://www.gravatar.com/avatar/10870cb0d634c5315c2f40e754c41507?s=128&d=identicon&r=PG
      reputation: 384
      user_id: 581783
      user_type: registered
    question_id: 9
    score: 3
  - answer_id: 33082044
    body: <pre class="lang-cs prettyprint-override"><code>public string GetAge(this
      DateTime birthdate, string ageStrinFormat = null) { var date = DateTime.Now.AddMonths(-birthdate.Month).AddDays(-birthdate.Day);
      return string.Format(ageStrinFormat ?? &quot;{0}/{1}/{2}&quot;, (date.Year -
      birthdate.Year), date.Month, date.Day); }</code></pre>
    community_owned_date: 1444655522
    content_license: CC BY-SA 4.0
    creation_date: 1444655522
    is_accepted: false
    last_activity_date: 1577177814
    last_edit_date: 1577177814
    owner:
      account_id: 3732998
      display_name: Ahmed Sabry
      link: https://stackoverflow.com/users/4707576/ahmed-sabry
      profile_image: https://i.stack.imgur.com/Tk1sD.gif?s=128&g=1
      reputation: 377
      user_id: 4707576
      user_type: registered
    question_id: 9
    score: 4
  - answer_id: 36893577
    body: <p>这是在一行中回答这个问题的最简单方法。</p><pre class="lang-cs prettyprint-override"> <code>DateTime
      Dob = DateTime.Parse(&quot;1985-04-24&quot;); int Age = DateTime.MinValue.AddDays(DateTime.Now.Subtract(Dob).TotalHours/24
      - 1).Year - 1;</code></pre><p>这也适用于闰年。</p>
    comments:
    - body: 你的答案错了一天，它会提前一天给生日
      comment_id: 69290360
      content_license: CC BY-SA 3.0
      creation_date: 1481206432
      edited: false
      owner:
        accept_rate: 100
        account_id: 2181458
        display_name: Aman
        link: https://stackoverflow.com/users/1930847/aman
        profile_image: https://i.stack.imgur.com/RklnJ.jpg?s=128&g=1
        reputation: 522
        user_id: 1930847
        user_type: registered
      post_id: 36893577
      score: 2
    community_owned_date: 1461769086
    content_license: CC BY-SA 4.0
    creation_date: 1461769086
    is_accepted: false
    last_activity_date: 1599584160
    last_edit_date: 1599584160
    owner:
      accept_rate: 48
      account_id: 1854351
      display_name: CathalMF
      link: https://stackoverflow.com/users/1680271/cathalmf
      profile_image: https://www.gravatar.com/avatar/6b51bd7f9fff8a9f4e61f74d3b5421b1?s=128&d=identicon&r=PG
      reputation: 8603
      user_id: 1680271
      user_type: registered
    question_id: 9
    score: 5
  - answer_id: 37022367
    body: '<p>===<strong>俗语（从几个月到几年）</strong> ===</p><p>如果您只是为了常用，这里是代码作为您的信息：</p><pre>
      <code>DateTime today = DateTime.Today; DateTime bday = DateTime.Parse(&quot;2016-2-14&quot;);
      int age = today.Year - bday.Year; var unit = &quot;&quot;; if (bday &gt; today.AddYears(-age))
      { age--; } if (age == 0) // Under one year old { age = today.Month - bday.Month;
      age = age &lt;= 0 ? (12 + age) : age; // The next year before birthday age =
      today.Day - bday.Day &gt;= 0 ? age : --age; // Before the birthday.day unit
      = &quot;month&quot;; } else { unit = &quot;year&quot;; } if (age &gt; 1) { unit
      = unit + &quot;s&quot;; }</code></pre><p>测试结果如下：</p><pre> <code>The birthday:
      2016-2-14 2016-2-15 =&gt; age=0, unit=month; 2016-5-13 =&gt; age=2, unit=months;
      2016-5-14 =&gt; age=3, unit=months; 2016-6-13 =&gt; age=3, unit=months; 2016-6-15
      =&gt; age=4, unit=months; 2017-1-13 =&gt; age=10, unit=months; 2017-1-14 =&gt;
      age=11, unit=months; 2017-2-13 =&gt; age=11, unit=months; 2017-2-14 =&gt; age=1,
      unit=year; 2017-2-15 =&gt; age=1, unit=year; 2017-3-13 =&gt; age=1, unit=year;
      2018-1-13 =&gt; age=1, unit=year; 2018-1-14 =&gt; age=1, unit=year; 2018-2-13
      =&gt; age=1, unit=year; 2018-2-14 =&gt; age=2, unit=years;</code></pre>'
    community_owned_date: 1462350560
    content_license: CC BY-SA 3.0
    creation_date: 1462350560
    is_accepted: false
    last_activity_date: 1462350882
    last_edit_date: 1462350882
    owner:
      account_id: 4467797
      display_name: John_J
      link: https://stackoverflow.com/users/3634867/john-j
      profile_image: https://i.stack.imgur.com/MlFlF.png?s=128&g=1
      reputation: 1273
      user_id: 3634867
      user_type: registered
    question_id: 9
    score: 7
  - answer_id: 38121726
    body: <p>SQL版本：</p><pre> <code>declare @dd smalldatetime = &#39;1980-04-01&#39;
      declare @age int = YEAR(GETDATE())-YEAR(@dd) if (@dd&gt; DATEADD(YYYY, -@age,
      GETDATE())) set @age = @age -1 print @age</code></pre>
    community_owned_date: 1467285896
    content_license: CC BY-SA 3.0
    creation_date: 1467285896
    is_accepted: false
    last_activity_date: 1467285896
    owner:
      account_id: 444629
      display_name: xenedia
      link: https://stackoverflow.com/users/836565/xenedia
      profile_image: https://www.gravatar.com/avatar/95bd7fd626bf08696b874d5188d5ab6b?s=128&d=identicon&r=PG
      reputation: 314
      user_id: 836565
      user_type: registered
    question_id: 9
    score: 10
  - answer_id: 39779195
    body: <p>哇，我不得不在这里给出我的答案......这么简单的问题有这么多答案。</p><pre> <code>private int CalcularIdade(DateTime
      dtNascimento) { var nHoje = Convert.ToInt32(DateTime.Today.ToString(&quot;yyyyMMdd&quot;));
      var nAniversario = Convert.ToInt32(dtNascimento.ToString(&quot;yyyyMMdd&quot;));
      double diff = (nHoje - nAniversario) / 10000; var ret = Convert.ToInt32(Math.Truncate(diff));
      return ret; }</code></pre>
    community_owned_date: 1475179996
    content_license: CC BY-SA 4.0
    creation_date: 1475179996
    is_accepted: false
    last_activity_date: 1582938239
    last_edit_date: 1582938239
    owner:
      account_id: 3832816
      display_name: Andr&#233; Sobreiro
      link: https://stackoverflow.com/users/3177959/andr%c3%a9-sobreiro
      profile_image: https://graph.facebook.com/100000484164190/picture?type=large
      reputation: 41
      user_id: 3177959
      user_type: registered
    question_id: 9
    score: 7
  - answer_id: 40196001
    body: <pre class="lang-cs prettyprint-override"><code>private int GetYearDiff(DateTime
      start, DateTime end) { int diff = end.Year - start.Year; if (end.DayOfYear &lt;
      start.DayOfYear) { diff -= 1; } return diff; } [Fact] public void GetYearDiff_WhenCalls_ShouldReturnCorrectYearDiff()
      { //arrange var now = DateTime.Now; //act //assert Assert.Equal(24, GetYearDiff(new
      DateTime(1992, 7, 9), now)); // passed Assert.Equal(24, GetYearDiff(new DateTime(1992,
      now.Month, now.Day), now)); // passed Assert.Equal(23, GetYearDiff(new DateTime(1992,
      12, 9), now)); // passed }</code></pre>
    community_owned_date: 1477163442
    content_license: CC BY-SA 4.0
    creation_date: 1477163442
    is_accepted: false
    last_activity_date: 1577177450
    last_edit_date: 1577177450
    owner:
      account_id: 1739549
      display_name: K1laba
      link: https://stackoverflow.com/users/1591350/k1laba
      profile_image: https://i.stack.imgur.com/6woY7.jpg?s=128&g=1
      reputation: 154
      user_id: 1591350
      user_type: registered
    question_id: 9
    score: 7
  - answer_id: 45127603
    body: '<p>我经常指望我的手指。当事情发生变化时，我需要查看日历才能确定。所以这就是我在代码中所做的：</p><pre> <code>int AgeNow(DateTime
      birthday) { return AgeAt(DateTime.Now, birthday); } int AgeAt(DateTime now,
      DateTime birthday) { return AgeAt(now, birthday, CultureInfo.CurrentCulture.Calendar);
      } int AgeAt(DateTime now, DateTime birthday, Calendar calendar) { // My age
      has increased on the morning of my // birthday even though I was born in the
      evening. now = now.Date; birthday = birthday.Date; var age = 0; if (now &lt;=
      birthday) return age; // I am zero now if I am to be born tomorrow. while (calendar.AddYears(birthday,
      age + 1) &lt;= now) { age++; } return age; }</code></pre><p>在<a href="https://en.wikipedia.org/wiki/LINQPad"
      rel="nofollow noreferrer">LINQPad 中</a>运行它给出了这个：</p><pre> <code>PASSED: someone
      born on 28 February 1964 is age 4 on 28 February 1968 PASSED: someone born on
      29 February 1964 is age 3 on 28 February 1968 PASSED: someone born on 31 December
      2016 is age 0 on 01 January 2017</code></pre><p> LINQPad 中的代码在<a href="http://share.linqpad.net/3gx8ba.linq"
      rel="nofollow noreferrer">这里</a>。</p>'
    community_owned_date: 1500201561
    content_license: CC BY-SA 4.0
    creation_date: 1500201561
    is_accepted: false
    last_activity_date: 1582938183
    last_edit_date: 1582938183
    owner:
      accept_rate: 92
      account_id: 1892
      display_name: Sean Kearon
      link: https://stackoverflow.com/users/2608/sean-kearon
      profile_image: https://www.gravatar.com/avatar/1ebf1bb02141bda43caff5f8fddfc23f?s=128&d=identicon&r=PG
      reputation: 9462
      user_id: 2608
      user_type: registered
    question_id: 9
    score: 3
  - answer_id: 46968983
    body: <p>简单代码</p><pre><code> var birthYear=1993; var age = DateTime.Now.AddYears(-birthYear).Year;</code></pre>
    community_owned_date: 1509086584
    content_license: CC BY-SA 3.0
    creation_date: 1509086584
    is_accepted: false
    last_activity_date: 1509449314
    last_edit_date: 1509449314
    owner:
      account_id: 9147417
      display_name: Sunny Jangid
      link: https://stackoverflow.com/users/6803066/sunny-jangid
      profile_image: https://i.stack.imgur.com/QM0U5.png?s=128&g=1
      reputation: 570
      user_id: 6803066
      user_type: registered
    question_id: 9
    score: 2
  - answer_id: 47035067
    body: <p>要计算一个人的年龄，</p><pre class="lang-cs prettyprint-override"> <code>DateTime
      dateOfBirth; int ageInYears = DateTime.Now.Year - dateOfBirth.Year; if (dateOfBirth
      &gt; today.AddYears(-ageInYears )) ageInYears --;</code></pre>
    comments:
    - body: 你刚刚复制了第一个答案，帕特尔是什么？
      comment_id: 99647049
      content_license: CC BY-SA 4.0
      creation_date: 1560192310
      edited: false
      owner:
        account_id: 1487832
        display_name: sensei
        link: https://stackoverflow.com/users/1395676/sensei
        profile_image: https://www.gravatar.com/avatar/ed24d975f0de19e8f131d9551cf39433?s=128&d=identicon&r=PG&f=1
        reputation: 5379
        user_id: 1395676
        user_type: registered
      post_id: 47035067
      score: 5
    community_owned_date: 1509451748
    content_license: CC BY-SA 4.0
    creation_date: 1509451748
    is_accepted: false
    last_activity_date: 1577178133
    last_edit_date: 1577178133
    owner:
      account_id: 8877628
      display_name: Kaval Patel
      link: https://stackoverflow.com/users/6629154/kaval-patel
      profile_image: https://i.stack.imgur.com/7dBqv.jpg?s=128&g=1
      reputation: 662
      user_id: 6629154
      user_type: registered
    question_id: 9
    score: 0
  - answer_id: 47837162
    body: <p>只需使用：</p><pre class="lang-cs prettyprint-override"> <code>(DateTime.Now
      - myDate).TotalHours / 8766.0</code></pre><p>当前日期 - <code>myDate = TimeSpan</code>
      ，获取总小时数并除以每年的总小时数并准确获得年龄/月/天...</p>
    comments:
    - body: 闰年呢？
      comment_id: 89106417
      content_license: CC BY-SA 4.0
      creation_date: 1530088356
      edited: false
      owner:
        account_id: 906446
        display_name: Wiktor Zychla
        link: https://stackoverflow.com/users/941240/wiktor-zychla
        profile_image: https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1
        reputation: 44211
        user_id: 941240
        user_type: registered
      post_id: 47837162
      score: 0
    community_owned_date: 1513358833
    content_license: CC BY-SA 4.0
    creation_date: 1513358833
    is_accepted: false
    last_activity_date: 1577177930
    last_edit_date: 1577177930
    owner:
      account_id: 5192980
      display_name: Moises Conejo
      link: https://stackoverflow.com/users/4155324/moises-conejo
      profile_image: https://lh3.googleusercontent.com/-gwrT1tg6B1I/AAAAAAAAAAI/AAAAAAAACV4/Pwuy9Mj2FQs/photo.jpg?sz=128
      reputation: 119
      user_id: 4155324
      user_type: registered
    question_id: 9
    score: 3
  - answer_id: 48688691
    body: <p>这是计算某人年龄的最简单方法。<br>计算某人的年龄非常简单，方法如下！为了使代码工作，您需要一个名为 BirthDate 的 DateTime
      对象，其中包含生日。</p><pre><code> C# // get the difference in years int years = DateTime.Now.Year
      - BirthDate.Year; // subtract another year if we&#39;re before the // birth
      day in the current year if (DateTime.Now.Month &lt; BirthDate.Month || (DateTime.Now.Month
      == BirthDate.Month &amp;&amp; DateTime.Now.Day &lt; BirthDate.Day)) years--;
      VB.NET &#39; get the difference in years Dim years As Integer = DateTime.Now.Year
      - BirthDate.Year &#39; subtract another year if we&#39;re before the &#39; birth
      day in the current year If DateTime.Now.Month &lt; BirthDate.Month Or (DateTime.Now.Month
      = BirthDate.Month And DateTime.Now.Day &lt; BirthDate.Day) Then years = years
      - 1 End If</code></pre>
    comments:
    - body: “这是计算某人年龄的最简单方法。”这真的不是最简单的方法。使用野田时间，它只是<code>int years = Period.Between(birthDate,
        today).Years;</code> .
      comment_id: 84375370
      content_license: CC BY-SA 3.0
      creation_date: 1518102784
      edited: false
      owner:
        accept_rate: 86
        account_id: 11683
        display_name: Jon Skeet
        link: https://stackoverflow.com/users/22656/jon-skeet
        profile_image: https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG
        reputation: 1270195
        user_id: 22656
        user_type: registered
      post_id: 48688691
      score: 5
    - body: '@JonSkeet 公平地说，Noda Time 不是任何 .Net 标准的一部分。鉴于此，这<i>是</i>计算一个人年龄（以年为单位）的最简单方法之一。'
      comment_id: 86971814
      content_license: CC BY-SA 3.0
      creation_date: 1524476552
      edited: false
      owner:
        accept_rate: 92
        account_id: 63522
        display_name: Clearer
        link: https://stackoverflow.com/users/187998/clearer
        profile_image: https://www.gravatar.com/avatar/003aa224fb6ca93a53bd2973a98e242e?s=128&d=identicon&r=PG
        reputation: 1861
        user_id: 187998
        user_type: registered
      post_id: 48688691
      reply_to_user:
        accept_rate: 86
        account_id: 11683
        display_name: Jon Skeet
        link: https://stackoverflow.com/users/22656/jon-skeet
        profile_image: https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG
        reputation: 1270195
        user_id: 22656
        user_type: registered
      score: 2
    community_owned_date: 1518102618
    content_license: CC BY-SA 3.0
    creation_date: 1518102618
    is_accepted: false
    last_activity_date: 1518102618
    owner:
      account_id: 12510961
      display_name: wild coder
      link: https://stackoverflow.com/users/9106094/wild-coder
      profile_image: https://i.stack.imgur.com/hELev.jpg?s=128&g=1
      reputation: 740
      user_id: 9106094
      user_type: registered
    question_id: 9
    score: 2
  - answer_id: 48805951
    body: <pre class="lang-cs prettyprint-override"><code>var birthDate = ... // DOB
      var resultDate = DateTime.Now - birthDate;</code></pre><p>使用<code>resultDate</code>您可以应用<code>TimeSpan</code>属性来显示它。</p>
    community_owned_date: 1518693471
    content_license: CC BY-SA 4.0
    creation_date: 1518693471
    is_accepted: false
    last_activity_date: 1577177889
    last_edit_date: 1577177889
    owner:
      display_name: user9359822
      user_type: does_not_exist
    question_id: 9
    score: 2
  - answer_id: 60541141
    body: <p>很简单的答案</p><pre><code> DateTime dob = new DateTime(1991, 3, 4); DateTime
      now = DateTime.Now; int dobDay = dob.Day, dobMonth = dob.Month; int add = -1;
      if (dobMonth &lt; now.Month) { add = 0; } else if (dobMonth == now.Month) {
      if(dobDay &lt;= now.Day) { add = 0; } else { add = -1; } } else { add = -1;
      } int age = now.Year - dob.Year + add;</code></pre>
    comments:
    - body: 应该有对 OP 以及未来读者的答案的描述。
      comment_id: 107104967
      content_license: CC BY-SA 4.0
      creation_date: 1583399090
      edited: false
      owner:
        account_id: 3023534
        display_name: Suraj Kumar
        link: https://stackoverflow.com/users/10532500/suraj-kumar
        profile_image: https://i.stack.imgur.com/f9VXp.png?s=128&g=1
        reputation: 5300
        user_id: 10532500
        user_type: registered
      post_id: 60541141
      score: 1
    - body: 你的代码不简单，一团糟。我会写这个，也许你不相信，但下面的代码做同样的事情（现在 - dob）。年
      comment_id: 108303975
      content_license: CC BY-SA 4.0
      creation_date: 1586922146
      edited: false
      owner:
        accept_rate: 80
        account_id: 235414
        display_name: V&#245; Quang H&#242;a
        link: https://stackoverflow.com/users/502214/v%c3%b5-quang-h%c3%b2a
        profile_image: https://www.gravatar.com/avatar/0e26ce1fd9b907aa156d7e8e2cdd6401?s=128&d=identicon&r=PG
        reputation: 2059
        user_id: 502214
        user_type: registered
      post_id: 60541141
      score: 0
    community_owned_date: 1583397424
    content_license: CC BY-SA 4.0
    creation_date: 1583397424
    is_accepted: false
    last_activity_date: 1583397424
    owner:
      account_id: 16393283
      display_name: Alexander
      link: https://stackoverflow.com/users/11841521/alexander
      profile_image: https://lh5.googleusercontent.com/-9pIhJK99bpM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcda-MvYTu9a24PwDxWtSaqGTcIDg/photo.jpg?sz=128
      reputation: 46
      user_id: 11841521
      user_type: registered
    question_id: 9
    score: 0
  - answer_id: 64085367
    body: <pre><code>int Age = new DateTime((DateTime.Now - BirthDate).Ticks).Year
      -1; Console.WriteLine(&quot;Age {0}&quot;, Age);</code></pre>
    community_owned_date: 1601186853
    content_license: CC BY-SA 4.0
    creation_date: 1601186853
    is_accepted: false
    last_activity_date: 1601186853
    owner:
      account_id: 15414176
      display_name: Alexander D&#237;az
      link: https://stackoverflow.com/users/11120141/alexander-d%c3%adaz
      profile_image: https://lh6.googleusercontent.com/-qPZGMOLdNFw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfzhCZb2S6TAP30wYDAKGlUGccBHA/mo/photo.jpg?sz=128
      reputation: 93
      user_id: 11120141
      user_type: registered
    question_id: 9
    score: 0
  - answer_id: 64135345
    body: <p>我认为这个问题可以通过像这样更简单的方法来解决 -</p><p>这门课可以像-</p><pre> <code>using System;
      namespace TSA { class BirthDay { double ageDay; public BirthDay(int day, int
      month, int year) { DateTime birthDate = new DateTime(year, month, day); ageDay
      = (birthDate - DateTime.Now).TotalDays; //DateTime.UtcNow } internal int GetAgeYear()
      { return (int)Math.Truncate(ageDay / 365); } internal int GetAgeMonth() { return
      (int)Math.Truncate((ageDay % 365) / 30); } } }</code></pre><p>和电话可以像-</p><pre>
      <code>BirthDay b = new BirthDay(1,12,1990); int year = b.GetAgeYear(); int month
      = b.GetAgeMonth();</code></pre>
    community_owned_date: 1601460603
    content_license: CC BY-SA 4.0
    creation_date: 1601460603
    is_accepted: false
    last_activity_date: 1601460603
    owner:
      accept_rate: 84
      account_id: 2523647
      display_name: Abrar Jahin
      link: https://stackoverflow.com/users/2193439/abrar-jahin
      profile_image: https://i.stack.imgur.com/0FtsF.jpg?s=128&g=1
      reputation: 12205
      user_id: 2193439
      user_type: registered
    question_id: 9
    score: 0
  - answer_id: 64220001
    body: <p>我对<code>DateTime</code>一无所知，但我所能做的就是：</p><pre> <code>using System; public
      class Program { public static int getAge(int month, int day, int year) { DateTime
      today = DateTime.Today; int currentDay = today.Day; int currentYear = today.Year;
      int currentMonth = today.Month; int age = 0; if (currentMonth &lt; month) {
      age -= 1; } else if (currentMonth == month) { if (currentDay &lt; day) { age
      -= 1; } } currentYear -= year; age += currentYear; return age; } public static
      void Main() { int ageInYears = getAge(8, 10, 2007); Console.WriteLine(ageInYears);
      } }</code></pre><p>有点混乱，但仔细看代码，一切都会有道理的。</p>
    community_owned_date: 1601963069
    content_license: CC BY-SA 4.0
    creation_date: 1601963069
    is_accepted: false
    last_activity_date: 1601963069
    owner:
      display_name: user14273431
      user_type: does_not_exist
    question_id: 9
    score: 0
  body: <p>给定一个<code>DateTime</code>代表一个人的生日，我如何计算他们的年龄（以年为单位）？</p>
  comments:
  - body: 到目前为止，所有的答案都忽略了，这取决于这个人出生在哪里以及他们现在在哪里。
    comment_id: 7043687
    content_license: CC BY-SA 3.0
    creation_date: 1305963250
    edited: false
    owner:
      accept_rate: 73
      account_id: 61814
      display_name: Yaur
      link: https://stackoverflow.com/users/184025/yaur
      profile_image: https://www.gravatar.com/avatar/db6aaef719eac9aef6d2d01d1b4971fb?s=128&d=identicon&r=PG
      reputation: 7036
      user_id: 184025
      user_type: registered
    post_id: 9
    score: 164
  - body: '@Yaur：只需将现在 + 出生时间转换为 GMT/UTC，年龄只是一个相对值，因此时区无关紧要。要确定用户的当前时区，您可以使用地理定位。'
    comment_id: 9270342
    content_license: CC BY-SA 3.0
    creation_date: 1317637232
    edited: false
    owner:
      accept_rate: 78
      account_id: 51898
      display_name: Stefan Steiger
      link: https://stackoverflow.com/users/155077/stefan-steiger
      profile_image: https://i.stack.imgur.com/MaCKR.jpg?s=128&g=1
      reputation: 69040
      user_id: 155077
      user_type: registered
    post_id: 9
    reply_to_user:
      accept_rate: 73
      account_id: 61814
      display_name: Yaur
      link: https://stackoverflow.com/users/184025/yaur
      profile_image: https://www.gravatar.com/avatar/db6aaef719eac9aef6d2d01d1b4971fb?s=128&d=identicon&r=PG
      reputation: 7036
      user_id: 184025
      user_type: registered
    score: 50
  - body: 为什么不考虑 [Julian Date][1]？ [1]： <a href="http://stackoverflow.com/questions/7103064/java-calculate-the-number-of-days-between-two-dates/14278129#14278129"
      title="java计算两个日期之间的天数">stackoverflow.com/questions/7103064/...</a>
    comment_id: 28407717
    content_license: CC BY-SA 3.0
    creation_date: 1380979933
    edited: false
    owner:
      accept_rate: 55
      account_id: 57402
      display_name: Muhammad Hewedy
      link: https://stackoverflow.com/users/171950/muhammad-hewedy
      profile_image: https://www.gravatar.com/avatar/ccee38944752d481128936450ddb687e?s=128&d=identicon&r=PG
      reputation: 26534
      user_id: 171950
      user_type: registered
    post_id: 9
    score: 1
  - body: 如果我们考虑@Yaur 的跨时区计算建议，夏令时是否应该以任何方式影响计算？
    comment_id: 50688884
    content_license: CC BY-SA 3.0
    creation_date: 1436586159
    edited: false
    owner:
      account_id: 2863740
      display_name: DDM
      link: https://stackoverflow.com/users/2458438/ddm
      profile_image: https://i.stack.imgur.com/3SAFX.jpg?s=128&g=1
      reputation: 991
      user_id: 2458438
      user_type: registered
    post_id: 9
    reply_to_user:
      accept_rate: 73
      account_id: 61814
      display_name: Yaur
      link: https://stackoverflow.com/users/184025/yaur
      profile_image: https://www.gravatar.com/avatar/db6aaef719eac9aef6d2d01d1b4971fb?s=128&d=identicon&r=PG
      reputation: 7036
      user_id: 184025
      user_type: registered
    score: 9
  - body: 请注意，对于不到一岁的人，他们的年龄以天、周或月为单位。单元的转换时间可以是特定于域的。
    comment_id: 81414526
    content_license: CC BY-SA 3.0
    creation_date: 1510351791
    edited: false
    owner:
      account_id: 1128777
      display_name: Andrew Morton
      link: https://stackoverflow.com/users/1115360/andrew-morton
      profile_image: https://i.stack.imgur.com/uMQGl.png?s=128&g=1
      reputation: 21359
      user_id: 1115360
      user_type: registered
    post_id: 9
    score: 4
  - body: 众所周知，年龄没有明确的定义。我遇到的许多女性倾向于将她们的生活时间四舍五入到一整年，直到二十多岁，然后开始向下取整。我是 1 月 3 日出生的，所以我只是从我的出生年份减去当前年份，无论是哪一天。有些人认为如果你出生在闰日，你的年龄比例为
      1/4。如果你出生在闰秒怎么办？ 8个月大的婴儿算作1吗？如果我飞到西方，我会变年轻吗？如果我的心跳停止一分钟，我应该将其计入计算吗？
    comment_id: 113834756
    content_license: CC BY-SA 4.0
    creation_date: 1602779228
    edited: false
    owner:
      account_id: 981291
      display_name: Erdogan Kurtur
      link: https://stackoverflow.com/users/1000939/erdogan-kurtur
      profile_image: https://www.gravatar.com/avatar/e27e2aed3aab58e33cbc8ce2a55cbf5e?s=128&d=identicon&r=PG
      reputation: 3429
      user_id: 1000939
      user_type: registered
    post_id: 9
    score: 4
  - body: 所有答案都没有考虑到的情况：我的曾祖父出生于 1928 年 2 月 29 日。他前年去世，离他的 23 岁生日仅差 13 个月。
    comment_id: 116203683
    content_license: CC BY-SA 4.0
    creation_date: 1610643782
    edited: false
    owner:
      account_id: 11209722
      display_name: Rab
      link: https://stackoverflow.com/users/8224113/rab
      profile_image: https://www.gravatar.com/avatar/c24b52db53b655294dd9168216e48e94?s=128&d=identicon&r=PG&f=1
      reputation: 406
      user_id: 8224113
      user_type: registered
    post_id: 9
    score: 2
  - body: '@Rab——一般来说，闰年出生的人的年龄不是这样规定的……但上面的语法花了一段时间才弄明白。'
    comment_id: 117120698
    content_license: CC BY-SA 4.0
    creation_date: 1613580962
    edited: false
    owner:
      accept_rate: 95
      account_id: 18538
      display_name: JosephDoggie
      link: https://stackoverflow.com/users/42552/josephdoggie
      profile_image: https://www.gravatar.com/avatar/d3d8778bfd7699f34e9346683b4458db?s=128&d=identicon&r=PG
      reputation: 1342
      user_id: 42552
      user_type: registered
    post_id: 9
    reply_to_user:
      account_id: 11209722
      display_name: Rab
      link: https://stackoverflow.com/users/8224113/rab
      profile_image: https://www.gravatar.com/avatar/c24b52db53b655294dd9168216e48e94?s=128&d=identicon&r=PG&f=1
      reputation: 406
      user_id: 8224113
      user_type: registered
    score: 1
  - body: 一个简单的操作竟然这么难！而且整数年龄并不总是像人们所期望的那样......
    comment_id: 118621824
    content_license: CC BY-SA 4.0
    creation_date: 1618493837
    edited: false
    owner:
      accept_rate: 95
      account_id: 18538
      display_name: JosephDoggie
      link: https://stackoverflow.com/users/42552/josephdoggie
      profile_image: https://www.gravatar.com/avatar/d3d8778bfd7699f34e9346683b4458db?s=128&d=identicon&r=PG
      reputation: 1342
      user_id: 42552
      user_type: registered
    post_id: 9
    score: 0
  community_owned_date: 1313523643
  creation_date: 1217547659
  is_answered: true
  last_activity_date: 1611996267
  last_edit_date: 1609868012
  link: https://stackoverflow.com/questions/9/how-do-i-calculate-someones-age-based-on-a-datetime-type-birthday
  owner:
    accept_rate: 100
    account_id: 1
    display_name: Jeff Atwood
    link: https://stackoverflow.com/users/1/jeff-atwood
    profile_image: https://www.gravatar.com/avatar/51d623f33f8b83095db84ff35e15dbe8?s=128&d=identicon&r=PG
    reputation: 61057
    user_id: 1
    user_type: registered
  protected_date: 1313535262
  question_id: 9
  score: 2027
  tags:
  - c#
  - .net
  - datetime
  title: 如何根据 DateTime 类型的生日计算某人的年龄？
  view_count: 682221
quota_max: 300
quota_remaining: 193
---