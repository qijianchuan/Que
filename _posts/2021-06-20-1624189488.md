---
title: maven settings.xml 文件私服地址和 pom.xml配置的私服地址同时生效的问题
categories: java
tags: 
---
settings.xml 配置：

    
    
    <?xml version="1.0" encoding="UTF-8"?>
    
    
    <settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd">
    		  
        <localRepository>D:/m2/repository</localRepository>
    	
    	
    	<servers>
            <server>
                <id>releases</id>
                <username>username</username>
                <password>password</password>
            </server>
            <server>
                <id>snapshots</id>
                <username>username</username>
                <password>password</password>
            </server>
        </servers>
    	
    
        <mirrors>
            <mirror>
                <id>nexus_mirror</id>
                <mirrorOf>*,!dev</mirrorOf>
                <name>nexus mirror</name>
                <url>http://127.0.0.1:8020/nexus/content/groups/public/</url>
            </mirror> 
    
        </mirrors>
    
        <profiles>
            <profile>
                <id>nexus</id>
                <repositories>
                    <repository>
                        <id>nexus</id>
                        <url>http://nexus_mirror</url>
                        <releases>
                            <enabled>true</enabled>
                        </releases>
                        <snapshots>
                            <enabled>true</enabled>
                        </snapshots>
                    </repository>
                </repositories>
                <pluginRepositories>
                    <pluginRepository>
                        <id>nexus</id>
                        <url>http://nexus_mirror</url>
                        <releases>
                            <enabled>true</enabled>
                        </releases>
                        <snapshots>
                            <enabled>true</enabled>
                        </snapshots>
                    </pluginRepository>
                </pluginRepositories>
            </profile>	
        </profiles>
    
        <activeProfiles>
    	    <activeProfile>nexus</activeProfile>
        </activeProfiles>
    
    </settings>
    

maven pom.xml配置

    
    
    <repositories>
            <repository>
                <id>dev</id>
                <name>nti</name>
                <url>http://127.0.0.1:8020/nexus/content/groups/NTI/</url>
                <releases>
                    <enabled>true</enabled>
                </releases>
                <snapshots>
                    <enabled>true</enabled>
                </snapshots>
            </repository>
      </repositories>

假如在mirrorOf节点，写 *
会覆盖掉所有的，不管是哪个repository，最后都被这个镜像所mirror替代，导致pom文件中的repository不生效。解决方案就是
<mirrorOf>*,!dev</mirrorOf> ， 这样 pom.xml里的 dev repository就会生效。

