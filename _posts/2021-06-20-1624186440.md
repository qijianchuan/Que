---
title: docker安装mysql_使用Docker安装MySQL
categories: 
tags: docker安装mysql
---
我的安装环境：Centos7(内核版本必须是3.10以上)

内核版本查询命令 : uname -r

准备好安装环境后执行官方提供的自动安装脚本,安装docker：

curl -sSL https://get.daocloud.io/docker | sh

安装完成后可以使用 docker info 检查是否安装正常

然后使用docker images 列出镜像，如果报错说docker没启动则使用 systemctl start docker 启动docker

docker 准备好后可以直接使用 docker run命令安装MySQL安装命令示例如下：

docker run -p 3306:3306 --name mymysql -v $PWD/conf:/etc/mysql/conf.d -v
$PWD/logs:/logs -v $PWD/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 -d
mysql

解析：

-p 3306:3306：将容器的 3306 端口映射到主机的 3306 端口。

-v -v $PWD/conf:/etc/mysql/conf.d：将主机当前目录下的 conf/my.cnf 挂载到容器的 /etc/mysql/my.cnf。

-v $PWD/logs:/logs：将主机当前目录下的 logs 目录挂载到容器的 /logs。

-v $PWD/data:/var/lib/mysql ：将主机当前目录下的data目录挂载到容器的 /var/lib/mysql 。

-e MYSQL_ROOT_PASSWORD=123456：初始化 root 用户的密码。

执行命令后会自动安装(pull)MySQL,不指定版本默认安装最新版，如需指定版本则将-d后面的mysql改为mysql:version
例如mysql:5.7

安装成功后可以执行 docker ps -a 查看，这时进程未启动

然后可以执行docker start mymysql(上面语句的--name)启动mysql容器

