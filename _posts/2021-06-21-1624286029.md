---
title: Hadoop之—— WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform...
categories: 精通大数据系列
tags: Hadoop
---
转载请注明出处：https://blog.csdn.net/l1028386804/article/details/88420473

问题：SequenceFile doesn't work with GzipCodec without native-hadoop code 或者 WARN
util.NativeCodeLoader: Unable to load native-hadoop library for your
platform...

在上一篇的《Hadoop之—— WARN util.NativeCodeLoader: Unable to load native-hadoop
library for your
platform...》中，我们主要是以修改日志的输出级别来解决的这个警告问题，但是没有从根本上解决问题，今天，我们就一起来升级glib库彻底解决这个问题。

到http://ftp.gnu.org/gnu/glibc/下载glibc-2.14.tar.xz

    
    
    tar glibc-2.14.tar.gz
    xz -d glibc-2.14.tar.xz
    tar -xvf glibc-2.14.tar
    cd glibc-2.14
    mkdir build
    cd build
    ../configure --prefix=/usr/local/glibc-2.14
    make -j4
    make install

看看现在libc.so.6在哪个位置，然后修改软链接

    
    
    [root@binghe ~]# whereis libc.so.6
    libc.so: /lib64/libc.so.6 /usr/lib64/libc.so
    [root@binghe ~]# rm -rf /lib64/libc.so.6
    [root@binghe ~]# LD_PRELOAD=/usr/local/glibc-2.14/lib/libc-2.14.so ln -s /usr/local/glibc-2.14/lib/libc-2.14.so /lib64/libc.so.6

## 注意：删除/lib64/libc.so.6软链接之后，不要关闭当前会话，否则将登录不上系统，切记切记切记！

在当前会话执行：

    
    
    LD_PRELOAD=/usr/local/glibc-2.14/lib/libc-2.14.so ln -s /usr/local/glibc-2.14/lib/libc-2.14.so /lib64/libc.so.6

问题解决。

**温馨提示：大家可以到链接：https://download.csdn.net/download/l1028386804/11014048
下载glibc-2.14**

