---
title: jython安装和使用
categories: Java
tags: 
---
来源URL：http://blog.csdn.net/zhongweijian/article/details/4742549

  

1.从http://www.jython.org/Project/installation.html下载jython安装文件，运行命令“Java -jar
jython_installer-2.5.0.jar，jython即安装成功.

2.把jython安装目录加入到系统环境变量，在java工程中加入jython安装目录下的jython.jar即可在java中使用jython了。

下面是我的实例，一个是在java中运行test.py脚本，一个是直接在java中直接运行Python命令。

**[java]** view plain copy

  1. import org.python.util.PythonInterpreter; 
  2. import org.python.core.*; 
  3. public class JythonTest { 
  4. public static void main(String[] args) { 
  5. //PythonInterpreter interp = new PythonInterpreter();
  6. //interp.execfile("test.py"); //运行test.py脚本
  7. //运行python命令
  8. PythonInterpreter interp = 
  9. new PythonInterpreter(); 
  10. System.out.println("Hello, brave new world"); 
  11. interp.exec("import sys"); 
  12. interp.exec("print sys"); 
  13. interp.set("a", new PyInteger(42)); 
  14. interp.exec("print a"); 
  15. interp.exec("x = 2+2"); 
  16. PyObject x = interp.get("x"); 
  17. System.out.println("x: "+x); 
  18. System.out.println("Goodbye, cruel world"); 
  19. } 
  20. } 

![](data:image/png;base64,PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDxtZXRhIG5hbWU9InJlcG9ydCIgY29udGVudD0neyJwaWQiOiI0MDQiLCJzcG0iOiIxMDAzLjIwMjAifSc+CiAgICA8bWV0YSBodHRwLWVxdWl2PSJjb250ZW50LXR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD11dGYtOCI+CiAgICA8bWV0YSBodHRwLWVxdWl2PSJYLVVBLUNvbXBhdGlibGUiIGNvbnRlbnQ9IklFPUVkZ2UiPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgogICAgPG1ldGEgbmFtZT0iYXBwbGUtbW9iaWxlLXdlYi1hcHAtc3RhdHVzLWJhci1zdHlsZSIgY29udGVudD0iYmxhY2siPgogICAgPG1ldGEgbmFtZT0icmVmZXJyZXIiIGNvbnRlbnQ9ImFsd2F5cyI+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9nLmNzZG5pbWcuY24vPz9saWIvanF1ZXJ5LzEuOS4xL2pxdWVyeS5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSdodHRwczovL2cuY3NkbmltZy5jbi9jb21tb24vY3Nkbi1yZXBvcnQvcmVwb3J0LmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NzZG5pbWcuY24vcHVibGljL3N0YXRpYy9jc3MvYXZhdGFyLmNzcyI+CiAgICA8bWV0YSBodHRwLWVxdWl2PSJDYWNoZS1Db250cm9sIiBjb250ZW50PSJuby1zaXRlYXBwIiAvPjxsaW5rIHJlbD0iYWx0ZXJuYXRlIiBtZWRpYT0iaGFuZGhlbGQiIGhyZWY9IiMiIC8+CiAgICA8bWV0YSBuYW1lPSJzaGVubWEtc2l0ZS12ZXJpZmljYXRpb24iIGNvbnRlbnQ9IjVhNTk3NzNhYjgwNzdkNGE2MmJmNDY5YWI5NjZhNjNiXzE0OTc1OTg4NDgiPgogICAgPHRpdGxlPjQwNDwvdGl0bGU+CiAgICA8bGluayAgaHJlZj0iaHR0cHM6Ly9nLmNzZG5pbWcuY24vc3RhdGljL2xvZ28vZmF2aWNvbjMyLmljbyIgcmVsPSJzaG9ydGN1dCBpY29uIiB0eXBlPSJpbWFnZS94LWljb24iIC8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vZy5jc2RuaW1nLmNuLzQwNGVycm9yLzEuMC4wL2Nzcy9lcnJvci5jc3MiPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2cuY3NkbmltZy5jbi80MDRlcnJvci8xLjAuMC9jc3MvZXJyb3JfZV9ib29rLmNzcyI+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9nLmNzZG5pbWcuY24vZml4ZWQtc2lkZWJhci8xLjAuOC9maXhlZC1zaWRlYmFyLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0PgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgogICAgICAgIC8vIFRyYWZmaWMgU3RhdHMgb2YgdGhlIGVudGlyZSBXZWIgc2l0ZSBCeSBiYWlkdQogICAgICAgIHZhciBfaG10ID0gX2htdCB8fCBbXTsKICAgICAgICAoZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIGhtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICAgICAgaG0uc3JjID0gImh0dHBzOi8vaG0uYmFpZHUuY29tL2htLmpzP2U1ZWY0N2I5ZjQ3MTUwNDk1OTI2N2ZkNjE0ZDU3OWNkIjsKICAgICAgICB2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKVswXTsKICAgICAgICBzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGhtLCBzKTsKICAgICAgICB9KSgpOwogICAgICAgIC8vIFRyYWZmaWMgU3RhdHMgb2YgdGhlIGVudGlyZSBXZWIgc2l0ZSBCeSBiYWlkdSBlbmQKICAgICAgICAhZnVuY3Rpb24oYSl7dmFyIGI9L2lQaG9uZS9pLGM9L2lQb2QvaSxkPS9pUGFkL2ksZT0vKD89LipcYkFuZHJvaWRcYikoPz0uKlxiTW9iaWxlXGIpL2ksZj0vQW5kcm9pZC9pLGc9Lyg/PS4qXGJBbmRyb2lkXGIpKD89LipcYlNENDkzMFVSXGIpL2ksaD0vKD89LipcYkFuZHJvaWRcYikoPz0uKlxiKD86S0ZPVHxLRlRUfEtGSldJfEtGSldBfEtGU09XSXxLRlRIV0l8S0ZUSFdBfEtGQVBXSXxLRkFQV0F8S0ZBUldJfEtGQVNXSXxLRlNBV0l8S0ZTQVdBKVxiKS9pLGk9L1dpbmRvd3MgUGhvbmUvaSxqPS8oPz0uKlxiV2luZG93c1xiKSg/PS4qXGJBUk1cYikvaSxrPS9CbGFja0JlcnJ5L2ksbD0vQkIxMC9pLG09L09wZXJhIE1pbmkvaSxuPS8oQ3JpT1N8Q2hyb21lKSg/PS4qXGJNb2JpbGVcYikvaSxvPS8oPz0uKlxiRmlyZWZveFxiKSg/PS4qXGJNb2JpbGVcYikvaSxwPW5ldyBSZWdFeHAoIig/Ok5leHVzIDd8Qk5UVjI1MHxLaW5kbGUgRmlyZXxTaWxrfEdULVAxMDAwKSIsImkiKSxxPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudGVzdChiKX0scj1mdW5jdGlvbihhKXt2YXIgcj1hfHxuYXZpZ2F0b3IudXNlckFnZW50LHM9ci5zcGxpdCgiW0ZCQU4iKTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHNbMV0mJihyPXNbMF0pLHM9ci5zcGxpdCgiVHdpdHRlciIpLCJ1bmRlZmluZWQiIT10eXBlb2Ygc1sxXSYmKHI9c1swXSksdGhpcy5hcHBsZT17cGhvbmU6cShiLHIpLGlwb2Q6cShjLHIpLHRhYmxldDohcShiLHIpJiZxKGQsciksZGV2aWNlOnEoYixyKXx8cShjLHIpfHxxKGQscil9LHRoaXMuYW1hem9uPXtwaG9uZTpxKGcsciksdGFibGV0OiFxKGcscikmJnEoaCxyKSxkZXZpY2U6cShnLHIpfHxxKGgscil9LHRoaXMuYW5kcm9pZD17cGhvbmU6cShnLHIpfHxxKGUsciksdGFibGV0OiFxKGcscikmJiFxKGUscikmJihxKGgscil8fHEoZixyKSksZGV2aWNlOnEoZyxyKXx8cShoLHIpfHxxKGUscil8fHEoZixyKX0sdGhpcy53aW5kb3dzPXtwaG9uZTpxKGksciksdGFibGV0OnEoaixyKSxkZXZpY2U6cShpLHIpfHxxKGoscil9LHRoaXMub3RoZXI9e2JsYWNrYmVycnk6cShrLHIpLGJsYWNrYmVycnkxMDpxKGwsciksb3BlcmE6cShtLHIpLGZpcmVmb3g6cShvLHIpLGNocm9tZTpxKG4sciksZGV2aWNlOnEoayxyKXx8cShsLHIpfHxxKG0scil8fHEobyxyKXx8cShuLHIpfSx0aGlzLnNldmVuX2luY2g9cShwLHIpLHRoaXMuYW55PXRoaXMuYXBwbGUuZGV2aWNlfHx0aGlzLmFuZHJvaWQuZGV2aWNlfHx0aGlzLndpbmRvd3MuZGV2aWNlfHx0aGlzLm90aGVyLmRldmljZXx8dGhpcy5zZXZlbl9pbmNoLHRoaXMucGhvbmU9dGhpcy5hcHBsZS5waG9uZXx8dGhpcy5hbmRyb2lkLnBob25lfHx0aGlzLndpbmRvd3MucGhvbmUsdGhpcy50YWJsZXQ9dGhpcy5hcHBsZS50YWJsZXR8fHRoaXMuYW5kcm9pZC50YWJsZXR8fHRoaXMud2luZG93cy50YWJsZXQsInVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3cpcmV0dXJuIHRoaXN9LHM9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgcjtyZXR1cm4gYS5DbGFzcz1yLGF9OyJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmInVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3c/bW9kdWxlLmV4cG9ydHM9cjoidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P21vZHVsZS5leHBvcnRzPXMoKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgiaXNNb2JpbGUiLFtdLGEuaXNNb2JpbGU9cygpKTphLmlzTW9iaWxlPXMoKX0odGhpcyk7CiAgICAgICAgZnVuY3Rpb24gbG9hZFNyY3JpcHQoKXsKICAgICAgICAgICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdOwogICAgICAgICAgICB2YXIgY3JlYXRlRWxlID0gZnVuY3Rpb24odHlwZSxzcmMpewogICAgICAgICAgICAgICAgdmFyIGN1ck9iaiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7CiAgICAgICAgICAgICAgICBjdXJPYmouc2V0QXR0cmlidXRlKCh0eXBlID09PSAibGluayIgPyAiaHJlZiIgOiAic3JjIiksc3JjKTsKICAgICAgICAgICAgICAgIHR5cGUgPT09ICJsaW5rIiAmJiBjdXJPYmouc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dC9jc3MiKTsKICAgICAgICAgICAgICAgIHR5cGUgPT09ICJzY3JpcHQiICYmIGN1ck9iai5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0L2phdmFzY3JpcHQiKTsKICAgICAgICAgICAgICAgIHR5cGUgPT09ICJsaW5rIiAmJiBjdXJPYmouc2V0QXR0cmlidXRlKCJyZWwiLCJzdHlsZXNoZWV0Iik7CiAgICAgICAgICAgICAgICByZXR1cm4gY3VyT2JqOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGlzTW9iaWxlLmFueSl7CiAgICAgICAgICAgICAgICB2YXIgbVRvb2xiYXJDc3MgPSBjcmVhdGVFbGUoImxpbmsiLCJodHRwczovL2NzZG5pbWcuY24vcHVibGljL2NvbW1vbi90b29sYmFyL2NvbnRlbnRfdG9vbGJhcl9jc3MvbV90b29sYmFyLTIuMS4yLmNzcyIpOwogICAgICAgICAgICAgICAgdmFyIG1Ub29sYmFyRm9udEpzID0gY3JlYXRlRWxlKCJzY3JpcHQiLCJodHRwczovL2NzZG5pbWcuY24vcHVibGljL2NvbW1vbi90b29sYmFyL2pzL21faWNvbmZvbnQuanMiKTsKICAgICAgICAgICAgICAgIHZhciBtVG9vbGJhckpzID0gY3JlYXRlRWxlKCJzY3JpcHQiLCJodHRwczovL2NzZG5pbWcuY24vcHVibGljL2NvbW1vbi90b29sYmFyL2pzL21fdG9vbGJhci0yLjEuMi5qcyIpOwogICAgICAgICAgICAgICAgbVRvb2xiYXJKcy5zZXRBdHRyaWJ1dGUoImlkIiwibS10b29sYmFyLXRwbC1zY3JpcHRJZCIpOwogICAgICAgICAgICAgICAgbVRvb2xiYXJKcy5zZXRBdHRyaWJ1dGUoJ3Byb2QnLCdibG9nJyk7CiAgICAgICAgICAgICAgICBoZWFkLmFwcGVuZENoaWxkKG1Ub29sYmFyQ3NzKTsKICAgICAgICAgICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQobVRvb2xiYXJGb250SnMpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtVG9vbGJhckpzKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB2YXIgcGNUb29sYmFySnMgPSBjcmVhdGVFbGUoInNjcmlwdCIsImh0dHBzOi8vZy5jc2RuaW1nLmNuL2NvbW1vbi9jc2RuLXRvb2xiYXIvY3Nkbi10b29sYmFyLmpzIik7CiAgICAgICAgICAgICAgICBwY1Rvb2xiYXJKcy5zZXRBdHRyaWJ1dGUoImlkIiwidG9vbGJhci10cGwtc2NyaXB0SWQiKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGNUb29sYmFySnMpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgPC9zY3JpcHQ+CiAgICA8c3R5bGU+CiAgICAgICAgaHRtbHsKICAgICAgICAgICAgZm9udC1zaXplOiA1MHB4OwogICAgICAgIH0KICAgICAgICAuemR4ZF9wb3B7CiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZCFpbXBvcnRhbnQ7CiAgICAgICAgICAgIGJvdHRvbTogMCAhaW1wb3J0YW50OwogICAgICAgIH0KICAgICAgICAucG9pbnR7CiAgICAgICAgICAgIHdpZHRoOjMwMHB4IWltcG9ydGFudDsKICAgICAgICB9CiAgICAgICAgLnBvaW50LmZpeGVkewogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgfQogICAgICAgIC5kZXNjXzQwNHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNHB4OwogICAgICAgICAgICBjb2xvcjogIzhhOGE4YTsKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICBsaW5lLWhlaWdodDogMjRweDsKICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgICAgICAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94OwogICAgICAgICAgICAtd2Via2l0LWxpbmUtY2xhbXA6IDI7CiAgICAgICAgICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7CiAgICAgICAgfQogICAgICAgICNtYWluewogICAgICAgICAgICB3aWR0aDoxMDY3cHg7CiAgICAgICAgfQogICAgICAgICNtYWluIC5mZWVkewogICAgICAgICAgICB3aWR0aDogNzYwcHg7CiAgICAgICAgfQogICAgICAgICNtYWluIC5mZWVkIC5ob3Rfc3VnZ2VzdCB7CiAgICAgICAgICAgIGhlaWdodDogMzJweDsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDMycHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgZm9udC1zaXplOjE0cHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OjQwMDsKICAgICAgICAgICAgY29sb3I6cmdiYSgyMDIsMTIsMjIsMSk7CiAgICAgICAgfQogICAgICAgICNtYWluIC5mZWVkIC5pdGVtIC50aXRsZXsKICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA0cHggIWltcG9ydGFudDsKICAgICAgICAgIH0KICAgICAgICAjbWFpbiAuZmVlZCAuaXRlbSAudGl0bGUgc3Bhbjpob3ZlcnsKICAgICAgICAgICBjb2xvcjogICNjYTBjMTYgIWltcG9ydGFudDsKICAgICAgICB9CiAgICAgICAgI21haW4gLm5ld180MDQgLmhlYWQgewogICAgICAgICAgICBwYWRkaW5nLXRvcDogMjVweDsKICAgICAgICB9CiAgICAgICAgI21haW4gLmZlZWQgLmVfYm9vayAuaGVhZCBpbWcud2FwX2RlYm9vaywjbWFpbiAubmV3XzQwNCAuaGVhZCBpbWcud2FwX2ltZ3tkaXNwbGF5OiBub25lO30KICAgICAgICAjbWFpbiAuZmVlZCAuZV9ib29rIC5oZWFkIGltZy5wY19kZWJvb2ssI21haW4gLm5ld180MDQgLmhlYWQgaW1nLnBjX2ltZ3tkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEyMnB4OyBtYXJnaW46IDAgYXV0bzt9CgoKICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogMTE1MHB4KXsKICAgICAgICAgICAgI2NzZG4tZm9vdGVyewogICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgICNtYWluIC5mZWVkLCAjbWFpbiAucG9pbnQge3Bvc2l0aW9uOnN0YXRpYyFpbXBvcnRhbnQ7fQogICAgICAgICAgICAjbWFpbiAucG9pbnR7d2lkdGg6IDEwMCUhaW1wb3J0YW50O21hcmdpbi10b3A6IDI1cHg7fQogICAgICAgICAgICAjbWFpbiAubmV3XzQwNCAuaGVhZCBpbWd7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMTIycHg7IG1hcmdpbjogMCBhdXRvO30KCiAgICAgICAgICAgICNtYWluLCNtYWluIC5mZWVkIC5lX2Jvb2sgLmVfYm9keSwjbWFpbiAuZmVlZCAuZV9ib29rIC5oZWFkLCNtYWluIC5mZWVkIC5lX2Jvb2sgLmVfYm9keSAuZV9jb250YWluZXIsLmVfYm9vayAuZV9ib2R5IC5lX2NvbnRhaW5lciAuaXRlbSNtYWluLCAjbWFpbiAuZmVlZCB7IHdpZHRoOiAxMDAlOyB9CiAgICAgICAgICAgICNtYWluIC5mZWVkIC5lX2Jvb2sgLmVfYm9keSwjbWFpbiAuZmVlZCAuZV9ib29rIC5lX2JvZHkgLmVfY29udGFpbmVye2hlaWdodDogYXV0bzt9CiAgICAgICAgICAgICNtYWluIC5mZWVkIC5lX2Jvb2sgLmVfYm9keSAuZV9jb250YWluZXIgYXtkaXNwbGF5OiBibG9jaztwYWRkaW5nOiAwIDI0cHghaW1wb3J0YW50O30KICAgICAgICAgICAgI21haW4gLmZlZWQgLmVfYm9vayAuaGVhZCwjbWFpbiAubmV3XzQwNHtoZWlnaHQ6IGF1dG87fQogICAgICAgICAgICAjbWFpbiAuZmVlZCAuaXRlbXt3aWR0aDogYXV0bztmbG9hdDogbm9uZSFpbXBvcnRhbnQ7LXdlYmtpdC1ib3JkZXItcmFkaXVzOiAwOyAtbW96LWJvcmRlci1yYWRpdXM6IDA7ICAtbXMtYm9yZGVyLXJhZGl1czogMDsgIC1vLWJvcmRlci1yYWRpdXM6IDA7IGJvcmRlcjogbm9uZTsgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U0ZTRlNDtib3gtc2hhZG93OiBub25lO30KICAgICAgICAgICAgLmVfY29udGFpbmVyIC5pdGVtIC5lX21lc3NhZ2UgLmVfdGl0bGV7d2lkdGg6IGF1dG87b3ZlcmZsb3c6IGhpZGRlbjt0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsgd2hpdGUtc3BhY2U6IG5vd3JhcDt9CiAgICAgICAgICAgICNtYWluIC5mZWVkIC5lX2Jvb2sgLmhlYWQgaW1nLndhcF9kZWJvb2t7d2lkdGg6IDEwMCU7aGVpZ2h0OiBhdXRvO2Rpc3BsYXk6IGJsb2NrO30KICAgICAgICAgICAgI21haW4gLmZlZWQgLmVfYm9vayAuaGVhZCBpbWcucGNfZGVib29rLCNtYWluIC5uZXdfNDA0IC5oZWFkIGltZy5wY19pbWd7ZGlzcGxheTogbm9uZTt9CiAgICAgICAgCSNtYWluIC5uZXdfNDA0IC5oZWFkIGltZy53YXBfaW1ne2Rpc3BsYXk6IGJsb2NrO30KICAgICAgICAgICAgLmVfY29udGFpbmVyIC5pdGVtIC5lX21lc3NhZ2V7d2lkdGg6IGNhbGMoMTAwJSAtIDE2NHB4KX0KICAgICAgICAgICAgI21haW4gLm5ld180MDR7bWFyZ2luLWJvdHRvbTogMDt3aWR0aDogMTAwJX0KICAgICAgICAgICAgI21haW4gLm5ld180MDQgLmhlYWR7cGFkZGluZy10b3A6IDM1cHh9CiAgICAgICAgICAgICNtYWluIC5mZWVkIC5lX2Jvb2sgLmhlYWQgLmFjdF9idG57cG9zaXRpb246IGluaGVyaXQ7fQogICAgICAgICAgICAvKgogICAgICAgICAgICAjbWFpbiAuZmVlZCAuaG90X3N1Z2dlc3R7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICB9Ki8KICAgICAgICB9CiAgICAgICAgI21haW4gLm5ld180MDQgLmdvdG9fZmVlZCBhIHsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgIGhlaWdodDogNDBweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwxKTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI0ZDNTUzMTsKICAgICAgICAgICAgd2lkdGg6IDg4cHg7CiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICBjb2xvcjogI0ZDNTUzMTsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDM4cHg7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAuMnM7CiAgICAgICAgfQogICAgICAgICNtYWluIC5uZXdfNDA0IC5nb3RvX2ZlZWQgYTphY3RpdmV7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNGQUUyRTE7CgogICAgICAgIH0KICAgICAgICAjbWFpbiAubmV3XzQwNCAuZ290b19mZWVkIGE6aG92ZXJ7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNGRkY1RjI7CiAgICAgICAgfQogICAgICAgICNtYWluIC5uZXdfNDA0IC5lX3RleHQgewogICAgICAgICAgICBtYXJnaW46IDhweCAwIDE2cHggMDsKICAgICAgICAgICAgZm9udC1zaXplOjE0cHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OjQwMDsKICAgICAgICAgICAgY29sb3I6cmdiYSgxNTMsMTU0LDE3MCwxKTsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6MjJweDsKICAgICAgICB9CiAgICAgICAgI21haW4gLm5ld180MDR7CiAgICAgICAgICAgIGhlaWdodDogYXV0bzsKICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDI0cHg7CiAgICAgICAgICAgIGJveC1zaXppbmc6IGNvbnRlbnQtYm94OwogICAgICAgIH0KICAgICAgICBib2R5IHsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTsKICAgICAgICB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGRpdiBpZD0ibWFpbiIgY2xhc3M9ImNsZWFyZml4IiBzdHlsZT0icGFkZGluZy10b3A6MjBweCFpbXBvcnRhbnQiPgogICAgICAgIDxzY3JpcHQ+CiAgICAgICAgICAgIGxvYWRTcmNyaXB0KCk7CiAgICAgICAgPC9zY3JpcHQ+CiAgICAgICAgPGRpdiBjbGFzcz0icG9pbnQgZmxvYXRMIiA+CiAgICAgICAgICAgIDwhLS0gPGRpdiBjbGFzcz0iZXhwcmVzc2lvbiI+CiAgICAgICAgICAgICAgICBvKOKVpe+5j+KVpSlvCiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJlcnJvcl90ZXh0Ij4KICAgICAgICAgICAgICAgIDQwNAogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idGV4dCI+CiAgICAgICAgICAgICAgICDpobXpnaLmib7kuI3liLDkuoYKICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InJldHVybiI+CiAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwczovL3d3dy5jc2RuLm5ldCI+6L+U5Zue6aaW6aG1PC9hPgogICAgICAgICAgICA8L2Rpdj4gLS0+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im5ld180MDQiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaGVhZCI+CiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vZy5jc2RuaW1nLmNuL3N0YXRpYy80MDRpbWcvNDA0LnBuZyIgY2xhc3M9InBjX2ltZyIgYWx0PSIiPgogICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2cuY3NkbmltZy5jbi9zdGF0aWMvNDA0aW1nLzQwNC5wbmciIGNsYXNzPSJ3YXBfaW1nIiBhbHQ9IiI+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVfdGV4dCI+5ZWK5ZOmfuS9oOaDs+aJvueahOWGheWuueemu+S9oOiAjOWOu+S6huWTpjwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZ290b19mZWVkIj4KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwczovL3d3dy5jc2RuLm5ldCI+6L+U5Zue6aaW6aG1PC9hPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8IS0t6Lef6ZqPZm9vdGVyLS0+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFfZF9wb3AiIHN0eWxlPSJkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOnN0YXRpYzt0b3A6MDt3aWR0aDozMDBweCI+CiAgICAgICAgICAgICAgICA8IS0tIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii8vY2VlMS5pdGV5ZS5jb20vcGtjY3NsemdzLmpzIj48L3NjcmlwdD4gLS0+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhX2RfYm94Ij48L2Rpdj4KICAgICAgICAgICAgICAgIDwhLS0gPGRpdiBjbGFzcz0icGVyc2lvbl9hcnRpY2xlIj48L2Rpdj4gLS0+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImZlZWQgZmxvYXRSIj4KICAgICAgICAgICAgPCEtLSA8ZGl2IGNsYXNzPSJlX2Jvb2siPgogICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly9tYWxsLmNzZG4ubmV0L3ZpcCIgIGRhdGEtcmVwb3J0LXF1ZXJ5PSJ1dG1fc291cmNlPTQwNHZpcCI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaGVhZCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2cuY3NkbmltZy5jbi9zdGF0aWMvNDA0aW1nL2FjdF9iYWNrLnBuZyIgY2xhc3M9InBjX2RlYm9vayIgYWx0PSIiPgogICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iaHR0cHM6Ly9nLmNzZG5pbWcuY24vc3RhdGljLzQwNGltZy93YXBfYWN0X2JhY2sucG5nIiBjbGFzcz0id2FwX2RlYm9vayIgYWx0PSIiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY3RfYnRuIj7mlrDmnLrkvJrvvIzkuobop6PkuIDkuIvmiJHlkZfvvZ48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVfYm9keSI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZV9jb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwczovL21hbGwuY3Nkbi5uZXQvdmlwIiBkYXRhLXJlcG9ydC1xdWVyeT0idXRtX3NvdXJjZT00MDR2aXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaXRlbSBmbG9hdF9sZWZ0IG1hcmdpbl9ib3R0b21fMjQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9ImVfYm9va19pbWcgZmxvYXRfbGVmdCIgc3JjPSJodHRwczovL2cuY3NkbmltZy5jbi9zdGF0aWMvNDA0aW1nL2Jvb2sxLnBuZyIgYWx0PSIiIHN0eWxlPSJiYWNrZ3JvdW5kOiBibHVlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZV9tZXNzYWdlIGZsb2F0X3JpZ2h0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZV90aXRsZSI+5rex5bqm5a2m5Lmg5a6e5oiYPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVfYXV0aG9yIj7kvZzogIXvvJpEb3V3ZSBPc2luZ2E8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZV9udW1iZXIiPjczMzfkurrlt7LlrabkuaA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZV9wcmljZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0icmVhbF9wcmljZSI+5LuF6ZyAMC445YWDL+WkqTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJvbGRfcHJpY2UgZGVhZGxpbmUiPsKlIDQ1LjAwPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vbWFsbC5jc2RuLm5ldC92aXAiIGRhdGEtcmVwb3J0LXF1ZXJ5PSJ1dG1fc291cmNlPTQwNHZpcCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpdGVtIGZsb2F0X3JpZ2h0IG1hcmdpbl9ib3R0b21fMjQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9ImVfYm9va19pbWcgZmxvYXRfbGVmdCIgc3JjPSJodHRwczovL2cuY3NkbmltZy5jbi9zdGF0aWMvNDA0aW1nL2Jvb2syLnBuZyIgYWx0PSIiIHN0eWxlPSJiYWNrZ3JvdW5kOiBibHVlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZV9tZXNzYWdlIGZsb2F0X3JpZ2h0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZV90aXRsZSI+6Zu25Z+656GA6L275p2+5a2mSmF2YTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJlX2F1dGhvciI+5L2c6ICF77ya5byg5rSq5rOiPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVfbnVtYmVyIj42ODIz5Lq65bey5a2m5LmgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVfcHJpY2UiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InJlYWxfcHJpY2UiPuS7hemcgDAuOOWFgy/lpKk8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ib2xkX3ByaWNlIGRlYWRsaW5lIj7CpSAzMC4wMDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwczovL21hbGwuY3Nkbi5uZXQvdmlwIiBkYXRhLXJlcG9ydC1xdWVyeT0idXRtX3NvdXJjZT00MDR2aXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaXRlbSBmbG9hdF9sZWZ0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPSJlX2Jvb2tfaW1nIGZsb2F0X2xlZnQiIHNyYz0iaHR0cHM6Ly9nLmNzZG5pbWcuY24vc3RhdGljLzQwNGltZy9ib29rMy5wbmciIGFsdD0iIiBzdHlsZT0iYmFja2dyb3VuZDogYmx1ZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVfbWVzc2FnZSBmbG9hdF9yaWdodCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVfdGl0bGUiPlB5dGhvbue9kee7nOeIrOiZq+S7juWFpemXqOWIsOWunui3tSDnrKwy54mIPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVfYXV0aG9yIj7kvZzogIXvvJrllJDmnb48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZV9udW1iZXIiPjU5ODHkurrlt7LlrabkuaA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZV9wcmljZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0icmVhbF9wcmljZSI+5LuF6ZyAMC445YWDL+WkqTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJvbGRfcHJpY2UgZGVhZGxpbmUiPsKlIDMwLjAwPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vbWFsbC5jc2RuLm5ldC92aXAiIGRhdGEtcmVwb3J0LXF1ZXJ5PSJ1dG1fc291cmNlPTQwNHZpcCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpdGVtIGZsb2F0X3JpZ2h0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPSJlX2Jvb2tfaW1nIGZsb2F0X2xlZnQiIHNyYz0iaHR0cHM6Ly9nLmNzZG5pbWcuY24vc3RhdGljLzQwNGltZy9ib29rNC5wbmciIGFsdD0iIiBzdHlsZT0iYmFja2dyb3VuZDogYmx1ZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVfbWVzc2FnZSBmbG9hdF9yaWdodCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVfdGl0bGUiPuWbvuino+eul+azlTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJlX2F1dGhvciI+5L2c6ICF77ya5L+e5b6B5q2mPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVfbnVtYmVyIj41NTky5Lq65bey5a2m5LmgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVfcHJpY2UiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InJlYWxfcHJpY2UiPuS7hemcgDAuOOWFgy/lpKk8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ib2xkX3ByaWNlIGRlYWRsaW5lIj7CpSAyNS4wMDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PiAtLT4KICAgICAgICAgICAgPCEtLSA8ZGl2IGNsYXNzPSJob3Rfc3VnZ2VzdCI+CiAgICAgICAgICAgICAgICDng63pl6jmjqjojZAKICAgICAgICAgICAgPC9kaXY+IC0tPgogICAgICAgICAgICA8IS0tPGRpdiBjbGFzcz0idGV4dCI+LS0+CiAgICAgICAgICAgICAgICA8IS0t5o6o6I2Q6ZiF6K+777yaLS0+CiAgICAgICAgICAgIDwhLS08L2Rpdj4tLT4KICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVjb21tZW5kX2xpc3QiPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBpZD0iY3Nkbi1mb290ZXIiIHN0eWxlPSJtYXJnaW4tdG9wOiAxMHB4OyIgY2xhc3M9ImJsb2ctZm9vdGVyLWJvdHRvbSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2Pgo8L2JvZHk+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KICAgICQoZnVuY3Rpb24oKSB7CiAgICAgICAgd2luZG93LmNzZG4uY3NkbkZvb3Rlci5vcHRpb25zID0gewogICAgICAgICAgICBlbDogJy5ibG9nLWZvb3Rlci1ib3R0b20nLAogICAgICAgICAgICB0eXBlOiAyCiAgICAgICAgfQogICAgICAgIHZhciBpc0ZpcnN0VmlldyA9IHRydWU7CiAgICAgICAgZnVuY3Rpb24gZ2V0WXRBZChpZCkgewogICAgICAgICAgICB2YXIgbmV3X2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgICAgICAgICAgbmV3X2VsZW1lbnQuc2V0QXR0cmlidXRlKCJhc3luYyIsICJhc3luYyIpOwogICAgICAgICAgICBuZXdfZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNoYXJzZXQiLCAidXRmLTgiKTsKICAgICAgICAgICAgbmV3X2VsZW1lbnQuc2V0QXR0cmlidXRlKCJkYXRhLW5vdGlmeSIsICJpbmZvckZsb3dNdWx0aV9ub3RpZnkiKTsKICAgICAgICAgICAgbmV3X2VsZW1lbnQuc2V0QXR0cmlidXRlKCJzcmMiLCAiaHR0cHM6Ly9zaGFyZWQueWRzdGF0aWMuY29tL2pzL3lhdGRrLzMuMC4wL3N0cmVhbS5qcyIpOwogICAgICAgICAgICBuZXdfZWxlbWVudC5zZXRBdHRyaWJ1dGUoImRhdGEtaWQiLCAiNmNiMjQxNTNhMDMyODlmZjM1OTdjN2FhYjRiNjlmZTkiKTsKCiAgICAgICAgICAgIG5ld19lbGVtZW50LnNldEF0dHJpYnV0ZSgiZGF0YS1pbnNlcnQtbm9kZXMiLCAieWRfYV9kX2ZlZWRfIiArIGlkKTsKICAgICAgICAgICAgbmV3X2VsZW1lbnQuc2V0QXR0cmlidXRlKCJkYXRhLWhpZGUtYWQtbGFiZWwiLCAiMCIpOwoKICAgICAgICAgICAgbmV3X2VsZW1lbnQuc2V0QXR0cmlidXRlKCJkYXRhLXBvcyIsICJpbmxpbmUiKTsKICAgICAgICAgICAgbmV3X2VsZW1lbnQuc2V0QXR0cmlidXRlKCJkYXRhLWltZy1TdHlsZSIsICJmbG9hdDpyaWdodDt3aWR0aDoxMjBweDsiKTsKICAgICAgICAgICAgbmV3X2VsZW1lbnQuc2V0QXR0cmlidXRlKCJkYXRhLWRlcy1TdHlsZSIsICJ3aWR0aDo3MDBweDtmb250LXNpemU6MTRweDtmb250LWZhbWlseTogJ1BpbmdGYW5nIFNDJywgJ01pY3Jvc29mdCBZYUhlaScsIFNpbUhlaSwgQXJpYWwsIFNpbVN1bjsiKTsKICAgICAgICAgICAgbmV3X2VsZW1lbnQuc2V0QXR0cmlidXRlKCJkYXRhLXRpdC1TdHlsZSIsICJmb250LXNpemU6MjBweDtmb250LXdlaWdodDpib2xkO21hcmdpbi1ib3R0b206MTBweDtmb250LWZhbWlseTogJ1BpbmdGYW5nIFNDJywgJ01pY3Jvc29mdCBZYUhlaScsIFNpbUhlaSwgQXJpYWwsIFNpbVN1bjsiKTsKICAgICAgICAgICAgbmV3X2VsZW1lbnQuc2V0QXR0cmlidXRlKCJkYXRhLWRpdi1TdHlsZSIsICJ3aWR0aDoxMDAlO3BhZGRpbmc6MTBweDsiKTsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuZXdfZWxlbWVudCk7CiAgICAgICAgfQoKICAgICAgICB2YXIgZmVlZF9hX2RfbnVtID0gMSwKICAgICAgICAgICAgYWRkX2FfZF9udW0gPSAwLAogICAgICAgICAgICBpc19sb2FkID0gZmFsc2U7CgogICAgICAgIGZ1bmN0aW9uIGZlZWRfYWRkX3lkKCkgewoKICAgICAgICAgICAgdmFyICRyZWNvbW1lbmRfY2hpbGRyZW4gPSAkKCcucmVjb21tZW5kX2xpc3QnKS5jaGlsZHJlbignZGl2Jyk7CiAgICAgICAgICAgIGlmICgkcmVjb21tZW5kX2NoaWxkcmVuLmxlbmd0aCA+IGZlZWRfYV9kX251bSkgewogICAgICAgICAgICAgICAgZm9yICg7IGZlZWRfYV9kX251bSA8ICRyZWNvbW1lbmRfY2hpbGRyZW4ubGVuZ3RoOyBmZWVkX2FfZF9udW0gKz0gNikgewogICAgICAgICAgICAgICAgICAgICRyZWNvbW1lbmRfY2hpbGRyZW4gPSAkKCcucmVjb21tZW5kX2xpc3QnKS5jaGlsZHJlbignZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgJCgkcmVjb21tZW5kX2NoaWxkcmVuW2ZlZWRfYV9kX251bV0pLmFmdGVyKCc8ZGl2IGlkPSJ5ZF9hX2RfZmVlZF8nICsgZmVlZF9hX2RfbnVtICsgJyIgY2xhc3M9InlkX2FfZF9mZWVkX2NsYSBpdGVtIj48L2Rpdj4nKQogICAgICAgICAgICAgICAgICAgIGdldFl0QWQoZmVlZF9hX2RfbnVtKTsKICAgICAgICAgICAgICAgICAgICBhZGRfYV9kX251bSsrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJHJlY29tbWVuZF9jaGlsZHJlbiA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0SHRtbChkYXRhKXsKICAgICAgICAgICAgdmFyIHRleHQgPSAnJzsKICAgICAgICAgICAgLy8gdmFyIGFydGljbGVVcmw9J2h0dHBzOi8vYmxvZy5jc2RuLm5ldC8nK2RhdGEudXNlcl9uYW1lKycvYXJ0aWNsZS9kZXRhaWxzLycrZGF0YS5pZAogICAgICAgICAgICB2YXIgZGF0YVJlcG9ydFZpZXcgPSAnJzsKICAgICAgICAgICAgdmFyIGRhdGFSZXBvcnRDbGljayA9ICcnOwogICAgICAgICAgICB2YXIgZGF0YVJlcG9ydFF1ZXJ5ID0gJyc7CiAgICAgICAgICAgIGlmKGRhdGEucmVwb3J0X2RhdGEuZXZlbnRWaWV3KXsKICAgICAgICAgICAgICAgIGRhdGFSZXBvcnRWaWV3ID0gJ2RhdGEtcmVwb3J0LXZpZXc9JytKU09OLnN0cmluZ2lmeShkYXRhLnJlcG9ydF9kYXRhLmRhdGEpKycnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoZGF0YS5yZXBvcnRfZGF0YS5ldmVudENsaWNrKXsKICAgICAgICAgICAgICAgIGRhdGFSZXBvcnRDbGljayA9ICdkYXRhLXJlcG9ydC1jbGljaz0nK0pTT04uc3RyaW5naWZ5KGRhdGEucmVwb3J0X2RhdGEuZGF0YSkrJycKICAgICAgICAgICAgfQogICAgICAgICAgICBpZihKU09OLnN0cmluZ2lmeShkYXRhLnJlcG9ydF9kYXRhLnVybFBhcmFtcykgIT09ICd7fScpewogICAgICAgICAgICAgICAgJC5lYWNoKGRhdGEucmVwb3J0X2RhdGEudXJsUGFyYW1zLCBmdW5jdGlvbihrKSB7CiAgICAgICAgICAgICAgICAgICAgZGF0YVJlcG9ydFF1ZXJ5ICs9IChrICsgJz0nICsgZGF0YS5yZXBvcnRfZGF0YS51cmxQYXJhbXNba10gKyAnJicpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIGRhdGFSZXBvcnRRdWVyeSA9ICdkYXRhLXJlcG9ydC1xdWVyeT0nK2RhdGFSZXBvcnRRdWVyeS5zdWJzdHJpbmcoMCxkYXRhUmVwb3J0UXVlcnkubGVuZ3RoLTEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGRhdGEubmlja25hbWUpIHsKICAgICAgICAgICAgICAgIHZhciAgbmlja05hbWUgPSBkYXRhLm5pY2tuYW1lCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBuaWNrTmFtZSA9IGRhdGEudXNlcl9uYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRleHQgPSAnPGRpdiBjbGFzcz0iaXRlbSIgJytkYXRhUmVwb3J0VmlldysnPicrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGEgaHJlZj0iJytkYXRhLnVybCsnIiB0YXJnZXQ9Il9zZWxmIiAnK2RhdGFSZXBvcnRDbGljaysnICcrZGF0YVJlcG9ydFF1ZXJ5Kyc+JysKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz0idGl0bGUiPjxzcGFuPicrZGF0YS50aXRsZSsnPC9zcGFuPjwvZGl2PicrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9ImRlc2NfNDA0Ij4nK2RhdGEuZGVzYysnPC9kaXY+JysKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz0idXNlciI+JysKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9ImF2YXRhciI+JysKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aW1nIHNyYz0iJytkYXRhLmF2YXRhcnVybCsnIiBhbHQ9Iicrbmlja05hbWUrJyI+JysKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz0idXNlcl9uYW1lIj4nK25pY2tOYW1lKyc8L3NwYW4+JysKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPSJyZWFkX251bSI+6ZiF6K+75pWw77yaJytkYXRhLnZpZXdzKyc8L3NwYW4+JysKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JysKICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2E+JysKICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7CiAgICAgICAgfQoKICAgICAgICAvL+mysum5j+W5v+WRiuiwg+eUqAogICAgICAgIGZ1bmN0aW9uIGdldExlZnRBZExvY2F0aW9uKGlkKSB7CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2t1bnBlbmcuY3Nkbi5uZXQvYWQvbGlzdD9wb3NpdGlvbnM9JytpZCwKICAgICAgICAgICAgICAgIGNyb3NzRG9tYWluOnRydWUsIC8v6K6+572u6Leo5Z+f5Li6dHJ1ZQogICAgICAgICAgICAgICAgeGhyRmllbGRzOiB7CiAgICAgICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlIC8v6buY6K6k5oOF5Ya15LiL77yM5qCH5YeG55qE6Leo5Z+f6K+35rGC5piv5LiN5Lya5Y+R6YCBY29va2ll55qECiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICAgICAgICAgIGlmKGRhdGFbMF0uc3RhdHVzICYmIGRhdGFbMF0uaWQgPT0gJzUxNycpewogICAgICAgICAgICAgICAgICAgICAgICAvLyDlt6bkvqfmoI/or7fmsYLlub/lkYo1MTcKICAgICAgICAgICAgICAgICAgICAgICAgJCgiLmFfZF9ib3giKS5odG1sKGRhdGFbMF0uY29uKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoIi5hX2RfYm94IikucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgIGdldExlZnRBZExvY2F0aW9uKDUxNykKCiAgICAgICAgdmFyIHdpbkggPSAkKHdpbmRvdykuaGVpZ2h0KCk7IC8v6aG16Z2i5Y+v6KeG5Yy65Z+f6auY5bqmCiAgICAgICAgdmFyIHNjcm9sbEhhbmRsZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHBhZ2VIID0gJChkb2N1bWVudC5ib2R5KS5oZWlnaHQoKTsKICAgICAgICAgICAgdmFyIHNjcm9sbFQgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7IC8v5rua5Yqo5p2hdG9wCiAgICAgICAgICAgIHZhciBhYSA9IChwYWdlSCAtIHdpbkggLSBzY3JvbGxUKSAvIHdpbkg7CiAgICAgICAgICAgIGlmIChhYSA8IDAuMDIgJiYgIWlzX2xvYWQpIHsKICAgICAgICAgICAgICAgIGlzX2xvYWQgPSB0cnVlOwogICAgICAgICAgICAgICAgZ2V0UmVsYXRlTGlzdERhdGEoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvL+WHveaVsOiKgua1gQogICAgICAgIHZhciB0aHJvdHRsZVYyID0gZnVuY3Rpb24oZm4sIGRlbGF5LCBtdXN0UnVuRGVsYXkpIHsKICAgICAgICAgICAgdmFyIHRpbWVyID0gbnVsbDsKICAgICAgICAgICAgdmFyIHRfc3RhcnQ7CiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcywKICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJndW1lbnRzLAogICAgICAgICAgICAgICAgICAgIHRfY3VyciA9ICtuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICAgICAgICAgIGlmICghdF9zdGFydCkgewogICAgICAgICAgICAgICAgICAgIHRfc3RhcnQgPSB0X2N1cnI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodF9jdXJyIC0gdF9zdGFydCA+PSBtdXN0UnVuRGVsYXkpIHsKICAgICAgICAgICAgICAgICAgICBmbi5hcHBseShjb250ZXh0LCBhcmdzKTsKICAgICAgICAgICAgICAgICAgICB0X3N0YXJ0ID0gdF9jdXJyOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpOwogICAgICAgICAgICAgICAgICAgIH0sIGRlbGF5KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICB9OwogICAgICAgIC8v5a6a5LmJ6byg5qCH5rua5Yqo5LqL5Lu2CiAgICAgICAgLy8kKHdpbmRvdykuc2Nyb2xsKHRocm90dGxlVjIoc2Nyb2xsSGFuZGxlciwgMjAwLCA0MDApKTsKICAgICAgICAvLyDmgqzmta7lub/lkYoKCiAgICAgICAgLy8g5Yik5pat5pivV2Fw6L+Y5pivcGMKICAgICAgICB2YXIgbG9hZE1vZGUgPSB3aW5kb3cuaW5uZXJXaWR0aCA8IDExNTAgPyAnd2FwJyA6ICdwYyc7CiAgICAgICAgICAgIGxvYWRNb2RlID09PSAnd2FwJyA/IGdldFJlbGF0ZUxpc3REYXRhKCkgOiBnZXRQY1JlbGF0ZUxpc3REYXRhKCk7CgogICAgICAgIGZ1bmN0aW9uIGdldFJlbGF0ZUxpc3REYXRhKCkgewogICAgICAgICAgICBsb2FkTW9kZSA9ICd3YXAnOwogICAgICAgICAgICB2YXIgbG9hZGFuQW5pbWF0aW9uID0gIjxkaXYgY2xhc3M9J1JlY29tbWVuZF9sb2FkYW5BbmltYXRpb24nPjxpbWcgc3JjPSdodHRwczovL2NzZG5pbWcuY24vcmVsZWFzZS9waG9lbml4L2ltYWdlcy9mZWVkTG9hZGluZy5naWYnPjwvZGl2PiIKICAgICAgICAgICAgdmFyIHNob3duX29mZnNldCA9IDA7CiAgICAgICAgICAgIHZhciBub01vcmVSZWNvbW1lbmQgPSAnPGRpdiBjbGFzcz0iY2xlYXJmaXggbm9tb3JlX2JveCIgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyIj7msqHmnInmm7TlpJrlhoXlrrnkuobvvIw8YSBocmVmPSJodHRwczovL3d3dy5jc2RuLm5ldC8iPuWOu+mmlumhteeci+eci+WQpzwvYT48L2Rpdj4nOwogICAgICAgICAgICBpZiAoISQoJy5SZWNvbW1lbmRfbG9hZGFuQW5pbWF0aW9uJylbMF0pIHsKICAgICAgICAgICAgICAgICQoJy5yZWNvbW1lbmRfbGlzdCcpLmFwcGVuZChsb2FkYW5BbmltYXRpb24pOwogICAgICAgICAgICB9CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICAvLyDmnKzlnLDmtYvor5UKICAgICAgICAgICAgICAgIC8vIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Quc28uY3Nkbi5uZXQ6ODAwMC90ZXN0Lmpzb24/dXJsPScgKyBsb2NhdGlvbi5ocmVmLAogICAgICAgICAgICAgICAgLy8g5q2j5byP546v5aKDCiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL3NpbGtyb2FkLmNzZG4ubmV0L2FwaS92Mi9hc3NlbWJsZS9saXN0L2NoYW5uZWwvd2FwX2ZlZWRfNDA0P3VybD0nICsgbG9jYXRpb24uaHJlZiwKICAgICAgICAgICAgICAgIC8vIOa1i+ivleeOr+WigwogICAgICAgICAgICAgICAgLy8gdXJsOiAnaHR0cDovLzE5Mi4xNjguNTAuOTg6ODU2NS9pbmZvc3RyZWFtL2FwaV91bmtub3duP3VybD0nICsgbG9jYXRpb24uaHJlZiwKICAgICAgICAgICAgICAgIGNyb3NzRG9tYWluOnRydWUsIC8v6K6+572u6Leo5Z+f5Li6dHJ1ZQogICAgICAgICAgICAgICAgeGhyRmllbGRzOiB7CiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUgLy/pu5jorqTmg4XlhrXkuIvvvIzmoIflh4bnmoTot6jln5/or7fmsYLmmK/kuI3kvJrlj5HpgIFjb29raWXnmoQKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpc0ZpcnN0VmlldyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICBpZihkYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAkKCIucmVjb21tZW5kX2xpc3QiKS5oaWRlKCkuaHRtbChkYXRhLmRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICQoIi5yZWNvbW1lbmRfbGlzdCBsaW5rIikub24oJ2xvYWQnLCBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiLnJlY29tbWVuZF9saXN0Iikuc2hvdygpCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdkYXRhLS0tLS0nLGRhdGEpCiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHRleHQgPSAnJzsKICAgICAgICAgICAgICAgICAgICAvLyBsZXQgbGlzdD1kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgLy8gJCgnLlJlY29tbWVuZF9sb2FkYW5BbmltYXRpb24nKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAvLyBpZiAobGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGV4dCArPSBnZXRIdG1sKGxpc3RbaV0pOwogICAgICAgICAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vIHNob3duX29mZnNldCA9IGRhdGEuc2hvd25fb2Zmc2V0CiAgICAgICAgICAgICAgICAgICAgLy8gICAgICQoJy5yZWNvbW1lbmRfbGlzdCcpLmFwcGVuZCh0ZXh0KTsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgaXNfbG9hZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyBmZWVkX2FkZF95ZCgpCiAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgJCgnLnJlY29tbWVuZF9saXN0JykuYXBwZW5kKG5vTW9yZVJlY29tbWVuZCk7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgICAvLyBjc2RuLnJlcG9ydC52aWV3Q2hlY2soalF1ZXJ5KCJbZGF0YS1yZXBvcnQtdmlld10iKSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2V0UGNSZWxhdGVMaXN0RGF0YSgpewogICAgICAgICAgICBsb2FkTW9kZSA9ICdwYyc7CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2Jsb2cuY3Nkbi5uZXQvaW5mb3N0cmVhbS9wY19hcGlfdW5rbm93bj91cmw9JyArIGxvY2F0aW9uLmhyZWYsCiAgICAgICAgICAgICAgICBjcm9zc0RvbWFpbjp0cnVlLCAvL+iuvue9rui3qOWfn+S4unRydWUKICAgICAgICAgICAgICAgIHhockZpZWxkczogewogICAgICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSAvL+m7mOiupOaDheWGteS4i++8jOagh+WHhueahOi3qOWfn+ivt+axguaYr+S4jeS8muWPkemAgWNvb2tpZeeahAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICBpZihkYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAkKCIucmVjb21tZW5kX2xpc3QiKS5oaWRlKCkuaHRtbChkYXRhLmRhdGEuaHRtbCkKICAgICAgICAgICAgICAgICAgICAgICAgJCgiLnJlY29tbWVuZF9saXN0IGxpbmsiKS5vbignbG9hZCcsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCIucmVjb21tZW5kX2xpc3QiKS5zaG93KCkKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewoKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGZpeGVkQ29udGFpbmVyKGVsZW1lbnQsIGxlZnQpIHsKICAgICAgICAgICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICAgICAgICAgIHZhciB0b3AgPSBlbGVtZW50LmhlaWdodCgpIC0gJCh3aW5kb3cpLmhlaWdodCgpICsgJCgiI2NzZG4tdG9vbGJhciIpLmhlaWdodCgpICsgMjA7CiAgICAgICAgICAgIGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiB0b3AgJiYgdG9wID4gMCkgewogICAgICAgICAgICAgICAgZWxlbWVudC5jc3MoewogICAgICAgICAgICAgICAgICAgICd0b3AnOiAnYXV0bycsCiAgICAgICAgICAgICAgICAgICAgJ2JvdHRvbSc6IDAsCiAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiAkKCIjbWFpbiIpLm9mZnNldCgpLmxlZnQgKyBsZWZ0IC0gJCgnaHRtbCcpLnNjcm9sbExlZnQoKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAhZWxlbWVudC5oYXNDbGFzcygnZml4ZWQnKSA/IGVsZW1lbnQuYWRkQ2xhc3MoImZpeGVkIikgOiAiIgogICAgICAgICAgICB9IGVsc2UgaWYgKHRvcCA8IDAgJiYgJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gJCgiI2NzZG4tdG9vbGJhciIpLmhlaWdodCgpKSB7CiAgICAgICAgICAgICAgICBlbGVtZW50LmNzcyh7CiAgICAgICAgICAgICAgICAgICAgJ3RvcCc6ICA4LAogICAgICAgICAgICAgICAgICAgICJib3R0b20iOiAnYXV0bycsCiAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiAkKCIjbWFpbiIpLm9mZnNldCgpLmxlZnQgKyBsZWZ0IC0gJCgnaHRtbCcpLnNjcm9sbExlZnQoKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICFlbGVtZW50Lmhhc0NsYXNzKCdmaXhlZCcpID8gZWxlbWVudC5hZGRDbGFzcygiZml4ZWQiKSA6ICIiCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCJmaXhlZCIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPCAxMCkgewogICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygiZml4ZWQiKQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgJCgiI2NzZG4tZm9vdGVyIikuc2hvdygpCiAgICAgICAgfSwgMzAwKTsKCiAgICAgICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBmdW5jdGlvbigpewogICAgICAgICAgICBmaXhlZENvbnRhaW5lcigiLnBvaW50IiwgMCk7CiAgICAgICAgfSkKICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGZpeGVkQ29udGFpbmVyKCIucG9pbnQiLCAwKTsKICAgICAgICAgICAgaWYobG9hZE1vZGUgPT09ICdwYycgJiYgd2luZG93LmlubmVyV2lkdGggPCAxMTUwICkgewogICAgICAgICAgICAgICAgJCgiLnJlY29tbWVuZF9saXN0IikuaHRtbCgnJykKICAgICAgICAgICAgICAgIGdldFJlbGF0ZUxpc3REYXRhKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYobG9hZE1vZGUgPT09ICd3YXAnICYmIHdpbmRvdy5pbm5lcldpZHRoID4gMTE1MCApIHsKICAgICAgICAgICAgICAgICQoIi5yZWNvbW1lbmRfbGlzdCIpLmh0bWwoJycpCiAgICAgICAgICAgICAgICBnZXRQY1JlbGF0ZUxpc3REYXRhKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KQogICAgfSk7CgoKICAgIC8qCiAgICAgICAgJChmdW5jdGlvbigpewogICAgICAgICAgICBmdW5jdGlvbiBpc19zaG93X2FkX3BvcCgpewogICAgICAgICAgICAgICAgdmFyIFd3aWR0aCA9ICQod2luZG93KS53aWR0aCgpLAogICAgICAgICAgICAgICAgICAgIGZlZWRsZWZ0ID0gJCgnLmZlZWQnKS5vZmZzZXQoKS5sZWZ0LAogICAgICAgICAgICAgICAgICAgIFdUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCksCiAgICAgICAgICAgICAgICAgICAgaXNfc2hvd19udW0gPSA1MDAsCiAgICAgICAgICAgICAgICAgICAgJGFfZF9wb3AgPSAkKCcuYV9kX3BvcCcpOwogICAgICAgICAgICBjb25zb2xlLmxvZygn5Y235puy55qE6auY5bqmJyxXVG9wKQogICAgICAgICAgICAgICAgaWYoV1RvcCA+IGlzX3Nob3dfbnVtKXsKICAgICAgICAgICAgICAgICAgICAvLyRhX2RfcG9wLmFkZENsYXNzKCdhX2RfcG9wX3Nob3cnKQogICAgICAgICAgICAgICAgICAgICRhX2RfcG9wLmFkZENsYXNzKCd6ZHhkX3BvcCcpCiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAvLyRhX2RfcG9wLnJlbW92ZUNsYXNzKCdhX2RfcG9wX3Nob3cnKQogICAgICAgICAgICAgICAgICAgICRhX2RfcG9wLnJlbW92ZUNsYXNzKCd6ZHhkX3BvcCcpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gJGFfZF9wb3AgPSAkKCcuYV9kX3BvcCcpOwogICAgICAgICAgICAvLyAkYV9kX3BvcC5hZGRDbGFzcygnYV9kX3BvcF9zaG93JykKICAgICAgICAgICAgaXNfc2hvd19hZF9wb3AoKQogICAgICAgICAgICAkKHdpbmRvdykuc2Nyb2xsKGlzX3Nob3dfYWRfcG9wKQogICAgICAgIH0pOwogICAgICAgICQoZnVuY3Rpb24oKXsKICAgICAgICB3aW5kb3cuY3Nkbi5maXhlZFNpZGViYXIoewogICAgICAgICAgICB0YXJnZXRCb3g6ICQoJy5wZXJzaW9uX2FydGljbGUnKSwgLy/liKTmlq3liLDovr7lupXpg6jnmoRkaXYs5YWs5YWxZm9vdGVy5Y+v6YCJICQoJy5wZXJzaW9uX2FydGljbGUnKSwkKCcucHVibGljX3BjX3JpZ2h0X2Zvb3RlcjIwMTgnKQogICAgICAgICAgICBtYWluQm94OiAkKCIuZmVlZCIpLCAvL+S+p+i+ueagj+aXgei+ueeahOS4u+S9k2Rpdizpu5jorqQgJCgibWFpbiIpCiAgICAgICAgICAgIHNpZGViYXI6ICQoIi5wb2ludCIpLCAvL+S+p+i+ueagjyzpu5jorqQgJCgiYXNpZGUiKQogICAgICAgICAgICBkaXJlY3Rpb246ICdsZWZ0JywgLy/kvqfovrnmoI/mta7liqjmlrnlkJEs5Y+v6YCJJ3JpZ2h0JywnbGVmdCcsCiAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLC8v5a6a5L2N5pa55byPCiAgICAgICAgICAgIGJvdHRvbTogMCwKICAgICAgICAgICAgekluZGV4OiA5OSwKICAgICAgICAgICAgc2lkZWJhclJpZ2h0TWFyZ2luOiA4LC8vZGlyZWN0aW9u5Li6bGVmdCzkvqfovrnmoI/ot53nprttYWluYm9455qE5Y+z6L656LedCiAgICAgICAgICAgIHNpZGViYXJMZWZ0TWFyZ2luOiAxNSwvL2RpcmVjdGlvbuS4unJpZ2h0LOS+p+i+ueagj+i3neemu21haW5ib3jnmoTlt6bovrnot50KICAgICAgICB9KQogICAgICAgIH0pCiAgICAqLwoKPC9zY3JpcHQ+CjxzY3JpcHQgc3JjPSJodHRwczovL2NzZG5pbWcuY24vcHVibGljL2NvbW1vbi9nb3RvcC9qcy9nb1RvcC12MS4wLm1pbi5qcz92MjAxODAzMjYxMTUwMjgiPjwvc2NyaXB0Pgo8c2NyaXB0PgogICAgaWYoaXNNb2JpbGUuYW55KXsKICAgICAgICBHb1RvcCh7CiAgICAgICAgICAgIHJpZ2h0OiAxNiwKICAgICAgICAgICAgYm90dG9tOiA4MCwKICAgICAgICAgICAgemluZGV4OiA5OSwKICAgICAgICAgICAgaXNNb2JpbGU6IHRydWUKICAgICAgICB9KQogICAgfWVsc2V7CiAgICAgICAgR29Ub3AoewogICAgICAgICAgICByaWdodDogMTYsCiAgICAgICAgICAgIGJvdHRvbTogODAsCiAgICAgICAgICAgIHppbmRleDogOTkKICAgICAgICB9KQogICAgfQo8L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vZy5jc2RuaW1nLmNuL2NvbW1vbi9jc2RuLWZvb3Rlci9jc2RuLWZvb3Rlci5qcyI+PC9zY3JpcHQ+CjwhLS0gPHNjcmlwdCBzcmM9J2h0dHBzOi8vY3NkbmltZy5jbi9wdWJmb290ZXIvanMvcHVibGliX2Zvb3Rlci0xLjAuMy5qcz92MjAxODA0MTExODEwJyBkYXRhLWlzZm9vdGVydHJhY2s9ImZhbHNlIj48L3NjcmlwdD4gLS0+CjxzY3JpcHQgc3JjPSJodHRwczovL3Jlcy53eC5xcS5jb20vb3Blbi9qcy9qd2VpeGluLTEuMy4yLmpzIj48L3NjcmlwdD4KPC9odG1sPgo=)

  

