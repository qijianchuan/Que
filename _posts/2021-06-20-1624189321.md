---
title: Maven单个项目引入私服和全局变量引入私服
categories: 运维
tags: 
---
Maven单个项目引入私服和全局变量引入私服

1.单个项目引入  
1.settings.xml 先不做设置  
2.eclipse创建一个Maven工程  
3.eclipse设置：  
3.1 file->new->Maven Project :选择Create a simple project  
3.2 填写信息  
<groupId>com.jesse.test</groupId>  
<artifactId>project-c</artifactId>  
<version>0.0.1-SNAPSHOT</version>  
3.3 生成的文件：

    
    
    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    				  <modelVersion>4.0.0</modelVersion>
    				  <groupId>com.jesse.test</groupId>
    				  <artifactId>project-c</artifactId>
    				  <version>0.0.1-SNAPSHOT</version>
    </project>

4.开始对单个项目设置私服连接

    
    
    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    		  <modelVersion>4.0.0</modelVersion>
    		  <groupId>com.jesse.test</groupId>
    		  <artifactId>project-c</artifactId>
    		  <version>0.0.1-SNAPSHOT</version>
      
      
    		  <!-- 设置私服仓库开始 -->
    		     <repositories>
    		           <repository>
    		                <id>nexus</id>
    		                <name>Nexus</name>
    		                <url>http://47.166.191.218:8081/repository/maven-public/</url>
    		                <releases>
    		                     <enabled>true</enabled>
    		                </releases>
    		                <snapshots>
    		                     <enabled>true</enabled>
    		                </snapshots>
    		           </repository>
    		     </repositories>
    		     <pluginRepositories>
    		           <pluginRepository>
    		                <id>nexus</id>
    		                <name>Nexus</name>
    		                <!-- 这个地址是私服groups类型的地址，该地址从私服仓库列表的最后一列可查看 -->
    		                <url>http://47.166.191.218:8081/repository/maven-public/</url>
    		                <releases>
    		                     <enabled>true</enabled>
    		                </releases>
    		                <snapshots>
    		                     <enabled>true</enabled>
    		                </snapshots>
    		           </pluginRepository>
    		     </pluginRepositories>
    		     
    		     <!-- 设置私服仓库结束 -->
    		     
    		     <!-- 测试是在阿里云上下载还是在私服下载开始 -->
    		     <dependencies>
    		     	<dependency>
    				  <groupId>antlr</groupId>
    				  <artifactId>antlr</artifactId>
    				  <version>2.7.7</version>
    				</dependency>
    		     </dependencies>
    
    		      <!-- antlr-2.7.7.jar这个jar包做测试是在私服下载，现在本地进行删除 -->
    		     
    		     <!-- 测试是在阿里云上下载还是在私服下载结束 -->
         
    		</project>

5.开始启动下载  
pom.xml 右键Run as -> Maven install  
检查下载的日志，看看是否在私服下载

6.如果下载不成功  
检查全局的settings.xml文件

    
    
    settings.xml文件的配置
    		<mirror>
    	      <id>mirrorId</id>
    	      <name>aliyun maven</name>
    	      <url>http://47.166.191.218:8081/repository/maven-public/</url>
    	      <mirrorOf>*</mirrorOf> <!--如果是*，所有的仓库都是走私服-->
        	</mirror>
    
    
    Maven全部项目引入私服和全局变量引入私服
     		1.检查eclipseMavens的配置文件
     			打开eclipse，找到windows------->preference------->maven------>user  settings，点击update  setting，update下settings.xml文件
    		settings.xml文件的配置
    
    
    在<mirrors>的闭合标签中
    		<mirror>
    			<id>mirrorId</id>
    			<name>aliyun maven</name>
    			<url>http://47.166.191.218:8081/repository/maven-public/</url>
    		 	<mirrorOf>central</mirrorOf>
    		 </mirror>
    
    
    在加入配置
    
        	<!-- 设置私服仓库开始 -->
    	    <profiles>
    		   <profile>
    		      <id>nexus</id>
    		      <repositories>
    		          <repository>
    		            <id>maven-public</id>
    		            <name>Nexus</name>
    		            <url>http://47.166.191.218:8081/repository/maven-public/</url>
    		              <releases>
    		                <enabled>true</enabled>
    		              </releases>
    		              <snapshots>
    		                <enabled>true</enabled>
    		              </snapshots>
    		          </repository>
    		      </repositories>
    		      <pluginRepositories>
    		        <pluginRepository>
    		          <id>maven-public</id>
    		          <name>Nexus</name>
    		          <url>http://47.166.191.218:8081/repository/maven-public/</url>
    		          <releases>
    		            <enabled>true</enabled>
    		          </releases>
    		          <snapshots>
    		            <enabled>true</enabled>
    		          </snapshots>
    		        </pluginRepository>
    		      </pluginRepositories>
    		    </profile>
    	  </profiles>
    
    	  下面激活私服
    
    
    <activeProfiles>
        		<activeProfile>nexus</activeProfile>
      		</activeProfiles>
    

pom.xml文件

    
    
    <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    		  <modelVersion>4.0.0</modelVersion>
    		  <groupId>com.jesse.test</groupId>
    		  <artifactId>project-c</artifactId>
    		  <version>0.0.1-SNAPSHOT</version>
    	  
    	     <!-- 设置私服仓库结束 -->
    	     
    	     <!-- 测试是在阿里云上下载还是在私服下载开始 -->
    	     <dependencies>
    	     	<dependency>
    			  <groupId>antlr</groupId>
    			  <artifactId>antlr</artifactId>
    			  <version>2.7.7</version>
    			</dependency>
    	     </dependencies>
    	     
    	     <!-- 测试是在阿里云上下载还是在私服下载结束 -->
         
         
    	</project>

