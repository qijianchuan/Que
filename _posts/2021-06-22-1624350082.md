---
title: EWMA之——EWMA指数加权移动平均模型的Java实现
categories: 精通Java系列 精通算法系列
tags: Java 算法 EWMA
---
转载请注明出处：http://blog.csdn.net/l1028386804/article/details/79141435  

具体代码如下：

    
    
    package com.lyz.storm.ewma;
    
    import java.io.Serializable;
    
    /**
     * 实现指数移动平均值计算
     * 实现中使用了流式风格的builder API
     * @author liuyazhuang
     *
     */
    public class EWMA implements Serializable {
    
    	private static final long serialVersionUID = 2979391326784043002L;
    	
    	//时间类型枚举
    	public static enum Time {
    		MILLISECONDS(1), SECONDS(1000), MINUTES(SECONDS.getTime() * 60), HOURS(MINUTES.getTime() * 60), DAYS(HOURS.getTime() * 24), WEEKS(DAYS.getTime() * 7);
    		
    		private long millis;
    
    		private Time(long millis) {
    			this.millis = millis;
    		}
    
    		public long getTime() {
    			return this.millis;
    		}
    	}
    	//三个alpha常量，这些值和Unix系统计算负载时使用的标准alpha值相同
    	public static final double ONE_MINUTE_ALPHA = 1 - Math.exp(-5d / 60d / 1d);
    	public static final double FIVE_MINUTE_ALPHA = 1 - Math.exp(-5d / 60d / 5d);
    	public static final double FIFTEEN_MINUTE_ALPHA = 1 - Math.exp(-5d / 60d / 15d);
    	private long window;
    	private long alphaWindow;
    	private long last;
    	private double average;
    	private double alpha = -1D;
    	private boolean sliding = false;
    
    	public EWMA() {
    	}
    
    	public EWMA sliding(double count, Time time) {
    		return this.sliding((long) (time.getTime() * count));
    	}
    
    	public EWMA sliding(long window) {
    		this.sliding = true;
    		this.window = window;
    		return this;
    	}
    
    	public EWMA withAlpha(double alpha) {
    		if (!(alpha > 0.0D && alpha <= 1.0D)) {
    			throw new IllegalArgumentException("Alpha must be between 0.0 and 1.0");
    		}
    		this.alpha = alpha;
    		return this;
    	}
    
    	public EWMA withAlphaWindow(long alphaWindow) {
    		this.alpha = -1;
    		this.alphaWindow = alphaWindow;
    		return this;
    	}
    
    	public EWMA withAlphaWindow(double count, Time time) {
    		return this.withAlphaWindow((long) (time.getTime() * count));
    	}
    	
    	//没有参数的话，当前时间来计算平均值
    	public void mark() {
    		mark(System.currentTimeMillis());
    	}
    
    	//用来更新移动平均值，没有参数的话，使用当前时间来计算平均值
    	public synchronized void mark(long time) {
    		if (this.sliding) {
    			if (time - this.last > this.window) {
    				this.last = 0;
    			}
    		}
    		if (this.last == 0) {
    			this.average = 0;
    			this.last = time;
    		}
    		long diff = time - this.last;
    		double alpha = this.alpha != -1.0 ? this.alpha : Math.exp(-1.0 * ((double) diff / this.alphaWindow));
    		this.average = (1.0 - alpha) * diff + alpha * this.average;
    		this.last = time;
    	}
    
    	//返回mark()方法多次调用的平均间隔时间，单位是微秒
    	public double getAverage() {
    		return this.average;
    	}
    	
    	//按照特定的时间单位来返回平均值,单位详见Time枚举
    	public double getAverageIn(Time time) {
    		return this.average == 0.0 ? this.average : this.average / time.getTime();
    	}
    	
    	//返回特定时间度量内调用mark()的频率
    	public double getAverageRatePer(Time time) {
    		return this.average == 0.0 ? this.average : time.getTime() / this.average;
    	}
    }
    

按照如下方式调用：

    
    
    //建立1分钟滑动窗口EWMA实例
    EWMA ewma = new EWMA().sliding(1.0, EWMA.Time.MINUTES).withAlpha(EWMA.ONE_MINUTE_ALPHA);    

**以下内容为转载：**

**  
**

# Exponentially Weighted Moving Average(EWMA)指数加权移动平均是一种常用的序列数据处理方式，如下：  
在时间 t, 根据实际的观测值（或量测值）我们可以求取 EWMA（t）如下：

  

# EWMA(t ) = λY(t)+ ( 1-λ) EWMA(t-1) for t = 1, 2, ..., n.

#  
* EWMA（t）：t时刻的估计值   
* Y（t）： t 时间之量测值﹐  
* n is the number of observations to be monitored including EWMA0   
* λ ( 0 < λ< 1 ) ﹐表EWMA对于历史量测值之权重系数﹐其值越接近1，表对过去量测值的权重较低  

从另一个角度看， λ 决定了EWM A估计器跟踪实际数据突然发生变化的能力，即时效性， 显然随着λ 增大， 估计器的时效性就越强，反之，越弱;另一方面，由于
λ 的存在，EWMA还表现出一定的吸收瞬时突发的能力，这种能力称为平稳性。显然随着 λ 减小， 估计器的平稳性增强，反之降低。

应用领域：  
1\. 金融和管理领域处理统计数据处理的一个常用工具  
2\. 在通信领域中，EWMA主要用于对网络的状态参数进行估计和平滑， 例如在TCP 拥塞控制中EWMA被 用来计算分组的往返时延( RTT )
，在拥塞控制中的主动队列管理(AQM）技术中很多使用EWMA平滑估计拥塞指示参数( 如平均队长) 等参数  
  
深入观察：  
1\. 从概率角度看，EWMA是一种理想的最大似然估计技术，它采用一个权重因子 λ 对数据进行估计，当前估计值由前一次估计值和当前的抽样值共同决定  
  
2\. 从信号处理角度看，EWMA可以看成是一个低通滤波器，通过控制 λ 值，剔除短期波动、保留长期发展趋势提供了信号的平滑形式

#  移动平均

移动平均，简称均线，是技术分析其中一种分析时间序列数据的工具。最常见的是利用股价、回报或交易量等变量计算出移动平均。

移动平均可抚平短期波动，将长线趋势或周期显现出来。数学上，移动平均可视为一种卷积。

##  简单移动平均

简单移动平均（Simple moving average, SMA）是之前 _n_
个数值的未作加权算术平均。例如，收市价的10日简单移动平均指之前10日收市价的平均数。设收市价为 _p_ 1至 _p_ _n_ ，则方程式为：

     ![SMA = { p_1 + p_2 + \\cdots + p_n \\over n }](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOIAAAAoCAMAAADUvdY3AAAAM1BMVEX////o6Oimpqa7u7s6OjpsbGxKSkp+fn7R0dFaWlogICALCwuSkpIAAAAUFBQEBAQsLCzoUkGVAAADh0lEQVRoBe1ZbdurIAhGLZXK6v//2gP4Mu1pm3t2rnO2XePDTLolEARqAP+KXPeD+pEi8kF4txqPA6fuJf1IEfkgvFuNx4H9mvQj/4OJxiJotOZsA1rF+5Fnshpev+Bm2S8nFiarQc3+ZH2rST/yRFTL6hfcrvvVzCwwj7Ry4p8jNZr0I49ifs77Bf9c+zDHgw/swBkBPJZwNZpplV8dhVZIj2hVetQJEvxm5W4eCwPgBF4JTjL/9uBmkqiCA+fWZA1AtK0xESAj1QAwrkmPM2Q2LY+ViWfwIvhvm5blDaQwLOLKqZgYbzbxBJCROtDt0GAPyCz72niAZ8HX4M/yZ67Du0TWHRMLkuI5hnd59kHnwr9ycYBnwWrZtRvpyCRSvI35RGTmcfT3AKQrmahXwd02sUaCjactP++gc2ZfG1t4ETzCRPZxjDCZYdTWebHY2WmPXOJPO1YhJNky3zsd3YwO97gTt02skY6ju6JW5+rG+WULL4IVBAWGcwORmVgpPS8yU2u2HIYQWcIHDBevR86PXzoHJtfE2yZWSIPg8yKR2Or84yFHRgu/CNZ0Y4zxkSt1KtjLGFK6d2MxlsR6G9p4Oj6K5nIOEv9oYtstX5BUImFpTGyRJ49pWS38IhjJI7NZ2H0ubUMKF1Qpv3mK2UrYoLZ6Wt0pl1XacLjtN5x+QfotEBURz15cBMNEnqJKxRIxxWvaDYQQmxOEtVJS0/G9Y6LeA7VvPdSP7JFWYWrBkhJiXnDBVnGiYiai4DG+LleUg6atEvZel0MIa7FyMSAplUx1VfyM5B5bzd/LQkqpuIYteZJiEzkgKWyHS2AqzjRIWTgR1pSZLz76OWcbyrTkLT6m3E0nGhbqB4c6cPOddxhThRDXUYdDqYbbRhqqo6iRO97xnomcG1+PQCVXYfQiHUUwQTsKyaoqxoKouT2LVMfp2cthxr3EuCQT07uPzILj3L+Xozimc3q/vXkJk45KpKqYOh0QX87SpW75KJrctL6pibu3izLc7BDhJDWSG2kcworsPW+3TQLUDWETjkDf6IfOnh5dVfvfSPevqt8d+O7Adwee2gH+L4BSPJaG+ClpL7nYQrBUpcjQTyVqIaXFwNxwfJ6hhl4DOEb5E+HHkrz0qPyR7CPNFP/Jfx4faR4bJV9v6dPYy7+l/doD8ShSnH7uYUT5K25aPrgwqljz+77IdsTKH6zYHXJ5sq9CAAAAAElFTkSuQmCC)

当计算连续的数值，一个新的数值加入，同时一个旧数值剔出，所以无需每次都重新逐个数值加起来：

     ![SMA_{t1} = SMA_{t0} - {p_1 \\over n} + {p_{n+1} \\over n}](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAAAkBAMAAAB/IULCAAAAMFBMVEX///8EBAS2trYwMDAWFhaKiooMDAx0dHQiIiLMzMxiYmKenp5AQEBQUFDm5uYAAACYM7aKAAAAAXRSTlMAQObYZgAAA2BJREFUWAntV0FIFFEY/nZ1dhx33RVKok576xK0pBSC0EIbiHXYg2B1UC8dhLCBqEMYztUOJgZBRbQQhETB3iIh3ECKStEgKIJgIoQoSrFSzHL735tdnZk3b3J3slM/+P73f//3/fM7b957LLBFNj7c9cqjtAT2YAaHcu1maEQsI4FFYnAknGxCbU6oI4EF3t8A4toaQjm0umqVYI5G2egmuPiBQrUXN7MndrprcNgCY+REglsQIK4pYBAQWrBgXpe1IBICPNItDWXR4fEEBsfHdt8l+pa3cFNXDY8WGKxGcol/0cK5rjf0GGEhGBx/hyt437y/uc0sET5PP/8InFkiBQaP8r1cl2SBh22e28bVQgscPoZ7lN1YCG0I6klAu0RofMbkyp48d8JQAZdKkgktcPgZ+nR7CxH6v9cAtYe8+th66gwxvGzz3PgK04//zJbKmJa34CEcyFstWIROSqaA+nlCH5ziTHV+1lK4x81zO79SOZsZ1twO84Xg8G0as9RCQge6v3NoNFHgXhgq4TrFhjN0Rnv38XguMgslSitClo8Y3AtDJVynWFLQIjUUt7F31l2XwmhDI8PCqEszb1ksw6ydB3/iljWiN0TIhsw9WqUoF0tDr00xXEMNb8XGKU8r4ZY13BuOSAwOEZSrb4ya7HsABqYmF4Dr3teYhHvjQpKU2lVmJs0SxZJRJWYGHzfgcrpYXIBCuTE6EXRlYQ4TIxRpJlT6Jp6I15gPtxe9JL3czCxHM4e1ZDLbMxnDgdmCazR/Cygj4RUdL1iC7nFlEegrHSy2b0HOjaZxxFZUnBoitI4M0Kyf9iTiP5Jgb5nt0PAqHu7KC2ebnHvfwMX1kl4TwwssYS15fMjzo+oXsEygNkt/y1BS4vEq59YHaaEwMPWUOjjdCiM++a0A7WAT8HKpENPFFuRcNUgLshcUSZrCQsi5n9I4LMty3PDNeicTYfFb8GbSDgzn+/mOkBH4LSRPSjI1Z233nIRThom7h58LZeC/L78B5ZZyfrgcuLxfzkUNEqqhVkxLCvjlJJJq4OOJLNokQr+cRFINbE4AOyRCv5xEUhX8GvS7UmJ+OYmkGrgDDWlTIvTLSSTVwIuI6DmJ0C8nkVQBRxeQ+EIXjZf55bz4VWJqCrE7Eq0j9xvHaygpHKlF0wAAAABJRU5ErkJggg==)

在技术分析中，有几个 _n_ 的数值较为普遍，如10日、40日、200日，视乎分析时期长短而定。投资者冀从移动平均线的图表中分辨出支持位或阻力位。

##  加权移动平均

加权移动平均（Weighted moving average, WMA）指计算平均时个别数据乘以不同数值，在技术分析中， _n_
日WMA的最近期一个数值乘以 _n_ 、次近的乘以 _n-1_ ，如此类推，一直到0：

     ![WMA_{M} = { n p_{M} + \(n-1\) p_{M-1} + \\cdots + 2 p_{M-n+2} + p_{M-n+1} \\over n + \(n-1\) + \\cdots + 2 + 1}](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfEAAAAwBAMAAADz317rAAAAMFBMVEX///90dHQiIiJAQECKiopiYmLMzMy2trbm5uYwMDAWFhaenp4MDAwEBARQUFAAAAAH1OWKAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAOxAAADsQBlSsOGwAAB6tJREFUaAXtWV2IVFUc/83u3PncnRmTKEHsEOFDDzUqFpnkGH1ID3ojjCSykSCNIAeiNz+urT4Ywo5Z5lbYIoi0Ik4PCgnhaoRIYEIi2kuX0DBBWfE7bbf/+br3ztx7dqd1zWno/3A+fv+P8//dc8+999wD/C8TdwVeNYSKVQyKdoHjpSgmPQRui1I0i62Z6TZreq/s3okaOHmY0EhNlHUElrTxaATcUtBnEdmktu8gNF2LUDUJdQJrC03a/ttmTA3YHznwx4Rmq5EqBXYYlEzg3S7yo7p73qY4nsGEN5iMGCtGRubMMRSpUqApYyb0mSLysqXMjZUpjtGhacXz1flTHHxTnX+m3oXJbkcJkCayr0rBfDeyU+LTyCBKTBkzbbzSHsVbGwEqTjhB32ScrcLPlbQLe0e5u1wXgclepgJIkzqtYL4ZVmY6TtYpvM6YzC84o3h7YTTzcIK+yfha2RVX0OEmKifQVaiLwGSv24E0qVNCML+I5d0lHKrX6N5YzJPXR/PWUfScRyTom4yzlR0CpZ+4gbyNN2lRL/pdBmKyylMlTYC3uawQuGD+CrDSwVVYl4H4cFk6TJeVnqteCpkiPXiDCxMlkKlFeUslqZKL1UtFXcFwgtI0yys9poSaLXOMpx8bxMoaehgS57njnIGBXwYGGLXyDiBNkOjj8imBkHNOzKcicQupmcB7/QLHQnHzdw4M7BkY2EHQJpeYH1ONQFx8QljImzAudJE2YLUD+HEaEhRmvKDXoxrTg5ptZGwQ2XQRbwAvHkfsonJksuarX5ooXFZizmcDW2AdR3w1MM1Ver3sx7jbrRIqEd4yCDFfizzNPImKE05QmnLmpkeNtDCW+QoOWfyGp/Vqn8KC3cqSybqrQvMuTOoiCOY0beLxYHU78Y9knn4WYzCfD7hh7w1b73dpHGKeRG9ZjKjihBJMLVm2lAzugPlB4No6rLStKjHflagNifG89ZguANJE4bL6nFdHkLiKJaAnfOXdvFY3N+fJnYuX2mHv0g/iI4GYA8/IiIp5KMF4l83HvAPmk4GzNqbum0TrsTQjlu2XA+onEf+SkSYKF9UfI9sdYBCxH1+mK7O+s1A4gNisWbNmNDvn3SMjI6WgNyaTeyE1lBxMPdV3tK8I/QmlmAcTlCP1YhV6+r7s2yLHvHDbze497SR/2gXcd5tn+dBRypGWS4WXRiF3ej47SxfkXN4iYaJEalDWEWXc5Y8HkgXWGUc/Hrw1pzIO+TEfCXvHmRifR90HR1iqOOEEnwUf05vz3A16V9jAGgITj1ORmlemkl5WNVGZClrk9AzHgRp/2QipqvppVYerjrL6BnCzu6EfDx7zdNhBIDoudboKHAl6d9qZDwgq0jp/bVmFa6HihBOcjV12gLl1jd6cLq1Y8oktKlMxl1ok8wqyji4T5EYXqbAxMe9cg8WHDX2/+z5d5DJ1ey6lqm8NO1Kx7+aoA0kjVYa90+Xc66QsUuSRkaBtRIJbcbYmmYsx49fBv0eShMHqpXL/9yJAjF8Os7x0s2JSZm2Tpor43qg9rMm+ETd7u42mMCaY06bZW0h8V4XF+1a+QGvwilAtzxe1yT+tXzA4xByD4t7AySuwuhhEtuu7XMSztPBJagS2tyQuYX+mHzTZNN0dVSzPHefNJDr6ea2Fvk5JmO62Q50aRqFjMCao2J10CTJV3k4gLa5AO1A0cbgcc9JD64XWto5nHb7W6Vtk1pwhWviXA3sqFSBPnxRtIMTu9DrkhmxOK1WI0yU4WKZmgjZjtN6Deypu0V5yuADrVoVzipeT1wq4wJtZ6tHrzt9TteE6x54aYsOcLb3ZUlcr+Jo3S0T+FiHBPRXH20oepqnlH2TARmAYqUvUShbphqdG3Z5K2ExIYZUNYR4w4HcHfoKmVyzz9K/bUE3N/bNI3+/0NXP+r6LaU034uM9FRUzR1U47UZowFj5p6gkb3RFSt6e6o0hB50Q12NPtVYzus0iNtvDq8EmTOLzy9BPQCO6KJiCcCpGuRMTaeJ4R+kWEJgzRRrP+pEkeXoUNx43U7anGHcVz7FCtjIcEG2lGvW8VwttRwgTonzTpkPIHZ5RHS2A6zcmR2Qjm+hcVizTRfz/8kyYdshWZx5fEJ6lzc53mI/Q28VHNUTDXvzlGZ04u/GcKiQ7Zisxj3U9iu8jSS5P+ewVQqaPnOqMW/33JhYkyXHj4BUcoW5n5/t4SHpMUdJqn6PeHj0qdYp5zZZdptKHWOJ00CdEhW3HO+R/oE/VpDlFXo/75k5hzqyhNmaxGPWniJi3N/Dd+BEe/v7zjI/CuQgPnTz5z/6Rqk0u7pmNkzhuNJ03BkC055zuR66e0SfQEnaS2jwoVFYJ5p3xwjbXOLX7SxEWHbEnm1+lfseSj0zxCKfuoYECFfMKVZJfJKlQqfD79ehY6HbIVmdOBcn5FoS7NzeKYWaNCRUW6n4ouOZVjzLk4aRJ+HnNxeCWglinozCe3WGaj06QvmQCqMs19dfMcMVc9purGSuLipEmodEh5eNVo3TJ9neYmc0YLlYoZTBpxHdJg3ipwWiXSWTNmNF1pqgaLRlyHNJi3Gpxipoz4H5G2ln0mdv+xKTTRMOPxskH3oAG/G/Dffm+8tBpOj/0AAAAASUVORK5CYII=)

![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAACHCAYAAAC/I3MxAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAAC0AAAAhwDgS+LmAAAJvElEQVR42u3dTWhcVR/H8e+Zl2ReM0nmMbRNO7UPQaGk0IWCBLW4aBVciG6q8ICCYlMQxS5ciFsRF3bVheBGN7ozbrqyILSKi0cRKcVFUkijnaaTmknm7c5kZu55FrfTmcmrSfukM5PfB0rNPXE6859fTs89/d87xlprEekRgY0GFhcXWVpawhijKknHstYyMjJCLBbbPNA3b94kkUgQDodVNelIxhj+/vtvMpnM1oH2+/0kk0mi0agqJx09QxcKhXtf+1QS6SUKtCjQIgq0iAItsj0BAMdxKBaLxGIxyuUylUqFer2O4zhEIhHtRUtHstZSKpVo/bfBAMCtW7e4evUqqVSKhYUF8vk8qVSKdDpNIpEgGAyqetJxyuUy6XSaZDJ575ix1tparYbjOLiuizGGQCDA7Owshw8f1j60dLSFhQUKhQJHjhxpztCBQIB4PK7qiE4KRRRoEQVaRIEWBVpEgRZRoEUUaBEFWvaKwKajxkC1CrVa+/H+fvDpZ0G6MdAXLsC334Lf3wzzp5/C8eOqnnRZoAGmp+HHH5tfh8OwvKzKidbQIrsyQzca/OPxOEtLSwC4rus1+FuL2vulE23a4P/7779z4MABMpkM4XCYwcFBr8G/VkPt/dKJ1mvwDwCkUimGhoYol8uMjY0RCoW4ceMGh48c0dUq0rHC4TBjY2NtN5q51+A/NDS0s0ddb1svGIRAQBWXh7OGvi+rt/WshXPn4KWXVF3pwkCv3tYDePVVVVYeCm3biQItokCLKNAiu31SuJVazdvaa6VtPenaQF+8COfPe517oG096fJAp9Nw+XL7MW3ridbQIgq0KNAiCrRI55wUOo6D4zhEo1Gy2SzWWt21X7o30PPz88zMzDA6Ospvv/2G67o88cQTu/MMLl+Gb75pbuvV6/Dcc9oJkZ0H+tChQwwNDVGtVnn++ecJhUL8+eefu/MMrl2Dzz9vP+b3K9Cy80AHAgEGBwfbBlqv0xLRSaGIAi2iQIso0NLDJ4UdLZ32OvYaV5a7Lhw7Bs8+q3dPujDQ09Pw3nvgOM1jZ88q0KIlhyjQIgq0iAItokCLtOv+S6/X29Y7eBBefFFXlivQXWi9bb0TJ+DUKQV6rwa6Wq1Sq9Xw+/3kcjn6+/tVGeneQN+6dYvZ2Vn6+/v5/vvvGR8f57HHHlN1pDsDfeDAAQYGBqhUKkxOTu5ug7/Igw60GvylV2jbTnpvhu5phQJMTUE+712Iay3E4/DyyxCLKQEKdJdZXISPPoK5ueaxVMrb2lOgteQQUaBFFGgRBVoUaJHeoe4dbesp0D1F23pacogo0CIKtMgO1tCtDf75fJ5IJAKA67qqkHS0er2+NtC3b9/m+vXrxONxLl26xJNPPkksFmNmZobxapWg6iYdqFQqMTMzw8jISHug9+3bRzweZ2VlhTfffJO+vj7m5uZIPfooweAej7PrwtWrkM02PzbD5/Pur7eqh1x2VyQSYWxsDKfletJ7Df6JRKLtm40x+HxaYlOpwAcfwA8/eBfdWguRCHz3HTzzjOrzkPn9/rVLDvkHoa5WvV/eT7s3c4t2OUQUaBEFWhRokS6nk8L7ZS1kMt6JY4MxMDICugOVAt11KhV491346SfvE3ABQiH46it46inVR4Huwhn69m24ebN5LBxun7FFa2gRBVoUaJVAFGgRnRTuYYuLzYtwG4aHdc3i/yvQtVqNarWKz+fDcRwCgQDWWjX4PyiffQZfftn8iAzXhU8+gf/8R7W5T+s2+M/PzzMzM0MsFuPKlSvs27ePsbExNfg/KNms9+FGrfJ51eU+bdrgH4vFWFlZ4fXXXycYDKrBXzrepg3+q+/grwZ/6QarG/yVWOkpCrT0FG3bdYJCwdvaa2jcX294WLVRoLvQ1BR8+KF3NTl4H/P8xhvw8ceqjQLdpTP0X3+1H8tmVRetoUWBFlGgRRRoEZ0UCt6uR+OuTffeuQCoLUGB7koXL8L5883203odXnkF3n9ftVGgu1A6DZcvtx87dkx10Rpa9sQM3Wjwb9zBPxQKAbqDv3S+dRv85+bm+OOPP0gkEly6dImJiQmGh4fV4C8dbcMG//379xMKhajVarz22msMDQ1x584dDh0+rAZ/6VgbNviHw2HC4XDbN9+5c0cN/tLxdAf/XjQ9DRcuNPeqXRcefxzeeWfP7VUr0L0gnYYvvoCWv3o5cQImJ/dcoLWmEAVaRIEWUaBFFGjZw7TLsRes3tazFpJJOHeu564sV6D3gvW29VIpePvtngu0lhyiQIso0CIKtEg7ay3W2s1PCjds8K/Xca1lzf/eaPy31vu10fjq//6n443HNWbn4/V68/e7DDRfS+P4qgZxWsdbH2ej17DV+E5r9KBqsNHjtz73LrmQwxhDNpulXC6zf//+uy9hiwb/qakpjh8/zsTEBNPT0wTHx+HMGbK5HAPxOP7+flhZgWvXvGKMj2MmJ8kXiwQCAcKhEDaZ9MYBkknM2bM45TK1Wo14LLb5eDSKHR/3xo3x/qy33qJWLlMoFBgcGID1xh2HQrHIUCKBHR31tqqCQe9O+adPY3M5lpaXGUwkMAMDMD8PpRLkcnD6NOTzLC0vE4tGCQwPe+PForfVdfIkHD3qjcdiBEKhZg1WVuDkSczRo80axGLYVTXizBmM348xBuu626tBMuk1GjUuknXd9WvQqFEiAY0a9PXdG6dWa4Y9Hm++xpYfOGMMxpiOvFrJGMPi4iLlcpnl5WXq9TqVSoXR0dHm91hrreM4ZLNZarUahUKBRCLB6Oiol36fD2MM//31Vx555BEeTaWwrtssgs8HxlAul/H7/d4FAa3jxoDPR7VapV6ve7P/VuOts8bd8Xq9TrlSIRqJrBk3Ph+FYpFffvmFiYkJ7zm0/uT6/VhrKZZKRCMRjDFrxgGKpRKh/n6vx7Z1/O5rbBvfTg3u1rBQLHI7kyExMMC/hoe9Om6jBmtm4G3UiPV621fNbtZaFhYWcByHVCrl1amT1sc+H7Ozs1y/fp3x8XFGRkaw1rb1RG/Y4O+9z81vXMxkWMxk+HcqtW5xoneXKffe4NWPFQw2Wxm3Gjem+bnZLc+lLxLZcDwUDLIwP08xlyOZTK4ZxxgS0eiaELcaaDz+PxnfQQ3+unGDr7/+mqeffpoXXnhh7WvcogarX892a7TOG9z25crKCj///DOO43Dw4EH6+vo6bpbO5XJcuXIF13U5derU2rLYzVbYLRzHwXVdoq2h6DD5fJ5wOEwg0Jn/XlQqlcjn8wwMDKw7gTxs9XqdpaUlfD4fg4ODHTdDAxSLRSqVCqFQiEjrBLPdQIto205kl/0PbilKwByRSVoAAABKelRYdHNvZnR3YXJlAAB42vPMTUxP9U1Mz0zOVjDTM9YzVzCw1Dcw0TewUAi0UMgoKSmw0tcvLy/Xy8xNTE/NTUzPTM7Wyy9KBwDYmhGYfnuzVgAAACF6VFh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAAeNozBAAAMgAyDBLihAAAACF6VFh0VGh1bWI6OkltYWdlOjpoZWlnaHQAAHjaszQ3BQABUQCm0tJvrwAAACF6VFh0VGh1bWI6OkltYWdlOjpXaWR0aAAAeNozNDYwAAAB8QDFDviiKQAAACJ6VFh0VGh1bWI6Ok1pbWV0eXBlAAB42svMTUxP1S/ISwcAEXsDeF85R+IAAAAgelRYdFRodW1iOjpNVGltZQAAeNozNDQxMDQ2NjQ0AAAKswHwGBiAdAAAAB56VFh0VGh1bWI6OlNpemUAAHjaM9ezMDQxMc1OAgAJwQI5lLg8IAAAAGB6VFh0VGh1bWI6OlVSSQAAeNoFwVEKgCAQBcAb9YiIIOgK/fYpotu6pK6k6fWbuSXSDgApN3wlqvULhjxSyIuF05Q0Vzi4DRcJh0beJO2S2dhOr2Uyg4RDq+Y85nUqmX8LZx7fnShnzwAAAABJRU5ErkJggg==)

WMA，N=15

由于 _WMA_ _M_ \+ 1与 _WMA_ _M_ 的分子相差![n p_{M+1} - p_{M} - \\cdots -
p_{M-n+1}](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAO8AAAAOCAMAAADwtrusAAAAM1BMVEX///+7u7tKSkpaWlro6OgAAAB+fn6SkpIsLCympqYgICALCwsUFBRsbGzR0dE6OjoEBARrQuOZAAACA0lEQVRIDc1W2aKEIAgl18yy/v9rL6A1tgxt83B5KELggIAG0CgNjdbaADAftGqQfUzk760PGfwdggKrHABGiQ/oVAATkwworv7ChwjwLkrfgKVUdYvl9RAH5Dt6PKRf+JCh3yE0ECy1codJJ0iWSht5A+LIuN5iyWtKeul3EyrKOic+DiwgTarY7hg40D9BqENd8yVw3aHYWE7CReaxvyGNJIc09PRCok1Acq5f8k849wvlZVQQfMCRhZTvkb6MMIfxeW8Cp8pmFwAj1dRzkV2yZOJ12fw5X2yFJV9S2JHkY6f8SHAToeQ7B249gvYaaGgjVbblDDVM2OfedLRMtDHLwoOn5ONA/YHoFMH4NrhhDnh+50Ll8cV2RnGymG/oaZ7xE+uYAvB0Z0EJTa6v6KN4ePc6Rxj4OOL+RKh1vprns/N0AbuonW453eRADVjzQMs8RR1NKh1ncr7ffLzLsbb+hjCfJA4MVanBc+QgcMPpAc8kDkZT7l6XYFDOwDK+m22qA1jxoo+V5tOPCwgBz9rh/ODhwchhYBOEiJuwjO/VfEUfT1Nc2V1A0Bh+bHwu5bqfK1f59iVBUhN2RYs/hnacf7aKmdNTu3iojAsr+9jr35dcQejwdu1DuUe+BR7a7a/FKhghyY/eiY+P4mPuEgIXNle3Oq/uYc51vmf1D7TrwP8AfpoTdV+MITEAAAAASUVORK5CYII=)，假设![p_{M}
+ p_{M-1} + \\cdots +
p_{M-n+1}](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOgAAAAUCAAAAACiki7GAAAACXBIWXMAAAB4AAAAeACd9VpgAAAACXZwQWcAAADoAAAAFADBa/OzAAABm0lEQVRYw+2YbbUCIRCGpwIVqEAFKliBClPBClOBCluBClSgAndgdRFdEFe8f5RzRNzjOw8vDB8K8UsK/IzeFfU+S334+3OMwv9nD/yMHoVboSMJ6YepI4LJRo8h74KZAMZGdxqmjggmGz2GrIM5G+HM72KUOiSYa/Qgsg7mowdOiZDaQmJ+TiCoSb0VtBX+1DcqdbNxFLlXLt1Yg5HkakmVNxnmsTA1lHId0CLYU+RyIuiGiEo3GweR9TjW3VhrY7g6p4pcDmwRu9NRBG3FQ6q+t+sOIffUt0alTcO4cIVRBA4R1NKlFkFbMdnoc2RQymnAjlGfUv2MawyO5V2ALvVG0FbMNTqApKBN2B7uGSWJIHIMTxEp2mh1l1oEdwp1WVhyutEBZEgKx2i3LfBQG83pv4bzEZFCfLLgiqCjmGt0BLnobdL3Z1RumzSmjY0z/3HBVTfsIugoHoy9dakfQSbnylFoGc0n1Lpf8z2Lzx0SYFzvaLoKegotOHWmXVXHkPxZXY9WqLvBL3y1QzjTwceQ8C0/vPWX/sPwBzk1pZGBtFhGAAAAPHRFWHRDb21tZW50ACBJbWFnZSBnZW5lcmF0ZWQgYnkgR05VIEdob3N0c2NyaXB0IChkZXZpY2U9cG5tcmF3KQrMzLaFAAAAAElFTkSuQmCC)为总和M：

     总和M+1 = 总和M \+ _p_ _M_ \+ 1 − _p_ _M_ − _n_ \+ 1

     分子M+1 = _N_ _M_ \+ 1 = 分子M \+ _np_ _M_ \+ 1 − 总和M

     ![WMA_{M+1} = { N_{M+1} \\over n + \(n-1\) + \\cdots + 2 + 1}](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUoAAAAuBAMAAAC8FU3OAAAAMFBMVEX///90dHQiIiJAQECKiopiYmLMzMy2trbm5uYwMDAWFhaenp4MDAwEBARQUFAAAAAH1OWKAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAOxAAADsQBlSsOGwAABMZJREFUWAnNWFuIG1UY/maTmUwym8lIBffNQbygoBstKPalEbT2qZ2XenmwjSKyD0KDvko7S3wpFDbewKjdBqUUI2Xz0qKCZOmL+NIWFOn6FPogtbCSUm1dtuz6nzPnZLKTGZrs5LIH5vznfP853//lnLn8J8A4ijpbgz67Mo5QcWK8dwdIu3EYxjH3lVuAOo5AsWK0TgPzsRjGMdlpWtg3jkBxYqQa0zU4cRjGMVdx1ds7X6UKfUO3xrEecWLQ4/2kUQKO5IGDfwIGI3s0DuMo5r4NNF8i4rIN7QbZBF0Hfh9FpDicM0D2ESJ4+QqUv8kyldhxKunxNv8lYc5V7P9ux6qk21GjbyScs1qjvR2Vq3dbxtKKm7p8FlBml4lCufs51cBjvB5GdWrNBSqAXnhaMWooV7+qfjLYjpv/AUdpR44xOW+xH1q+zZpIrnMzzCrpHt5vtohx4PuSXrdYoJkkFLifCdy1zJpI3ORmmJWJHxuZBuNmrIM8PUm6X+g1lmKT8Rqtn/FunjUxs8HNECt9r3VC23udGJnK82tW/9zGOrSfKiKtcmj9kgsFNlsrUbI1qmIOSpz6B+q07SUseuESUGi6jMPAxUGpRjheu4kLmRr46ifdx2kNV3m0Ep4IjZqos/J1qG90oL4Ba2pZ4QFU7IGCb3m7iFOjCzo48y3FTbc/FCrfwPfgz7aye/cSYTI9YM/WVJEPmky1Mg+z7fDY8zioFwz+upwDHnT99CBPT9VqMSBwc2wFuGhBXS9xAftw/E2YV1i7QSkWgTI9yBOULTLHZO5LnGtAEa9GBwuvIlMhLUm6mqRUpge+SqZ0AuUh0sQ3GXoFuRYWLBLxPl1HqSHTg4mrfJbejQ5fHUoK0ihf/oa+55sFmEu/ivRAf776SzUvdvwe66gWIwY8EIEPAe6kB32v5YthUXWa3u8/G8eeaQUoyoF+T7eTHvSrUqv0cBDwgU1f3FBPz+iUE/yapO71DfTTA1JpHPmoh7MHSJd6IODEDZvQL0M8vRDlIcetblhf7P871+qeGNKeElgmxEe7bRP8g3CxdlixOZhtIeetuqTEx2Gjt4VJyl2hs7nKnHDZoUMAD8/kkfNakjKuyuTryfu8wwck5cP0WvNRqYer5OkvIZ4G6fJtB2cnByqSMq5KJfscFjljh5IdnnzU84kdT4vbzZZowHbwVZd7hqXyAuXLT3mxJOVVoAv1fEIlP/AQYks0YCWeYodNKpIy7lqiCfy2lbJNXYm+w8oc8/MdV/PeUNszC9TV2XGANVixeQ3IO2NoKq9BoxMoS0DOicSYdQWqVVn5jMX2Ve6p1/+o123CTrZI5SXRgI/jU8K6KWOv5RmYNcbpbw87F/ood1HFVSYcr2tLNGAFrhZQ4p6hreUdTFtebEn5MwXwUamDq0wXvK4t0YAV+AtAi3skZdy1NNrIzVlbKOnz1IVyF1XpGlXT3hJ17j/plNbmjdSZQ4e3/nB8IUdszyp5mIe8qfKH01u9CxW05um166RS9Gxhg8bDs5T/F7hLUv61uehyIH4lKU9GUx0QLjtiSBCXlBHDtwOnxaREI3K2/Ou3EjEiiEvKiOFxYN2Omp3KR3kmgJ+PijnCpYkKGY0nixG+mQi8L/h/VGd6d9NkuKYAAAAASUVORK5CYII=)

留意分母为三角形数，方程式为
![n\(n+1\)\\over2](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAAArBAMAAADGYbi+AAAAMFBMVEX///8MDAwWFhYiIiLMzMyenp5QUFC2trZAQEAEBATm5uZ0dHQwMDBiYmKKiooAAAAzevxMAAAAAXRSTlMAQObYZgAAAXdJREFUOBG9lL1Lw0AYh3+tNR81bUbXEgdxKBQRR+nsYgdHxaCTTnVxNeDgP+DkIHUXzKbo0kWHCprJyUImF0GyFUTQN2lyH4ZwitAjkOf3vk8ud0cI8KdRaxfoV2L9XQwZVz3A6mUJqPQ5c9pvyR2ry3uMLrbJwh3LKHMkmkqTFVsbvHXNkUiybCrUX+q3A2CFUaxLVrkDzJjHuAfmGeUsywfWL0MsA6eMcpbmUmkLOAMiRjmr5lFpB5UPgK6UYDjOguPMxXayx8RqQmsAJ1QbU9yVVm8EVBmh5AeYZZSzrBCYjmCv+nhgJFkNSqUu7d+DNgToVFMSLO3pc4+suDIe5xkk92xdSXjlLaPDmfYmhiUeqi3OMumekDcFllCat96WejzccJwkff1iRJNc0P/edXDkqifQAyyqLQM49JWa6cLuK62yB7vwKxKfXgvEVMS7vaKOUNdHQijE+B+jHo9qBaiF6Kq9N8BVWnpz+Kw+CZO+3fDnXN97AnGjAZQcRQAAAABJRU5ErkJggg==)

右图显示出加权是随日子远离而递减，直至递减至零。

##  指数移动平均

![](data:image/png;base64,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)

EMA，N=15

指数移动平均（Exponential Moving Average,
EMA或EWMA）是以指数式递减加权的移动平均。各数值的加权而随时间而指数式递减，越近期的数据加权越重，但较旧的数据也给予一定的加权。右图是一例子。

加权的程度以常数α决定，α数值介乎0至1。α也可用 _N_
来代表：![\\alpha={2\\over{N+1}}](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF0AAAArBAMAAADoJJksAAAAMFBMVEX///8EBAQMDAwiIiKKiopiYmIwMDDMzMy2trYWFhaenp50dHRQUFBAQEDm5uYAAABzGks9AAAAAXRSTlMAQObYZgAAAXhJREFUSA3dkq9Pw0AUx7+FtOvYdnUk/AuoIRCozRAEpoZgECXBz6BArAFLwhKCqJtFkNVDSJEY0gRFQFRhEMzsh4CM29Lb7hrSd7Wcufd93899c/dagFgXLxFBKLbtYktpEKIGXIYEI9tGBMeTG0RdjuHUCSZjt91Mg5CPCQGotj1WNaXKXYpQ/SNVUspswqcY2d8FIlkTtX29d1BknsZkMmkSmf/bZu/3hR54k1TjCj9RC6brijrLxrD7JxS18K0O2CjzBR3+kf5efTicHTQX56mq3QX7mUKa9//ywZ+gv5ZDnK6X9Hn2duffZt4LmA0+hsaqGsNiVcvqnN/RSuQOcFZXtaz2+QxMuQF8POXwUQv4THmBWaJQc2bK7YXY0eft7lIHrj5fScxREd4E+2ahfj4fzcaKr88fA73tGf4aBGtBMJtMznweAGMzjYcYYw7PR1MdFOBjoDT/a+f5HZGQ3Q+HCeCJbspXW8Nn0crdRX4uJJmeVP8CZ2drPMpYwx4AAAAASUVORK5CYII=)，所以，N=19代表α=0.1。

设时间t的数值为Yt，而时间t的EMA则为St，计算时间t≥2是方程式为：[1]

     ![S_{t} = \\alpha \\times Y_{t-1} + \(1-\\alpha\) \\times S_{t-1}](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQQAAAAUCAMAAABcd7MXAAAAM1BMVEX////o6Oimpqa7u7s6OjpsbGxKSkp+fn7R0dFaWlogICALCwuSkpIAAAAUFBQEBAQsLCzoUkGVAAADGUlEQVRYCcVY4dbkEAyl2mJabd//aRcRJdLSPWfPzo+PCW5urgjzCRE/cvKNhP5//qvVVwJ6iHgvRDUv06qN/eqdm2/s73fpOOJ73yF3WCuE4dB529xXoRui+gWQadt5F1+t1iUgefTJUXB5gUXNPzr0/F3Nz2MJrhei3ED01PTwuuPGASc5sEEC9x1R53AuhbH7+kEEccVViNG2/RB1cteVswXnLZeLGbCM5AEJ1RwIackI2tl2T/nDDnpjP0S7wVq6KU+IlR13ey9Ov3YByg4VOBLquiL6JxEEyB7Xcoz6IWq3DhchuaxrJRbUE6Gr43/6jRks8kSEI9elngg1k99NimM0EOLs3DGmgzr84Vv9phOftQZidiYXedzZh5aI4HL6dEQgTK4iEaMKDaNuiMoe7iTZYMtPikCeoQApJ+Vyx+TdEY9+xnyrdM/kerUIk8tz3kWgTKrZDCPBhZh9YcdsoS5KogSOpjZdW26qap7eNloCXSpUFM8UhUJN4XPEv1jcWREkTKkmUiaVCIJh5CPgQwRKKQEjjC2yigjgv8pY8IRwe5EI/mhsZ05iWGTwpUDwtA7HKX0gqAERTJuTDRMqQs3oJUSgJFPcNmTC7+ZYek4xTw4SBfcZognJt9UqaCzWBR5Mbg1JEmjYTKhm4DzCpBKBMnoKEbACJbzb/B7t1tlcnRnXKp1Y3Oc4JdYDVV0OYobbnsHriCAGC2PDpCyMDaP3EAOldIUu4YKe6jLV6BDflHLx5THXjujRF8v4LMUFZ3p3tXg9EUavSMqkuCJbRu8hBkqXWXep4PCSI4wx5VZd+24Xaef7QsWnibqrib3cYaNKEQ/PVbwveiLgY8na7VwBJHsvO5QJnj8/p2XUhNhQ8qd5WjTsbEOx9Bv7Kh5+RW+DZh4YWrzGQnLvfjY/QGZzxeT92fweIqXkhBm93zOZt06LRz0Wry4Agh9Qb6Dc2PiqPqVDVXcf5+6TjeJpe5YVjMMynZ9C3BqhxhcNUBpMc5YJZ/wLvNH3dukOy0Bpe+r/BaUnqH9oH/zlVTAY+/dasYB2/wB6YRa7uuJXXAAAAABJRU5ErkJggg==)

设p=昨日(t0)价格，今日(t1)EMA的方程式为：

     ![EMA_{t1} = EMA_{t0} + \\alpha \\times \(p - EMA_{t0}\)](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUYAAAAUCAMAAADGOGSKAAAAM1BMVEX///9+fn5KSkogICAsLCxaWlrR0dEAAABsbGy7u7sEBAQ6OjoLCwumpqbo6OgUFBSSkpLu9X8+AAAD2ElEQVRYCc1Z2barIAwFFBAV9P+/9mYgCO1prcWudX2oTCabTSatUpculy4tv7D4F5J1uADgs6XPMLVQos0wWrjMMJAs7IvQAFNROkqt09H+oPU7yR8oV7v+ZBWs6YO5CI/OMzthZr1p8wJg8bs04W69rXofNH8n+Vx5KrZwurYLZliyfO2z9Rse2CcZ0FMhFKac8XnFKbB7JX9qVg2spfKiZuK500fAmBUtwlW2NZs8zzgw90rpkua6W828at4k+aJWQuO2V6Cex/tg7tnsV4SJxGVarcpebtVWeXGcVI6ez0BejNwk+ZRGiU/7AddccJxOmJ6io6OIdySPBHQRnD24bJbEEpA+5Oj5grXH4bskP9KYJmMaRw8D7URvEu6V2jioB2NVtOZtzu6FORAW7acYrQRKpfagKFUDnVrcHQiawFZN1X/k7I/+XZIfaAwbQoGTPqgkHmsWVQ7vRg0mqrS6P+DJUC/MkYxu8THG8YAEgxaBw8hybCChk1i2X9Ff7lgvlauMqhskk7ADBXbTjMEn+ATnXC6gsGEx8oGHnYu0oVpanpFGL0xiS1Fk0MdxAY2YoCOAXYlnUrfsQDYoxE7Cxc6+9RRc953kNMVJnDOA0hg3+iXVIDWfrT9WoS69rvIQdjONTjmPYHkjieU00nCSjOYqAQdMopEjA2JkzvCMEQTcqtAYLSqfmEYLK7VG13p7fSkZ4lwS++MdNzQmz47j98bC9DrXx5ppRHoBY37GFY+BRoHeDZN9V4pEx/AgNILHRHzJqapGznuRtzAQgfxLaGp4x+ZKOXZJckAKK9nYK1uGRiTzUso35TU69VrxWGhcMOjv+ZlaTml3wyQaF8m+uWqgY/IamRoL/imbPCb1HV5mMA22Wy2ojsZ3kgkUlwoiqsDAgZDTXPN+RXExVIlaUoxa0TjGd9VPN0xKMWs+1SmropTNg7NYfpCTp9oo8rZOafxO8hmNirJumiDRlHCWs0uue4j9XPA49J9Y80uz9U83TCh4rPEbuqRZ2e7t4A2gG8Gl7QJTiNSZeSaH14ufYSTHlRMav5V8SmMY991OyS4IlC8pv4OcOxREbBV6tdribl5dN8B8Ub680ijjmb8TGmX1lTuK1GjrXNHKo41Tw2CgIBjekANnzy+DEBpDYVvk9d5bmPIyeFWqV5QzfkAjSk6YWttymXPfRZj8aYJC48UnT5e3MC98A2kkbwGysbYzV+/NVGeHJcPb01fEtcodxnOuGtuJ/l4Ds+SNy3LfetNlafUDJNnFW9wQPtvG0cOr4P1XDVPi8v1a/hOJP/gT4Xln9CfCP9bBJxY32yDJAAAAAElFTkSuQmCC)

将 _EMA_ _t_ 0分拆开来如下：

     ![EMA = { p_1 + \(1-\\alpha\) p_2 + \(1-\\alpha\)^2 p_3 + \(1-\\alpha\)^3 p_4 + \\cdots \\over 1 + \(1-\\alpha\) + \(1-\\alpha\)^2 + \(1-\\alpha\)^3 + \\cdots }](data:image/png;base64,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)

理论上这是一个无穷级数，但由于1-α少于1，各项的数值会越来越细，可以被忽略。分母方面，若有足够多项，则其数值趋向 1/α。

假设k项及以后的项被忽略，即![\(1-\\alpha\)^k + \(1-\\alpha\)^{k+1} +
\\cdots](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOMAAAAYCAMAAAA/BbqkAAAAM1BMVEX///9+fn67u7uSkpLo6OgsLCw6OjqmpqbR0dEUFBRKSkoAAAAgICBaWloLCwsEBARsbGy6RpR5AAACiklEQVRYCbWYWYKEIAxEI+KKtN7/tAOENYDiqH5MZ1hepRQD3QDPLjY9m38++1v6ubbv5cfi4/eDAn2W7H2dC+KxXgx41B3oEjldt3y6cIrZDn2x+aXGQLceAbZ/euxuP/+OWxc7Z9N47ugV+lOPfWeTnM+TjXtHNMkW1sMv7sjid+gPPfIB82LjliVYbWD48I6fF68MfU6fpbo2/Uc/g/+t1dGs8Fn26w2PMJhZQ9+TwurWhLP8Et3fyswjFXTC8efsk5R3PPbm6e8cBCRlhzDeotc9EsHYmo9XX/1veQSh3kim7s82JZWOSL5Ftx47uQ/eLloggt5XHCz+MVx55Me6hpWx6VBXHldiEUok2+mQ4CmdGIsMEMGoJ4TCbxwXHpneflclhj7p/bREItlMV2sixlN6veQTwWAsRJPw8blHvus1yQTnh5lRGZ1KNtOB4Ct0n2sIUsHQHkXFLPgUXXaw3VnEdODizLJgZs6CM+2kIh0a8Bk9StmFBcF5t9UlCYpZmC1J70j6QiQXuERFj48RsizQXIvHBnxGd8aiz4JgYs0M1S1FjxHIhZPAV0LYE0PuEUemS6eVrtJI8S0eS4Iu3fSzsSow+94KV4ZpVbDU1CM00tV7jvMdvkJPUzf/EcHCCIDW6v7TN5ofqvLgHTfVPScSyVY6EHyFnusBESyMULuBfUul/O2rORIWhwFT5zZ5cDmudlWl+6KbRCRb6RSvTxhtFxEsTgqnrWJ31MjMTspQHc9yUa8NiWQ7HWJ8jZ7rNT1HwFNzYfZpU21WOAjh9Nq4U/idnKhgETy7SlnsrTSy1knf0ivZ5c3+W2zeVW2x35Gr/aHjW3rQuYge/BpxQdbd39IbEvgDV7QULazHoc8AAAAASUVORK5CYII=)，重写后可得![\(1-\\alpha\)^k
\\times \(1 + \(1-\\alpha\) + \(1-\\alpha\)^2
\\cdots\)](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUMAAAAYCAMAAABX02+1AAAAM1BMVEX///9+fn67u7uSkpLo6OgsLCw6OjqmpqbR0dEUFBRKSkoAAAAgICBaWloLCwsEBARsbGy6RpR5AAADJklEQVRYCe1Y15LkIAzEGI8Dg+3//9oDRA6CCdxWbS0vyCBaTQ9BDCGfFbp+Nv5vNGH3/otV2IQ42Pj53cf4GD8VgT0I+R9rZJl/aobj465cxuCdh9VEXyU02SV+MbrKnwsr/ej9njae42EbCvX7qFKWjW8FSNfk4s+TaUPd3ThtPEBEutOZnHFX8tWP3u/pQxgeviGzPkM9GmeVic8WiEsfz4xAtYHC4rtPUXWBjn70fs8gpOERtCTmZ6hTY48RE/+hd/wm5uMFDcmiRy3z3LiY6+h29dtJ1z2tR6kGHr7nq6hUkK2xOXX8zYkgXtFw1qv3YoQT7FpB0JNoiKdXKLeAh2//Jqo8p8jc0FDH9zv+JQ0Jlycilfo/V3dz2cNp9hscQU9mi3h6hQqW4hGUL6JuF5clwC6aKv7ullFLQ3Yfh98qT2Uq/n4O9KntafdNCHoyW8Qz4V7g4T3GoHr8zFI6cJfYNDSku1xwh1xioOPiF5vD1SKGEmLoyWy/xGMMqpthbkgddCIJPbiG7FJ7lnLGbu1e9Jb6RRJi6PFsMc+IeIPHGNSIQfwhdShyZ2tQzBCT+fD1hp1a1JBM5+k3MimjE6rRd4hh4Is8SIFIlUc3agGUVFENve2CRNHWxBk1DeVj2xdAYRy2MJ9hGZKahpc7G+TAsjIgXo+GOZE6j27UHJTUUd/W0AwMq9U8erjJyMsaqr18BiKWNQTc93Zdi8cY1FCJxFZrqfMsp+aS5/YaL90p+iykwbWMocezxTxD1i0eY1BDBomtdOjNKU6VbLJb3iyQdercJsYz14lJcXQfgp7MFvGMojR4jEGNGMQfSgeb2wpxXoeoZ+VUvuvEzcTjAJ8kt1XANseWTyRbEPRktoinBdN1g8cY1IhB/KF08G+suC//ovqgo3Dvpm+s3F23IOjJbBHPBBvlMQY1YRB8gg7w1g+au8zeUXU/uOd9sLqn98mtdNQY1DyubYH4m71pbXNPTXsH9aP3ewYEmzzGoDoGNr77l9L1tA179LU9+9H7PX3UNo8xqJaBi//+v+UWCqv70fs9bTz3X7xtKNRjUCGQjv8PSCUd6aWWDeEAAAAASUVORK5CYII=)，相当于![{\(1-\\alpha\)^k
\\over
\\alpha}](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEcAAAAuCAMAAABNlfS/AAAAM1BMVEX///9+fn67u7uSkpLo6OgsLCw6OjqmpqbR0dEUFBRKSkoAAAAgICBaWloLCwsEBARsbGy6RpR5AAABdUlEQVRIDe2W0ZKDIAxFY4iiIMr/f+0iCUixrUr71FlezDDcY7gEI8CnA/WnhKgnP32FA97snA73+GLUkSzsVVaoTsIxT50Hg4BWQj3E5dSzCof5XJ5XIItxQgVLnB2i46NT5g4H+ijzixP0mA13tzgqbqNXSvQmG36PA3ZzaCWwEK2esuGnHPLGpDMBmEOIIZlZxx3afOhnHJyCwAQ/mNVvzmw5xZPTVnwCOOHQur0XLZGPksflzzmkiyEvkrKw2nPpXOGMrhjMIcvbsYrTqdJ/no+kUD605XK3UrYVB676jGKkTecbfd7fdPncly0f8sFtTmw792KkOnRuWY17c1Ux1K7z5AYjG2S7E2q/F2nm5RNjqSHr+V4Ua/meFhPXwoNsTAdwTS+r8KjK37E7oPQdKzWffFdLzg/G9jvjB53539IvOvDYipt3WLXiVk7dils5dStu5BxacSPn0IobOYdW3MiBuhW3cupW3MoJv19lK36N+QNqVgyVdac5SAAAAABJRU5ErkJggg==)。所以，若要包含99.9%的加权，解方程![k={
\\log \(0.001 \\times \\alpha\)  \\over \\log
\(1-\\alpha\)}](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAAvCAMAAABT9zESAAAAM1BMVEX////o6OiSkpIAAAA6OjoLCwt+fn7R0dFsbGxaWlpKSkoEBAQgICCmpqa7u7sUFBQsLCwZobjQAAAD/0lEQVRYCc2YibKrIAxAWVTEBf3/r31JWCJUUaZ27nOmbQIBjhACjRAvPIN7oZOyi0GWJTVdDtpe1qvBV605J6ssCXPZy0dF10QolktAuVPfw6LUzoissiRct3xwXBa47rLqrOIasFvR3vXwwmaOb80qS8aqqQFQ7NTxGcxZ2SWg2ci8m/BnGUNbVlmCKtsCqPzShB7vfi4BJyITmtASAKsslYDRydSV9+i4HndwWE+AZrJ2pFbO2gkWTAmxwQdWWNN62BmVo5pXpBcgo4W6GrYDhxynKew5GDNJ1Gn9CwHdBpvQYbcOlmqdjQNd08ZYA6D2vbDKEtZkgL6rjM9t8J4TDEVo+9XUnqEiYE/NRthd1LTHVV09Us4BpX5C9UH6BBQAl/HJGZs5LWXuMGdAZRkAKk1RbAXXoAXf8AW/AhRDj5s/PSEK6dX7UT7fyepcACTLkzXALLoZeQvA4INxBuc0g76iHHLoZw6dQmrvdFr5YFBan5OFUgAc/a5awetMZ+0SnM8b+JMmxTlWWQLDYkhc4p4JV79EQof4UlhX+XBRjaYNO/QwEBv7TSI2ivspDrLK0gcg+Z/jTezCFvPjBE/nkeoSeh3Nj8S4MnTrGk5YH2bAm6C9xJPEzBAZWWWpBAz7g8KCH7xHp5EjbBXy9oYwY+yMW8LuathxGk2/LMs2o8uEQC2m3TiMix6Q1YNkbT9PlsYGOxEDtUvr4XalINDabiIj71JS6YZT2U+b8U6y0oT5ow7AxuyGxCpLiFV/HHmko62djjof3uoN81ob3rnHsOUvC7nBK1rs2IS909Cp8Y6t6PISprOh+TNTF+8K5MXP2iSrdZmGsdu9O8ULa6p9R4guKroGF+Sh5UqHGRX8+MqPLjhGr2KC/0YCF5ST7MIZ9d9gMQi4IBzNig4JLLXHh83+TuoWe7xQnIPoP3vgktdNXQru53h/WopRcMRzND7HFfa3nljzN78YBRXskP+B5XQGMAqOizj8+T81ayxsj4zZOX4cbYMoaPpwhT1W3MiPkiFvZDro9iD5VnvDdajGG+L5E5IhP810nI+clV4D+mvIbzMdGcq5cgkYkiHQqulPRbr+nQ/XXnoJGO/YjYCiKdPxgJcAr5Mh2MPdDGaJjrZMx0PASjLkAWCe6PDpigcDPzXBGawkQ+4Bi0TH7Xw/BYt2AFhLhhSAcMHlx3dRJDp+AVhLhhSA5njGE2CZ6PgFYDUZAhTVTVImOurWftKbvmGJq8mQO8Ay0fGTTVJLhtwBiiLR8XKYeZAMKTIdH8tTJDpeD9RhwEoy5AOpLDgmOsTrR102Wvzb+kUyJGY6sn5fU75PhqRMx2tMeUdfJ0NSpiPv90Xtu2TI1ZX/HyLrJC76mhbiAAAAAElFTkSuQmCC)即可得出k。由于当N不断增加，![\\log\\,\(1-\\alpha\)](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFkAAAAVBAMAAADfv1+LAAAAMFBMVEX///+enp5iYmIWFhbm5uZQUFBAQEAMDAx0dHQEBATMzMyKiooiIiIwMDC2trYAAAC/J3wpAAAAAXRSTlMAQObYZgAAAZBJREFUKBWlj79Lw0AUx7/V1LRXkxYcnIQg6KCDHfoH3OQgSguK1C121cGhQ8YO/h7q2jGILkLBRQtOnUQURBHcqgFB7SCiiyBofdeElGvSyTfce9/P+967d8D/YqLX9TI13q7kbuIYUEyZuUrjAKvInSrJl7rMXMVuKFty5wGYm6/LzFO3lLvcaUJa3evLaYSk7I6ZhHq4k203y29wxAormylgkD4ZdE/nc4T7qW/hibMiamjqNhEnxB3JYBElaCXhpl3ucY6kGBvnIe6sg3eWQpQesPRvYAerrlvs5m3CjkSI23dAdh/oM8mdIPceb/IacSQ5He4vqw0RBulP4pOeW8yewmtecMRtOly3kO1gHzTbBAYMsXcFaGDX7agO5S638ktu4hp9zMIw14s4PeDka/8bWlqUnbgA20rZUB08f+X0wjhHvNW6pH7MBKKPPwtUdmJ6uxwpAKpPlGvMLJFS1nwUKE58ImaqNsllHwUK8bYbLAMMiXLWA8Gkmx12ODpmCBUx6AgNLYyehUHB1oE/2BJfHpx0zdUAAAAASUVORK5CYII=)
将趋向![-2 \\over
N+1](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAArBAMAAADF1raWAAAAMFBMVEX///8MDAyKioqenp4EBAR0dHQWFhYiIiJAQEBQUFC2trZiYmIwMDDm5ubMzMwAAAB2WP43AAAAAXRSTlMAQObYZgAAASZJREFUOBFjYEAFK9snoArAeVwbGMrgHFQGBwPD+gBUIRiPZQID/wEYB5Vma2DgL0AVQuK934DEQWVOuYDKR/C4fiHYEBbfOxAAamAzQJd6cwYEgNYcQpeB87kVGBbAOagMVQaGCagiMB5X9u6dQFOxAZb///8rYJMYTmJAP+IAdPbl9m8MDNe/HEC19QaYy1W/gIHhLKoMlziYz/2+gYEBNf54T6aDpTh5PjDwBkB0sUMoBobjYAY381cGpgdYpRYziDFwQ1Wj6Ypl2P8Ah9QGhvsTrmLXtYGB3cEKqxSfAgPzJ7DbOdLSUtLSIM4Gu5D1AgODO8xbqM4AuWA+dilgzmZ4vwDdrmNAAR5/YPDxQGUYYAbO+X8SaA8KgEmhCEI4cO1ALgB/mWHh51dJXgAAAABJRU5ErkJggg==)，简化后
_k_
大约等于![3.45\\times\(N+1\)](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAAVBAMAAAB2y5cfAAAAMFBMVEX///90dHTMzMwWFhYwMDAiIiKenp6KiooEBAQMDAzm5uZAQEBiYmJQUFC2trYAAACCsXSaAAAAAXRSTlMAQObYZgAAAh1JREFUOBG1U01rE1EUPdNOJslkMpN1sZCF6LKBoIguGimlxVLrsqjQ+QcpLlVQoTtB6sKtvC66ktKsqm0Ex26LEMGNlMKU4kokoqILrfXc9zKmHTLufItz7zn3nvc1b4D/O7azp7di1j692TIdpSqGb+cbhiSYXwS8hRrchaVEMvEZwxXAj7BphG6M4Ohr1ZAET0vy4Tdgq0TS0X/CwGL5Pu6FWnkVwz5lUs01XBXc/skt9DVm7uw5oh3CudazW1y9fKJHSE2gMwesSALkTAAmmTgNYdMCWBnr2yvkZ0S0WoJRs4JbkqTs+EzFf6QLEe2l16M636F6UbLcIsEPizVEQtP289zB+1B0P6TdhlUTUm7hQEkyHBMs5X0ZbL8sPTcEPNDO8UMAu2ZxFBSJB/fQrYicXn1PpG5EGOnZH4qC8oTSMRDkpc87seYnrw478BUCbpizc/XngHxPHmXJdAeK8SzQvCu8VK9fqNflk5mbp329gWAZyLfbczPqEDCrH6y1dFOhyjACFG5qmt78SxRDjJnWbowOhr5LH0++q/uLMUPEw/zSNG2fghfihXIfs9qMsY+cnorXzsvnsCsEZkN8tnr8fTYTQp8Cd9pbcB/wYOOX4OzpT4HrLL2Vujyb6W8KaAjjSOzvjmYVsKy1bHDTDYldW/KdbKepbKQa7OM8Vz3OBuWrg8RE+5gkmdGJMkv9C/lHS+9PG9RhKfwBDn92kTGfkhoAAAAASUVORK5CYII=)。

  

##  其他加权

有时计算移动平均时会加入其他变量，例如，交易量加权会加入交易量的因素。

  

