---
title: 让APK签名文件生成后变的更加小！
categories: 一些记录
tags: 
---
对于现在开发者各种第三方库，需求加大。APK文件避免不了越来越大。这里使用一个.exe压缩算法 GOOGLE的官方工具，

> https://github.com/google/zopfli

但是我们直接在文件里面\sdk\build-tools\23.0.2 里面的zipalign.exe

步骤：

  1. 首先打开CMD命令界面进入到此工具文件夹下 
  2. zipalign -z 4 old.apk new.apk执行这个命令
  3. 然后没然后了。等待吧，更加高效的ZIP压缩事件越久；

各个命令解释：  
4 表示 32位对齐 好像也只有32位对齐。。  
-z 表示再压缩   
-c 检测是否已经压缩过   
-v 详细的压缩过程展示   
-p 再检验校正目标APK

**查询官方查看可能有百分之8左右的压缩率 10mAPK可以小差不多1M其实还不错的！**  
![这里写图片描述](data:image/png;base64,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)  
使用Gradle 命令

    
    
    release {     
                    //Zipalign优化
                    zipAlignEnabled true
                    // 移除无用的resource文件
                    shrinkResources true
                }

