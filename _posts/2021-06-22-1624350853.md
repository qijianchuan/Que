---
title: MongoDB之——mongod参数说明
categories: 精通分布式数据库系列
tags: MongoDB
---
转载请注明出处：https://blog.csdn.net/l1028386804/article/details/79980746  

最简单的，通过执行 mongod 即可以启动 MongoDB 数据库服务， mongod
支持很多的参数，但都有默认值，其中最重要的是需要指定数据文件路径，或者确保默认的/data/db 存在并且有访问权限，否则启动后会自动关闭服务。
Ok，那也就是说，只要确保 dbpath 就可以启动MongoDB 服务了  
mongod 的主要参数有：  

  * dbpath:

数据文件存放路径，每个数据库会在其中创建一个子目录，用于防止同一个实例多次运行的 mongod.lock 也保存在此目录中。  

  * logpath

错误日志文件  

  * logappend

错误日志采用追加模式（默认是覆写模式）  

  * bind_ip

对外服务的绑定 ip，一般设置为空，及绑定在本机所有可用 ip 上，如有需要可以单独指定  

  * port

对外服务端口。 Web 管理端口在这个 port 的基础上+1000  

  * fork

以后台 Daemon 形式运行服务  

  * journal

开启日志功能，通过保存操作日志来降低单机故障的恢复时间，在 1.8 版本后正式加入，取代在 1.7.5 版本中的 dur 参数。  

  * syncdelay

系统同步刷新磁盘的时间，单位为秒，默认是 60 秒。  

  * directoryperdb

每个 db 存放在单独的目录中，建议设置该参数。与 MySQL 的独立表空间类似  

  * maxConns

最大连接数  

  * repairpath

执行 repair 时的临时目录。在如果没有开启 journal，异常 down 机后重启，必须执行 repair操作。  
在源代码中， mongod 的参数分为一般参数， windows 参数， replication 参数， replica set
参数，以及隐含参数。上面列举的都是一般参数。如果要配置 replication， replica set
等，还需要设置对应的参数，这里先不展开，后续会有专门的章节来讲述。执行 mongod --help
可以看到对大多数参数的解释，但有一些隐含参数，则只能通过看代码来获得(见 db.cpppo::options_description
hidden_options(“Hidden options”
);)，隐含参数一般要么是还在开发中，要么是准备废弃，因此在生产环境中不建议使用。可能你已经注意到， mongod
的参数中，没有设置内存大小相关的参数，是的， MongoDB 使用 os mmap
机制来缓存数据文件数据，自身目前不提供缓存机制。这样好处是代码简单，mmap
在数据量不超过内存时效率很高。但是数据量超过系统可用内存后，则写入的性能可能不太稳定，容易出现大起大落，不过在最新的 1.8
版本中，这个情况相对以前的版本已经有了一定程度的改善。这么多参数，全面写在命令行中则容易杂乱而不好管理。因此， mongod
支持将参数写入到一个配置文本文件中，然后通过 config 参数来引用此配置文件：  

    
    
    ./mongod --config /etc/mongo.cnf

  

  

