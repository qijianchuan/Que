---
title: Windows下安装Memcache 使用memcached for Win32
categories: J2EE Eclipse
tags: memcached windows 缓存服务器 服务器 extension php
---
Windows下的Memcache安装：  
1.下载memcached for
Win32，可以到http://code.jellycan.com/memcached/里查找下，解压到某盘下面，我是放在h:\memcached  
2.在终端下输入 h:\memcached\memcached.exe -d install安装  
3.再输入h:\memcached\memcached.exe -d start,这样就启动了Memcache  
4.下载php_memcache.dll放入php安装目录中的ext目录下  
5.修改php.ini,加入一行extension=php_memcache.dll  
6.重启Apache，查看一下phpinfo，如果出现memcache，那么就说明安装成功！

memcached的基本设置：  
-p 监听的端口  
-l 连接的IP地址, 默认是本机  
-d start 启动memcached服务  
-d restart 重起memcached服务  
-d stop|shutdown 关闭正在运行的memcached服务  
-d install 安装memcached服务  
-d uninstall 卸载memcached服务  
-u 以的身份运行 (仅在以root运行的时候有效)  
-m 最大内存使用，单位MB。默认64MB  
-M 内存耗尽时返回错误，而不是删除项  
-c 最大同时连接数，默认是1024  
-f 块大小增长因子，默认是1.25  
-n 最小分配空间，key+value+flags默认是48  
-h 显示帮助

Memcache — Memcache类:  
Memcache::add — 增加一个条目到缓存服务器  
Memcache::addServer — 向连接池中添加一个memcache服务器  
Memcache::close — 关闭memcache连接  
Memcache::connect — 打开一个memcached服务端连接  
Memcache::decrement — 减小元素的值  
Memcache::delete — 从服务端删除一个元素  
Memcache::flush — 清洗（删除）已经存储的所有的元素  
Memcache::get — 从服务端检回一个元素  
Memcache::getExtendedStats — 缓存服务器池中所有服务器统计信息  
Memcache::getServerStatus — 用于获取一个服务器的在线/离线状态  
Memcache::getStats — 获取服务器统计信息  
Memcache::getVersion — 返回服务器版本信息  
Memcache::increment — 增加一个元素的值  
Memcache::pconnect — 打开一个到服务器的持久化连接  
Memcache::replace — 替换已经存在的元素的值  
Memcache::set — Store data at the server  
Memcache::setCompressThreshold — 开启大值自动压缩  
Memcache::setServerParams — 运行时修改服务器参数和状态

