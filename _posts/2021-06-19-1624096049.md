---
title: java 调用 python(使用jpython)
categories: 
tags: python java
---
mavan 本人测试使用以下可用

    
    
    <dependency>
        <groupId>org.python</groupId>
        <artifactId>jython-standalone</artifactId>
        <version>2.7.0</version>
    </dependency>

  
注意使用下面的maven下的包会有问题，不要使用这个

    
    
    <dependency>
        <groupId>org.python</groupId>
        <artifactId>jython</artifactId>
        <version>2.7.0</version>
    </dependency>

  
  

  

  

1.在Java类中直接执行Python语句

view plain

  1. **import** javax.script.*; 
  2.   3. **import** org.python.util.PythonInterpreter; 
  4.   5. **import** java.io.*; 
  6. **import** **static** java.lang.System.*; 
  7. **public** **class** FirstJavaScript 
  8. { 
  9. **public** **static** **void** main(String args[]) 
  10. { 
  11.   12. PythonInterpreter interpreter = **new** PythonInterpreter(); 
  13. interpreter.exec("days=('mod','Tue','Wed','Thu','Fri','Sat','Sun'); "); 
  14. interpreter.exec("print days[1];"); 
  15.   16.   17. }//main
  18. } 

  
这样得到的结果是Tue，在控制台显示出来，这是直接进行调用的。

2.在java中调用本机python脚本中的函数：

首先建立一个python脚本，名字为：my_utils.py

view plain

  1. **def** adder(a, b): 
  2. **return** a + b 

然后建立一个java类，用来测试，

java类代码 FirstJavaScript：

view plain

  1. **import** javax.script.*; 
  2.   3. **import** org.python.core.PyFunction; 
  4. **import** org.python.core.PyInteger; 
  5. **import** org.python.core.PyObject; 
  6. **import** org.python.util.PythonInterpreter; 
  7.   8. **import** java.io.*; 
  9. **import** **static** java.lang.System.*; 
  10. **public** **class** FirstJavaScript 
  11. { 
  12. **public** **static** **void** main(String args[]) 
  13. { 
  14.   15. PythonInterpreter interpreter = **new** PythonInterpreter(); 
  16. interpreter.execfile("C:\\\Python27\\\programs\\\my_utils.py"); 
  17. PyFunction func = (PyFunction)interpreter.get("adder",PyFunction. **class** ); 
  18.   19. **int** a = 2010, b = 2 ; 
  20. PyObject pyobj = func.__call__( **new** PyInteger(a), **new** PyInteger(b)); 
  21. System.out.println("anwser = " \+ pyobj.toString()); 
  22.   23.   24. }//main
  25. } 

得到的结果是：anwser = 2012

3.使用java直接执行python脚本，

建立脚本inputpy

view plain

  1. #open files
  2.   3. **print** 'hello'
  4. number=[3,5,2,0,6] 
  5. **print** number 
  6. number.sort() 
  7. **print** number 
  8. number.append(0) 
  9. **print** number 
  10. **print** number.count(0) 
  11. **print** number.index(5) 

  
建立java类，调用这个脚本：

view plain

  1. **import** javax.script.*; 
  2.   3. **import** org.python.core.PyFunction; 
  4. **import** org.python.core.PyInteger; 
  5. **import** org.python.core.PyObject; 
  6. **import** org.python.util.PythonInterpreter; 
  7.   8. **import** java.io.*; 
  9. **import** **static** java.lang.System.*; 
  10. **public** **class** FirstJavaScript 
  11. { 
  12. **public** **static** **void** main(String args[]) 
  13. { 
  14.   15. PythonInterpreter interpreter = **new** PythonInterpreter(); 
  16. interpreter.execfile("C:\\\Python27\\\programs\\\input.py"); 
  17. }//main
  18. } 

  
得到的结果是：

view plain

  1. hello 
  2. [3, 5, 2, 0, 6] 
  3. [0, 2, 3, 5, 6] 
  4. [0, 2, 3, 5, 6, 0] 
  5. 2 
  6. 3 
  7. 

  

