---
title: Hadoop之——crontab 定时运行 hadoop 任务（以Hadoop用户身份运行crontab报错）
categories: 精通运维系列 精通大数据系列
tags: Hadoop crontab CentOS
---
转载请注明出处：https://blog.csdn.net/l1028386804/article/details/95964457

### 问题：

在/etc/crontab 里添加任务，想以hadoop 用户去执行这个脚本。

    
    
    */5 * * * * hadoop /bin/sh /home/hadoop/runhadoop.sh

一直报错，如下：

    
    
    crontab Error creating temp dir in hadoop.tmp.dir file:due to Permission den

### 解决方案：

将当前用户切换到hadoop

    
    
    su hadoop

输入如下命令配置crontab。

    
    
    crontab -e
    */5 * * * * /bin/sh /home/hadoop/run_hadoop_program.sh

切到root用户下重启crond

    
    
    su root
    service crond restart

就生效了。

注意：需要在shell脚本里，把hadoop 环境变量都加上。

