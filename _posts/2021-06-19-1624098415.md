---
title: zabbix3 mysql8.0_【Zabbix学习笔记】六、LNMP之Mysql8.0.18源码编译安装
categories: 
tags: zabbix3 mysql8.0
---
Mysql 数据库

是一种关系型数据库管理软件，关系型数据库特点是将数据库保存在不同的二维表(Excel)中，并且将这些表放入不同的数据库中，而不是把所有数据统一放在一个大仓库里，这样的设计增加了Mysql的读取速度，灵活性和可管理性也得到了很大提高。访问及管理Mysql数据库的最常用标准化语言为SQL结构化查询语言。

源码安装mysql，其中两个版本对编译环境有要求

1\. mysql从5.5版本开始，不再使用./configure编译，而是使用cmake编译器。

2\. mysql从8.0.16版本开始，要求cmake的版本是cmake3以上

3\.
centos7.6默认安装的是cmake2.8.12.2和gcc4.8.5，这是为考虑向下兼容centos6.2及稳定性，但对编辑安装mysql8.0.16会形成阻碍，所以安装前建议升级cmake到cmake3以上.

环境设置

1.关闭selinux

vi /etc/selinux/config

//修改为

SELINUX=disabled

2.通过 rpm -qa | grep mariadb 命令查看 mariadb 的安装包

![7d6f55dd429684c521b4da26294c672d.png](data:image/png;base64,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)

3.通过 rpm -e mariadb-libs-5.5.60-1.el7_5.x86_64 –nodeps 命令卸载mariadb

4.通过 rpm -qa | grep mariadb 命令再次查看 mariadb 的安装包

安装源码准备

gmp-6.1.2.tar.xz，mpfr-4.0.2.tar.gz，mpc-1.1.0.tar.gz，gcc-9.2.0.tar.gz，cmake-3.15.2.tar.gz，mysql-
boost-8.0.18.tar.gz，

源码下载

编译安装GCC9.2

安装依赖

yum -y install epel-release

yum -y group install "Development Tools"

MYsql依赖：

yum -y install ncurses-devel openssl openssl-devel bison

2\. 安装gcc源码编译依赖 ，先编译gmp->mpfr->mpc，编译: gmp-6.1.2

cd /usr/local/src/

tar -xvf gmp-6.1.2.tar.xz

cd gmp-6.1.2

./configure --prefix=/usr/local/gmp-6.1.2

make -j $(nproc)

make install

cd ../

3\. 编译：mpfr-4.0.2

tar -xvf mpfr-4.0.2.tar.gz

cd mpfr-4.0.2

./configure --prefix=/usr/local/mpfr-4.0.2 --with-gmp=/usr/local/gmp-6.1.2

make -j $(nproc)

make install

cd ../

4.编译：mpc-1.1.0

tar -xvf mpc-1.1.0.tar.gz

cd mpc-1.1.0

./configure --prefix=/usr/local/mpc-1.1.0 --with-mpfr=/usr/local/mpfr-4.0.2
--with-gmp=/usr/local/gmp-6.1.2

make -j $(nproc)

make install

# 把mpfr lib 加入 ld.so.conf 不然gcc 编译报错

echo /usr/local/mpfr-4.0.2/lib >> /etc/ld.so.conf

ldconfig

5\. 编译安装gcc

cd /usr/local/src/

tar -xvf gcc-9.2.0.tar.gz

cd gcc-9.2.0

./configure --prefix=/usr/local/gcc-9.2.0 \

-enable-threads=posix \

-disable-checking \

-disable-multilib \

-enable-languages=c,c++ \

\--with-gmp=/usr/local/gmp-6.1.2 \

\--with-mpfr=/usr/local/mpfr-4.0.2 \

\--with-mpc=/usr/local/mpc-1.1.0 \

\--with-tune=generic \

\--with-arch_32=x86-64

make -j $(nproc)

make install -j $(nproc)

###备份旧 gcc 可执行文件

mv /usr/bin/gcc /usr/bin/gcc.old

mv /usr/bin/g++ /usr/bin/g++.old

mv /usr/bin/c++ /usr/bin/c++.old

mv /usr/bin/cpp /usr/bin/cpp.old

mv /usr/bin/gcov /usr/bin/gcov.old

### 创建最新gcc 执行文件软链

ln -sf /usr/local/gcc-9.2.0/bin/* /usr/bin/

### 删除lib64 目录下.py 文件不然ldconfig 报错

rm -rf /usr/local/gcc-9.2.0/lib64/libstdc++.so.6.0.27-gdb.py

echo /usr/local/gcc-9.2.0/lib64 >> /etc/ld.so.conf

ldconfig

### 复制libstdc++.so.6.0.27 /lib64/

cp /usr/local/gcc-9.2.0/lib64/libstdc++.so.6.0.27 /lib64/

###创建软链 libstdc++.so.6

cd /lib64

ln -sf libstdc++.so.6.0.27 libstdc++.so.6

### 查看是否最新版本

strings /usr/lib64/libstdc++.so.6 | grep GLIBCXX

编译安装cmake3.15.2

cd /usr/local/src

tar zxf cmake-3.15.2.tar.gz

cd cmake-3.15.2

./configure --prefix=/usr/local/cmake

make

make install

–prefix 参数是配置cmake的安装目录

做cmake命令软连接，查看cmake版本

ln -s /usr/local/cmake/bin/cmake /usr/bin/cmake

cmake --version

编译安装mysql8.0.18

1.目录设置

mkdir /usr/local/mysql/{data,tmp,logs} -p

mkdir -p /usr/local/mysql/logs/{mysqld,backup_mysqld}

2\. 创建mysql用户，授权

useradd mysql -s /sbin/nologin -M

chown -R mysql:mysql /usr/local

3.进入 /usr/local/src 目录

cd /usr/local/src

4\. mysql官网下载mysql-8.0.18，上传MySQL-8.0.18并解压

rz -ary --o-sync

tar -zxvf mysql-boost-8.0.18.tar.gz

yum -y install cmake3

cd mysql-8.0.18

5\. 上传boost_1_70_0.tar.gz 到/root/mysql-8.0.18/boost/boost_1_70_0目录或者自动下载

6\. 编译安装

cmake3 \

-DDEFAULT_CHARSET=utf8 \

-DDEFAULT_COLLATION=utf8_general_ci \

-DEXTRA_CHARSETS=all \

-DENABLED_LOCAL_INFILE=ON \

-DWITH_INNODB_MEMCACHED=ON \

-DDOWNLOAD_BOOST=1 \

-DWITH_BOOST=/root/mysql-8.0.18/boost/boost_1_70_0 \

-DCMAKE_INSTALL_PREFIX=/usr/local/mysql \

-DMYSQL_DATADIR=/data/mysql \

-DMYSQL_TCP_PORT=3306 \

-DWITHOUT_CSV_STORAGE_ENGINE=1 \

-DWITHOUT_FEDERATED_STORAGE_ENGINE=1 \

-DWITHOUT_ARCHIVE_STORAGE_ENGINE=1 \

-DFORCE_INSOURCE_BUILD=1 \

-DWITH_SSL=system \

-DWITH_ZLIB=system \

-DWITH_DEBUG=1 \

-DCMAKE_CXX_COMPILER=/usr/local/gcc-9.2.0/bin/g++ \

-DCMAKE_C_COMPILER=/usr/local/gcc-9.2.0/bin/gcc

make

make install

编译参数描述

-DCMAKE_INSTALL_PREFIX=/usr/local/mysql：MySQL安装的根目录

-DMYSQL_DATADIR=/data/mysql：数据文件所存放的目录

-DSYSCONFDIR=/etc ：MySQL配置文件所在目录

-DMYSQL_USER=mysql：MySQL服务的用户名

-DWITH_MYISAM_STORAGE_ENGINE=1：安装MyISAM引擎

-DWITH_INNOBASE_STORAGE_ENGINE=1：安装InnoDB引擎

-DWITH_ARCHIVE_STORAGE_ENGINE=1：安装Archive引擎

-DWITH_MEMORY_STORAGE_ENGINE=1：安装Memory引擎

-DWITH_FEDERATED_STORAGE_ENGINE=1：安装Federated引擎

-DWITH_PARTITION_STORAGE_ENGINE=1：安装Partition引擎

-DWITH_READLINE=1：MySQL的readline library

-DMYSQL_UNIX_ADDR=/tmp/mysql.sock：sock文件的路径

-DMYSQL_TCP_PORT=3306 ：MySQL的监听端口

-DENABLED_LOCAL_INFILE=1：启用加载本地数据

-DENABLE_DOWNLOADS=1：编译时允许自主下载相关文件

-DEXTRA_CHARSETS=all ：使MySQL支持所有的扩展字符

-DDEFAULT_CHARSET=utf8mb4：设置默认字符集为utf8mb4

-DDEFAULT_COLLATION=utf8mb4_general_ci：设置默认字符校对

-DWITH_DEBUG=0：禁用调试模式

-DMYSQL_MAINTAINER_MODE=0：是否启用mysql维护器特定的开发环境

-DDOWNLOAD_BOOST=1：允许在线更新boost库

-DWITH_BOOST=../boost：指定boost安装路径

提示错误1：

cmake问题CMake Error：Could not find CMAKE_ROOT!!!core dumped的问题，只要一条命令就可以解决：hash
-r

再运行cmake –version即可显示cmake版本信息

提示错误2：

Mysql问题Could NOT find Curses (missing: CURSES_LIBRARY
CURSES_INCLUDE_PATH)1、在根目录输命令find / -name CMakeCache.txt

2、删除mysql下的CMakeCache.txt

3、缺少ncurses-devel包，yum install -y ncurses-devel

提示错误3：

collect2: 错误：ld 返回 1删除mysql下的CMakeCache.txt

7.拷贝到启动脚本并添加执行权限

cp support-files/mysql.server /etc/init.d/mysqld

chmod a+x /etc/init.d/mysqld

8.mysql环境变量配置

export PATH=$PATH:/usr/local/mysql/bin:

echo 'export PATH=$PATH:/usr/local/mysql/bin' >> /etc/profile

10\. 使环境变量生效

source /etc/profile

11.初始化&启动数据库

#编辑配置文件

vi /data/conf/my.cnf

#建立软链接

ln -s /data/conf/my.cnf /etc/my.cnf

#初始化数据库

mysqld --defaults-file=/etc/my.cnf --initialize-insecure &

#启动数据库

/etc/init.d/mysqld start

#登陆后修改密码

mysql

alter user root@localhost identified by 'xxx';

