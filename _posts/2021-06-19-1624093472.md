---
title: tomcat部署之后 本机访问本地部署的网站打开一个页面非常慢
categories: 精通J2EE系列 精通Java系列
tags: java tomcat 数据库连接池 c3p0 mysql
---
tomcat部署之后 本机访问本地部署的网站打开一个页面非常慢。有时甚至会造成页面空白或直接卡死。

解决方法：是连接池出的问题。改用c3p0连接池。

将数据库连接池改用c3p0连接池。

    
    
    <bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource">
            <property name="driverClass" value="com.mysql.jdbc.Driver">
            </property>
            <property name="jdbcUrl"
                value="jdbc:mysql://localhost:3306/mldn">
            </property>
            <property name="user" value="root"></property>
            <property name="password" value="root"></property>
            <property name="minPoolSize" value="20" />
            <property name="maxPoolSize" value="200" />
            <property name="maxIdleTime" value="30" />
            <property name="acquireIncrement" value="2" />
            <property name="maxStatements" value="200" />
            <property name="initialPoolSize" value="10" />
            <property name="acquireRetryAttempts" value="60" />
            <property name="breakAfterAcquireFailure" value="false" />
            <property name="testConnectionOnCheckout" value="false" />
            <property name="acquireRetryDelay" value="1000" />
            <property name="idleConnectionTestPeriod" value="30"></property>
        </bean>

注意;以下这些语句不能改

    
    
    <property name="minPoolSize" value="20" />
            <property name="maxPoolSize" value="200" />
            <property name="maxIdleTime" value="30" />
            <property name="acquireIncrement" value="2" />
            <property name="maxStatements" value="200" />
            <property name="initialPoolSize" value="10" />
            <property name="acquireRetryAttempts" value="60" />
            <property name="breakAfterAcquireFailure" value="false" />
            <property name="testConnectionOnCheckout" value="false" />
            <property name="acquireRetryDelay" value="1000" />
            <property name="idleConnectionTestPeriod" value="30"></property>

  
  

否则也会造成同样的情况。

