---
title: 运行hadoop指令之——WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform....
categories: 
tags: 运行hadoop问题之——WARN util.NativeCodeLo
---
**每天都会遇到新的问题，每件事他没有唯一的解决方法，善于发现问题，善于解决问题，这是你走向成功的一门法宝，与其在问题困扰上纠结，还不如去尝试解决的方法，，**  
——————————送给正在寻找答案的你  
今天发现的问题  
配置完hadoop启动的时候出现如下警告信息但是会正常显示结果：  
[hadoop@hadoop001 bin]$ hadoop fs -ls /  
**18/11/30 14:39:37 WARN util.NativeCodeLoader: Unable to load native-hadoop
library for your platform… using builtin-java classes where applicable**  
Found 3 items  
drwxr-xr-x - hadoop supergroup 0 2018-11-20 17:15 /ruoze_emp_external  
drwx------ - hadoop supergroup 0 2018-11-19 23:22 /tmp  
drwxr-xr-x - hadoop supergroup 0 2018-11-20 11:23 /user  
1.问题:为什么会有警告?  
提示不能加载本地hadoop库…虽然能运行, 但是有警告是不是看着很不爽?

那就让我们先来查看一下依赖库

\---->进入hadoop安装目录  
[hadoop@hadoop001 hadoop-2.6.0-cdh5.7.0]$ cd lib  
[hadoop@hadoop001 lib]$ ll  
total 4  
drwxr-xr-x 2 hadoop hadoop 4096 Mar 24 2016 native  
[hadoop@hadoop001 lib]$ ls  
native  
[hadoop@hadoop001 lib]$ cd native  
[hadoop@hadoop001 native]$ ll  
total 0  
[hadoop@hadoop001 native]$ ldd libhadoop.so.1.0.0  
ldd: ./libhadoop.so.1.0.0: No such file or directory  
[hadoop@hadoop001 native]$ ldd libhadoop.so.1.0  
ldd: ./libhadoop.so.1.0: No such file or directory  
[hadoop@hadoop001 native]$ ldd --version  
ldd (GNU libc) 2.17  
Copyright © 2012 Free Software Foundation, Inc.  
This is free software; see the source for copying conditions. There is NO  
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  
Written by Roland McGrath and Ulrich Drepper.  
现在两个办法，重新编译glibc.2.14版本，安装后专门给hadoop使用，这个有点危险。。  
我们一般不采用第一种方式  
去除警告信息  
找到hadoop的安装目录去编辑log4j.properties这个文件  
[hadoop@hadoop001 hadoop-2.6.0-cdh5.7.0]$ ll  
total 84  
drwxr-xr-x 6 hadoop hadoop 4096 Mar 24 2016 etc  
[hadoop@hadoop001 hadoop-2.6.0-cdh5.7.0]$ cd etc  
[hadoop@hadoop001 etc]$ ll  
total 16  
drwxr-xr-x 2 hadoop hadoop 4096 Nov 19 09:11 hadoop  
[hadoop@hadoop001 etc]$ cd hadoop  
[hadoop@hadoop001 hadoop]$ ll  
-rw-r–r-- 1 hadoop hadoop 1631 Mar 24 2016 kms-log4j.properties  
-rw-r–r-- 1 hadoop hadoop 5511 Mar 24 2016 kms-site.xml  
-rw-r–r-- 1 hadoop hadoop 11353 Nov 30 15:15 log4j.properties  
[hadoop@hadoop001 hadoop]$ vi ./log4j.properties  
开始编辑这个文件  
在文本的最后一行加上  
**log4j.logger.org.apache.hadoop.util.NativeCodeLoader=ERROR**  
就OK了  
让我来试验一下吧  
[hadoop@hadoop001 hadoop]$ hadoop fs -ls /  
Found 3 items  
drwxr-xr-x - hadoop supergroup 0 2018-11-20 17:15 /ruoze_emp_external  
drwx------ - hadoop supergroup 0 2018-11-19 23:22 /tmp  
drwxr-xr-x - hadoop supergroup 0 2018-11-20 11:23 /user  
解决看着是不是更好的

**问题并不可怕。可怕的是你不敢去尝试，尝试失败也不可怕，可怕的是你对下一次还有没有信心与勇气，世上没有解决的事，只有不去解决的人，，，**  
——–————-结束语：送给还在徘徊犹豫的你

